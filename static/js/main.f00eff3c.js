/*! For license information please see main.f00eff3c.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,f(v,x.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,s){var a,n={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,a)&&!_.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(1===o)n.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===n[a]&&(n[a]=o[a]);return{$$typeof:r,type:e,key:i,ref:l,props:n,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,n,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case s:o=!0}}if(o)return i=i(o=e),e=""===n?"."+E(o,0):n,j(i)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=""===n?".":n+":",j(e))for(var c=0;c<e.length;c++){var d=n+E(l=e[c],c);o+=A(l,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=A(l=l.value,t,a,d=n+E(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,r){if(null==e)return e;var s=[],a=0;return A(e,s,"","",function(e){return t.call(r,e,a++)}),s}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=F,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),n=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=w.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:r,type:e.type,key:n,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,r){return L.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,r){return L.current.useReducer(e,t,r)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return L.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},51:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(526);function a(e,t,r){return(t=(0,s.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},119:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(345)},340:(e,t,r)=>{e.exports=r(761)},345:(e,t,r)=>{var s=r(950),a=r(340);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,r,s,a,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,s){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,s){if(null===t||"undefined"===typeof t||function(e,t,r,s){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,s))return!0;if(s)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,s)&&(r=null),s||null===a?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,s=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,I=Object.assign;function M(e){if(void 0===O)try{throw Error()}catch(Ot){var t=Ot.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Lt){var s=Lt}Reflect.construct(e,[],t)}else{try{t.call()}catch(Lt){s=Lt}e.call(t.prototype)}else{try{throw Error()}catch(Lt){s=Lt}e()}}catch(Lt){if(Lt&&s&&"string"===typeof Lt.stack){for(var a=Lt.stack.split("\n"),n=s.stack.split("\n"),i=a.length-1,l=n.length-1;1<=i&&0<=l&&a[i]!==n[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==n[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==n[l]){var o="\n"+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return q(e(t))}catch(Ot){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){s=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=V(e)?e.checked?"true":"false":e.value),(e=s)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;r=Q(null!=t.value?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Y(e,t);var r=Q(t.value),s=t.type;if(null!=r)"number"===s?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Q(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(s&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(te(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Q(r)}}function ne(e,t){var r=Q(t.value),s=Q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=s&&(e.defaultValue=""+s)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var s=0===r.indexOf("--"),a=pe(r,t[r],s);"float"===r&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(n(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,we=null;function _e(e){if(e=Sa(e)){if("function"!==typeof je)throw Error(n(280));var t=e.stateNode;t&&(t=Aa(t),je(e.stateNode,e.type,t))}}function ke(e){Ne?we?we.push(e):we=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=we;if(we=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Se(e,t){return e(t)}function Ee(){}var Ae=!1;function Pe(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Se(e,t,r)}finally{Ae=!1,(null!==Ne||null!==we)&&(Ee(),Ce())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var s=Aa(r);if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(n(231,t,typeof r));return r}var Le=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(Rt){Le=!1}function De(e,t,r,s,a,n,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Fe=!1,Oe=null,Ie=!1,Me=null,Ue={onError:function(e){Fe=!0,Oe=e}};function ze(e,t,r,s,a,n,i,l,o){Fe=!1,Oe=null,De.apply(Ue,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(n(188))}function Qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(s=a.return)){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return He(a),e;if(i===s)return He(a),t;i=i.sibling}throw Error(n(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e),null!==e?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Ge=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,Je=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,st=null,at=null;var nt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ot=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var r=e.pendingLanes;if(0===r)return 0;var s=0,a=e.suspendedLanes,n=e.pingedLanes,i=268435455&r;if(0!==i){var l=i&~a;0!==l?s=dt(l):0!==(n&=i)&&(s=dt(n))}else 0!==(i=r&~a)?s=dt(i):0!==n&&(s=dt(n));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(n=t&-t)||16===a&&0!==(4194240&n)))return t;if(0!==(4&s)&&(s|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)a=1<<(r=31-nt(t)),s|=e[r],t&=~a;return s}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-nt(t)]=r}function xt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-nt(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,jt,Nt,wt,_t,kt=!1,Ct=[],St=null,Et=null,At=null,Dt=new Map,Ft=new Map,It=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function qt(e,t,r,s,a,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:n,targetContainers:[a]},null!==t&&(null!==(t=Sa(t))&&jt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Qt(e){var t=Ca(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void _t(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=rr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Sa(r))&&jt(t),e.blockedOn=r,!1;var s=new(r=e.nativeEvent).constructor(r.type,r);ye=s,r.target.dispatchEvent(s),ye=null,t.shift()}return!0}function Wt(e,t,r){Vt(e)&&r.delete(t)}function $t(){kt=!1,null!==St&&Vt(St)&&(St=null),null!==Et&&Vt(Et)&&(Et=null),null!==At&&Vt(At)&&(At=null),Dt.forEach(Wt),Ft.forEach(Wt)}function Xt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$t)))}function Kt(e){function t(t){return Xt(t,e)}if(0<Ct.length){Xt(Ct[0],e);for(var r=1;r<Ct.length;r++){var s=Ct[r];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==St&&Xt(St,e),null!==Et&&Xt(Et,e),null!==At&&Xt(At,e),Dt.forEach(t),Ft.forEach(t),r=0;r<It.length;r++)(s=It[r]).blockedOn===e&&(s.blockedOn=null);for(;0<It.length&&null===(r=It[0]).blockedOn;)Qt(r),null===r.blockedOn&&It.shift()}var Gt=v.ReactCurrentBatchConfig,Yt=!0;function Zt(e,t,r,s){var a=bt,n=Gt.transition;Gt.transition=null;try{bt=1,er(e,t,r,s)}finally{bt=a,Gt.transition=n}}function Jt(e,t,r,s){var a=bt,n=Gt.transition;Gt.transition=null;try{bt=4,er(e,t,r,s)}finally{bt=a,Gt.transition=n}}function er(e,t,r,s){if(Yt){var a=rr(e,t,r,s);if(null===a)Zs(e,t,s,tr,r),Ut(e,s);else if(function(e,t,r,s,a){switch(t){case"focusin":return St=qt(St,e,t,r,s,a),!0;case"dragenter":return Et=qt(Et,e,t,r,s,a),!0;case"mouseover":return At=qt(At,e,t,r,s,a),!0;case"pointerover":var n=a.pointerId;return Dt.set(n,qt(Dt.get(n)||null,e,t,r,s,a)),!0;case"gotpointercapture":return n=a.pointerId,Ft.set(n,qt(Ft.get(n)||null,e,t,r,s,a)),!0}return!1}(a,e,t,r,s))s.stopPropagation();else if(Ut(e,s),4&t&&-1<Mt.indexOf(e)){for(;null!==a;){var n=Sa(a);if(null!==n&&vt(n),null===(n=rr(e,t,r,s))&&Zs(e,t,s,tr,r),n===a)break;a=n}null!==a&&s.stopPropagation()}else Zs(e,t,s,null,r)}}var tr=null;function rr(e,t,r,s){if(tr=null,null!==(e=Ca(e=ve(s))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tr=e,null}function sr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case Je:return 4;case et:case tt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var ar=null,nr=null,ir=null;function lr(){if(ir)return ir;var e,t,r=nr,s=r.length,a="value"in ar?ar.value:ar.textContent,n=a.length;for(e=0;e<s&&r[e]===a[e];e++);var i=s-e;for(t=1;t<=i&&r[s-t]===a[n-t];t++);return ir=a.slice(e,1<t?1-t:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function cr(){return!0}function ur(){return!1}function mr(e){function t(t,r,s,a,n){for(var i in this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?cr:ur,this.isPropagationStopped=ur,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),t}var hr,pr,fr,gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=mr(gr),br=I({},gr,{view:0,detail:0}),yr=mr(br),vr=I({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&"mousemove"===e.type?(hr=e.screenX-fr.screenX,pr=e.screenY-fr.screenY):pr=hr=0,fr=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:pr}}),jr=mr(vr),Nr=mr(I({},vr,{dataTransfer:0})),wr=mr(I({},br,{relatedTarget:0})),_r=mr(I({},gr,{animationName:0,elapsedTime:0,pseudoElement:0})),kr=I({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cr=mr(kr),Er=mr(I({},gr,{data:0})),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Rr(){return Lr}var Dr=I({},br,{key:function(e){if(e.key){var t=Ar[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=or(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?or(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?or(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fr=mr(Dr),Or=mr(I({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ir=mr(I({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr})),Mr=mr(I({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ur=I({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zr=mr(Ur),Br=[9,13,27,32],qr=d&&"CompositionEvent"in window,Hr=null;d&&"documentMode"in document&&(Hr=document.documentMode);var Qr=d&&"TextEvent"in window&&!Hr,Vr=d&&(!qr||Hr&&8<Hr&&11>=Hr),Wr=String.fromCharCode(32),$r=!1;function Xr(e,t){switch(e){case"keyup":return-1!==Br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gr=!1;var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yr[e.type]:"textarea"===t}function Jr(e,t,r,s){ke(s),0<(t=ea(t,"onChange")).length&&(r=new xr("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var es=null,ts=null;function rs(e){Ws(e,0)}function ss(e){if($(Ea(e)))return e}function as(e,t){if("change"===e)return t}var ns=!1;if(d){var is;if(d){var ls="oninput"in document;if(!ls){var os=document.createElement("div");os.setAttribute("oninput","return;"),ls="function"===typeof os.oninput}is=ls}else is=!1;ns=is&&(!document.documentMode||9<document.documentMode)}function cs(){es&&(es.detachEvent("onpropertychange",ds),ts=es=null)}function ds(e){if("value"===e.propertyName&&ss(ts)){var t=[];Jr(t,ts,e,ve(e)),Pe(rs,t)}}function us(e,t,r){"focusin"===e?(cs(),ts=r,(es=t).attachEvent("onpropertychange",ds)):"focusout"===e&&cs()}function ms(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ss(ts)}function hs(e,t){if("click"===e)return ss(t)}function ps(e,t){if("input"===e||"change"===e)return ss(t)}var fs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gs(e,t){if(fs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!u.call(t,a)||!fs(e[a],t[a]))return!1}return!0}function xs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bs(e,t){var r,s=xs(e);for(e=0;s;){if(3===s.nodeType){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xs(s)}}function ys(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ys(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vs(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(zt){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function js(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ns(e){var t=vs(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ys(r.ownerDocument.documentElement,r)){if(null!==s&&js(r))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,n=Math.min(s.start,a);s=void 0===s.end?n:Math.min(s.end,a),!e.extend&&n>s&&(a=s,s=n,n=a),a=bs(r,n);var i=bs(r,s);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),n>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ws=d&&"documentMode"in document&&11>=document.documentMode,_s=null,ks=null,Cs=null,Ss=!1;function Es(e,t,r){var s=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Ss||null==_s||_s!==X(s)||("selectionStart"in(s=_s)&&js(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},Cs&&gs(Cs,s)||(Cs=s,0<(s=ea(ks,"onSelect")).length&&(t=new xr("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=_s)))}function As(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ps={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},Ts={},Ls={};function Rs(e){if(Ts[e])return Ts[e];if(!Ps[e])return e;var t,r=Ps[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ls)return Ts[e]=r[t];return e}d&&(Ls=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);var Ds=Rs("animationend"),Fs=Rs("animationiteration"),Os=Rs("animationstart"),Is=Rs("transitionend"),Ms=new Map,Us="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){Ms.set(e,t),o(t,[e])}for(var Bs=0;Bs<Us.length;Bs++){var qs=Us[Bs];zs(qs.toLowerCase(),"on"+(qs[0].toUpperCase()+qs.slice(1)))}zs(Ds,"onAnimationEnd"),zs(Fs,"onAnimationIteration"),zs(Os,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(Is,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Vs(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,s,a,i,l,o,c){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(n(198));var d=Oe;Fe=!1,Oe=null,Ie||(Ie=!0,Me=d)}}(s,t,void 0,e),e.currentTarget=null}function Ws(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==n&&a.isPropagationStopped())break e;Vs(a,l,c),n=o}else for(i=0;i<s.length;i++){if(o=(l=s[i]).instance,c=l.currentTarget,l=l.listener,o!==n&&a.isPropagationStopped())break e;Vs(a,l,c),n=o}}}if(Ie)throw e=Me,Ie=!1,Me=null,e}function $s(e,t){var r=t[wa];void 0===r&&(r=t[wa]=new Set);var s=e+"__bubble";r.has(s)||(Ys(t,e,2,!1),r.add(s))}function Xs(e,t,r){var s=0;t&&(s|=4),Ys(r,e,s,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Gs(e){if(!e[Ks]){e[Ks]=!0,i.forEach(function(t){"selectionchange"!==t&&(Qs.has(t)||Xs(t,!1,e),Xs(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ks]||(t[Ks]=!0,Xs("selectionchange",!1,t))}}function Ys(e,t,r,s){switch(sr(t)){case 1:var a=Zt;break;case 4:a=Jt;break;default:a=er}r=a.bind(null,t,r,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),s?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zs(e,t,r,s,a){var n=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var i=s.tag;if(3===i||4===i){var l=s.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=s.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=Ca(l)))return;if(5===(o=i.tag)||6===o){s=n=i;continue e}l=l.parentNode}}s=s.return}Pe(function(){var s=n,a=ve(r),i=[];e:{var l=Ms.get(e);if(void 0!==l){var o=xr,c=e;switch(e){case"keypress":if(0===or(r))break e;case"keydown":case"keyup":o=Fr;break;case"focusin":c="focus",o=wr;break;case"focusout":c="blur",o=wr;break;case"beforeblur":case"afterblur":o=wr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=Nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ir;break;case Ds:case Fs:case Os:o=_r;break;case Is:o=Mr;break;case"scroll":o=yr;break;case"wheel":o=zr;break;case"copy":case"cut":case"paste":o=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Or}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var h,p=s;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Te(p,m))&&d.push(Js(p,f,h)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,r,a),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!Ca(c)&&!c[Na])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=s,null!==(c=(c=r.relatedTarget||r.toElement)?Ca(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=s),o!==c)){if(d=jr,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Or,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?l:Ea(o),h=null==c?l:Ea(c),(l=new d(f,p+"leave",o,r,a)).target=u,l.relatedTarget=h,f=null,Ca(a)===s&&((d=new d(m,p+"enter",c,r,a)).target=h,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,p=0,h=d=o;h;h=ta(h))p++;for(h=0,f=m;f;f=ta(f))h++;for(;0<p-h;)d=ta(d),p--;for(;0<h-p;)m=ta(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=ta(d),m=ta(m)}d=null}else d=null;null!==o&&ra(i,l,o,d,!1),null!==c&&null!==u&&ra(i,u,c,d,!0)}if("select"===(o=(l=s?Ea(s):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=as;else if(Zr(l))if(ns)g=ps;else{g=ms;var x=us}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=hs);switch(g&&(g=g(e,s))?Jr(i,g,r,a):(x&&x(e,l,s),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=s?Ea(s):window,e){case"focusin":(Zr(x)||"true"===x.contentEditable)&&(_s=x,ks=s,Cs=null);break;case"focusout":Cs=ks=_s=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,Es(i,r,a);break;case"selectionchange":if(ws)break;case"keydown":case"keyup":Es(i,r,a)}var b;if(qr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Gr?Xr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Vr&&"ko"!==r.locale&&(Gr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Gr&&(b=lr()):(nr="value"in(ar=a)?ar.value:ar.textContent,Gr=!0)),0<(x=ea(s,y)).length&&(y=new Er(y,e,null,r,a),i.push({event:y,listeners:x}),b?y.data=b:null!==(b=Kr(r))&&(y.data=b))),(b=Qr?function(e,t){switch(e){case"compositionend":return Kr(t);case"keypress":return 32!==t.which?null:($r=!0,Wr);case"textInput":return(e=t.data)===Wr&&$r?null:e;default:return null}}(e,r):function(e,t){if(Gr)return"compositionend"===e||!qr&&Xr(e,t)?(e=lr(),ir=nr=ar=null,Gr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(s=ea(s,"onBeforeInput")).length&&(a=new Er("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:s}),a.data=b))}Ws(i,t)})}function Js(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ea(e,t){for(var r=t+"Capture",s=[];null!==e;){var a=e,n=a.stateNode;5===a.tag&&null!==n&&(a=n,null!=(n=Te(e,r))&&s.unshift(Js(e,n,a)),null!=(n=Te(e,t))&&s.push(Js(e,n,a))),e=e.return}return s}function ta(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,r,s,a){for(var n=t._reactName,i=[];null!==r&&r!==s;){var l=r,o=l.alternate,c=l.stateNode;if(null!==o&&o===s)break;5===l.tag&&null!==c&&(l=c,a?null!=(o=Te(r,n))&&i.unshift(Js(r,o,l)):a||null!=(o=Te(r,n))&&i.push(Js(r,o,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var sa=/\r\n?/g,aa=/\u0000|\uFFFD/g;function na(e){return("string"===typeof e?e:""+e).replace(sa,"\n").replace(aa,"")}function ia(e,t,r){if(t=na(t),na(e)!==t&&r)throw Error(n(425))}function la(){}var oa=null,ca=null;function da(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ua="function"===typeof setTimeout?setTimeout:void 0,ma="function"===typeof clearTimeout?clearTimeout:void 0,ha="function"===typeof Promise?Promise:void 0,pa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ha?function(e){return ha.resolve(null).then(e).catch(fa)}:ua;function fa(e){setTimeout(function(){throw e})}function ga(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===s)return e.removeChild(a),void Kt(t);s--}else"$"!==r&&"$?"!==r&&"$!"!==r||s++;r=a}while(r);Kt(t)}function xa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ba(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),va="__reactFiber$"+ya,ja="__reactProps$"+ya,Na="__reactContainer$"+ya,wa="__reactEvents$"+ya,_a="__reactListeners$"+ya,ka="__reactHandles$"+ya;function Ca(e){var t=e[va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Na]||r[va]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ba(e);null!==e;){if(r=e[va])return r;e=ba(e)}return t}r=(e=r).parentNode}return null}function Sa(e){return!(e=e[va]||e[Na])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function Aa(e){return e[ja]||null}var Pa=[],Ta=-1;function La(e){return{current:e}}function Ra(e){0>Ta||(e.current=Pa[Ta],Pa[Ta]=null,Ta--)}function Da(e,t){Ta++,Pa[Ta]=e.current,e.current=t}var Fa={},Oa=La(Fa),Ia=La(!1),Ma=Fa;function Ua(e,t){var r=e.type.contextTypes;if(!r)return Fa;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a,n={};for(a in r)n[a]=t[a];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function za(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ba(){Ra(Ia),Ra(Oa)}function qa(e,t,r){if(Oa.current!==Fa)throw Error(n(168));Da(Oa,t),Da(Ia,r)}function Ha(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return r;for(var a in s=s.getChildContext())if(!(a in t))throw Error(n(108,H(e)||"Unknown",a));return I({},r,s)}function Qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,Ma=Oa.current,Da(Oa,e),Da(Ia,Ia.current),!0}function Va(e,t,r){var s=e.stateNode;if(!s)throw Error(n(169));r?(e=Ha(e,t,Ma),s.__reactInternalMemoizedMergedChildContext=e,Ra(Ia),Ra(Oa),Da(Oa,e)):Ra(Ia),Da(Ia,r)}var Wa=null,$a=!1,Xa=!1;function Ka(e){null===Wa?Wa=[e]:Wa.push(e)}function Ga(){if(!Xa&&null!==Wa){Xa=!0;var e=0,t=bt;try{var r=Wa;for(bt=1;e<r.length;e++){var s=r[e];do{s=s(!0)}while(null!==s)}Wa=null,$a=!1}catch(Pt){throw null!==Wa&&(Wa=Wa.slice(e+1)),We(Ze,Ga),Pt}finally{bt=t,Xa=!1}}return null}var Ya=[],Za=0,Ja=null,en=0,tn=[],rn=0,sn=null,an=1,nn="";function ln(e,t){Ya[Za++]=en,Ya[Za++]=Ja,Ja=e,en=t}function on(e,t,r){tn[rn++]=an,tn[rn++]=nn,tn[rn++]=sn,sn=e;var s=an;e=nn;var a=32-nt(s)-1;s&=~(1<<a),r+=1;var n=32-nt(t)+a;if(30<n){var i=a-a%5;n=(s&(1<<i)-1).toString(32),s>>=i,a-=i,an=1<<32-nt(t)+a|r<<a|s,nn=n+e}else an=1<<n|r<<a|s,nn=e}function cn(e){null!==e.return&&(ln(e,1),on(e,1,0))}function dn(e){for(;e===Ja;)Ja=Ya[--Za],Ya[Za]=null,en=Ya[--Za],Ya[Za]=null;for(;e===sn;)sn=tn[--rn],tn[rn]=null,nn=tn[--rn],tn[rn]=null,an=tn[--rn],tn[rn]=null}var un=null,mn=null,hn=!1,pn=null;function fn(e,t){var r=zc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function gn(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,un=e,mn=xa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,un=e,mn=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==sn?{id:an,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=zc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,un=e,mn=null,!0);default:return!1}}function xn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bn(e){if(hn){var t=mn;if(t){var r=t;if(!gn(e,t)){if(xn(e))throw Error(n(418));t=xa(r.nextSibling);var s=un;t&&gn(e,t)?fn(s,r):(e.flags=-4097&e.flags|2,hn=!1,un=e)}}else{if(xn(e))throw Error(n(418));e.flags=-4097&e.flags|2,hn=!1,un=e}}}function yn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;un=e}function vn(e){if(e!==un)return!1;if(!hn)return yn(e),hn=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!da(e.type,e.memoizedProps)),t&&(t=mn)){if(xn(e))throw jn(),Error(n(418));for(;t;)fn(e,t),t=xa(t.nextSibling)}if(yn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){mn=xa(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}mn=null}}else mn=un?xa(e.stateNode.nextSibling):null;return!0}function jn(){for(var e=mn;e;)e=xa(e.nextSibling)}function Nn(){mn=un=null,hn=!1}function wn(e){null===pn?pn=[e]:pn.push(e)}var _n=v.ReactCurrentBatchConfig;function kn(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var s=r.stateNode}if(!s)throw Error(n(147,e));var a=s,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function Cn(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sn(e){return(0,e._init)(e._payload)}function En(e){function t(t,r){if(e){var s=t.deletions;null===s?(t.deletions=[r],t.flags|=16):s.push(r)}}function r(r,s){if(!e)return null;for(;null!==s;)t(r,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function i(t,r,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<r?(t.flags|=2,r):s:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,s){return null===t||6!==t.tag?((t=Wc(r,e.mode,s)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,s){var n=r.type;return n===w?u(e,t,r.props.children,s,r.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===L&&Sn(n)===t.type)?((s=a(t,r.props)).ref=kn(e,t,r),s.return=e,s):((s=Hc(r.type,r.key,r.props,null,e.mode,s)).ref=kn(e,t,r),s.return=e,s)}function d(e,t,r,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$c(r,e.mode,s)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,s,n){return null===t||7!==t.tag?((t=Qc(r,e.mode,s,n)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Wc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Hc(t.type,t.key,t.props,null,e.mode,r)).ref=kn(e,null,t),r.return=e,r;case N:return(t=$c(t,e.mode,r)).return=e,t;case L:return m(e,(0,t._init)(t._payload),r)}if(te(t)||F(t))return(t=Qc(t,e.mode,r,null)).return=e,t;Cn(e,t)}return null}function h(e,t,r,s){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:o(e,t,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,s):null;case N:return r.key===a?d(e,t,r,s):null;case L:return h(e,t,(a=r._init)(r._payload),s)}if(te(r)||F(r))return null!==a?null:u(e,t,r,s,null);Cn(e,r)}return null}function p(e,t,r,s,a){if("string"===typeof s&&""!==s||"number"===typeof s)return o(t,e=e.get(r)||null,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return c(t,e=e.get(null===s.key?r:s.key)||null,s,a);case N:return d(t,e=e.get(null===s.key?r:s.key)||null,s,a);case L:return p(e,t,r,(0,s._init)(s._payload),a)}if(te(s)||F(s))return u(t,e=e.get(r)||null,s,a,null);Cn(t,s)}return null}function f(a,n,l,o){for(var c=null,d=null,u=n,f=n=0,g=null;null!==u&&f<l.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=h(a,u,l[f],o);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(a,u),n=i(x,n,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===l.length)return r(a,u),hn&&ln(a,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(a,l[f],o))&&(n=i(u,n,f),null===d?c=u:d.sibling=u,d=u);return hn&&ln(a,f),c}for(u=s(a,u);f<l.length;f++)null!==(g=p(u,a,f,l[f],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),n=i(g,n,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),hn&&ln(a,f),c}function g(a,l,o,c){var d=F(o);if("function"!==typeof d)throw Error(n(150));if(null==(o=d.call(o)))throw Error(n(151));for(var u=d=null,f=l,g=l=0,x=null,b=o.next();null!==f&&!b.done;g++,b=o.next()){f.index>g?(x=f,f=null):x=f.sibling;var y=h(a,f,b.value,c);if(null===y){null===f&&(f=x);break}e&&f&&null===y.alternate&&t(a,f),l=i(y,l,g),null===u?d=y:u.sibling=y,u=y,f=x}if(b.done)return r(a,f),hn&&ln(a,g),d;if(null===f){for(;!b.done;g++,b=o.next())null!==(b=m(a,b.value,c))&&(l=i(b,l,g),null===u?d=b:u.sibling=b,u=b);return hn&&ln(a,g),d}for(f=s(a,f);!b.done;g++,b=o.next())null!==(b=p(f,a,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),l=i(b,l,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),hn&&ln(a,g),d}return function e(s,n,i,o){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=n;null!==d;){if(d.key===c){if((c=i.type)===w){if(7===d.tag){r(s,d.sibling),(n=a(d,i.props.children)).return=s,s=n;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&Sn(c)===d.type){r(s,d.sibling),(n=a(d,i.props)).ref=kn(s,d,i),n.return=s,s=n;break e}r(s,d);break}t(s,d),d=d.sibling}i.type===w?((n=Qc(i.props.children,s.mode,o,i.key)).return=s,s=n):((o=Hc(i.type,i.key,i.props,null,s.mode,o)).ref=kn(s,n,i),o.return=s,s=o)}return l(s);case N:e:{for(d=i.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(s,n.sibling),(n=a(n,i.children||[])).return=s,s=n;break e}r(s,n);break}t(s,n),n=n.sibling}(n=$c(i,s.mode,o)).return=s,s=n}return l(s);case L:return e(s,n,(d=i._init)(i._payload),o)}if(te(i))return f(s,n,i,o);if(F(i))return g(s,n,i,o);Cn(s,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==n&&6===n.tag?(r(s,n.sibling),(n=a(n,i)).return=s,s=n):(r(s,n),(n=Wc(i,s.mode,o)).return=s,s=n),l(s)):r(s,n)}}var An=En(!0),Pn=En(!1),Tn=La(null),Ln=null,Rn=null,Dn=null;function Fn(){Dn=Rn=Ln=null}function On(e){var t=Tn.current;Ra(Tn),e._currentValue=t}function In(e,t,r){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Mn(e,t){Ln=e,Dn=Rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sl=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(Dn!==e)if(e={context:e,memoizedValue:t,next:null},null===Rn){if(null===Ln)throw Error(n(308));Rn=e,Ln.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var zn=null;function Bn(e){null===zn?zn=[e]:zn.push(e)}function qn(e,t,r,s){var a=t.interleaved;return null===a?(r.next=r,Bn(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hn(e,s)}function Hn(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Qn=!1;function Vn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Io)){var a=s.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Hn(e,r)}return null===(a=s.interleaved)?(t.next=t,Bn(s)):(t.next=a.next,a.next=t),s.interleaved=t,Hn(e,r)}function Kn(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,xt(e,r)}}function Gn(e,t){var r=e.updateQueue,s=e.alternate;if(null!==s&&r===(s=s.updateQueue)){var a=null,n=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===n?a=n=i:n=n.next=i,r=r.next}while(null!==r);null===n?a=n=t:n=n.next=t}else a=n=t;return r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:n,shared:s.shared,effects:s.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yn(e,t,r,s){var a=e.updateQueue;Qn=!1;var n=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?n=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==n){var u=a.baseState;for(i=0,d=c=o=null,l=n;;){var m=l.lane,h=l.eventTime;if((s&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,f=l;switch(m=t,h=r,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=I({},u,m);break e;case 2:Qn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(m=l).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===n&&(a.shared.lanes=0);Vo|=i,e.lanes=i,e.memoizedState=u}}function Zn(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(null!==a){if(s.callback=null,s=r,"function"!==typeof a)throw Error(n(191,a));a.call(s)}}}var Jn={},ei=La(Jn),ti=La(Jn),ri=La(Jn);function si(e){if(e===Jn)throw Error(n(174));return e}function ai(e,t){switch(Da(ri,t),Da(ti,e),Da(ei,Jn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ra(ei),Da(ei,t)}function ni(){Ra(ei),Ra(ti),Ra(ri)}function ii(e){si(ri.current);var t=si(ei.current),r=oe(t,e.type);t!==r&&(Da(ti,e),Da(ei,r))}function li(e){ti.current===e&&(Ra(ei),Ra(ti))}var oi=La(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function ui(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var mi=v.ReactCurrentDispatcher,hi=v.ReactCurrentBatchConfig,pi=0,fi=null,gi=null,xi=null,bi=!1,yi=!1,vi=0,ji=0;function Ni(){throw Error(n(321))}function wi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fs(e[r],t[r]))return!1;return!0}function _i(e,t,r,s,a,i){if(pi=i,fi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=null===e||null===e.memoizedState?ll:ol,e=r(s,a),yi){i=0;do{if(yi=!1,vi=0,25<=i)throw Error(n(301));i+=1,xi=gi=null,t.updateQueue=null,mi.current=cl,e=r(s,a)}while(yi)}if(mi.current=il,t=null!==gi&&null!==gi.next,pi=0,xi=gi=fi=null,bi=!1,t)throw Error(n(300));return e}function ki(){var e=0!==vi;return vi=0,e}function Ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xi?fi.memoizedState=xi=e:xi=xi.next=e,xi}function Si(){if(null===gi){var e=fi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===xi?fi.memoizedState:xi.next;if(null!==t)xi=t,gi=e;else{if(null===e)throw Error(n(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===xi?fi.memoizedState=xi=e:xi=xi.next=e}return xi}function Ei(e,t){return"function"===typeof t?t(e):t}function Ai(e){var t=Si(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=gi,a=s.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((pi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=s):c=c.next=m,fi.lanes|=u,Vo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=s:c.next=o,fs(s,t.memoizedState)||(Sl=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,fi.lanes|=i,Vo|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pi(e){var t=Si(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);fs(i,t.memoizedState)||(Sl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Ti(){}function Li(e,t){var r=fi,s=Si(),a=t(),i=!fs(s.memoizedState,a);if(i&&(s.memoizedState=a,Sl=!0),s=s.queue,Qi(Fi.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||null!==xi&&1&xi.memoizedState.tag){if(r.flags|=2048,Ui(9,Di.bind(null,r,s,a,t),void 0,null),null===Mo)throw Error(n(349));0!==(30&pi)||Ri(r,t,a)}return a}function Ri(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Di(e,t,r,s){t.value=r,t.getSnapshot=s,Oi(t)&&Ii(e)}function Fi(e,t,r){return r(function(){Oi(t)&&Ii(e)})}function Oi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fs(e,r)}catch(zt){return!0}}function Ii(e){var t=Hn(e,1);null!==t&&uc(t,e,1,-1)}function Mi(e){var t=Ci();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=rl.bind(null,fi,e),[t.memoizedState,e]}function Ui(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function zi(){return Si().memoizedState}function Bi(e,t,r,s){var a=Ci();fi.flags|=e,a.memoizedState=Ui(1|t,r,void 0,void 0===s?null:s)}function qi(e,t,r,s){var a=Si();s=void 0===s?null:s;var n=void 0;if(null!==gi){var i=gi.memoizedState;if(n=i.destroy,null!==s&&wi(s,i.deps))return void(a.memoizedState=Ui(t,r,n,s))}fi.flags|=e,a.memoizedState=Ui(1|t,r,n,s)}function Hi(e,t){return Bi(8390656,8,e,t)}function Qi(e,t){return qi(2048,8,e,t)}function Vi(e,t){return qi(4,2,e,t)}function Wi(e,t){return qi(4,4,e,t)}function $i(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,qi(4,4,$i.bind(null,t,e),r)}function Ki(){}function Gi(e,t){var r=Si();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&wi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Yi(e,t){var r=Si();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&wi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Zi(e,t,r){return 0===(21&pi)?(e.baseState&&(e.baseState=!1,Sl=!0),e.memoizedState=r):(fs(r,t)||(r=pt(),fi.lanes|=r,Vo|=r,e.baseState=!0),t)}function Ji(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var s=hi.transition;hi.transition={};try{e(!1),t()}finally{bt=r,hi.transition=s}}function el(){return Si().memoizedState}function tl(e,t,r){var s=dc(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},sl(e))al(t,r);else if(null!==(r=qn(e,t,r,s))){uc(r,e,s,cc()),nl(r,t,s)}}function rl(e,t,r){var s=dc(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(sl(e))al(t,a);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=n(i,r);if(a.hasEagerState=!0,a.eagerState=l,fs(l,i)){var o=t.interleaved;return null===o?(a.next=a,Bn(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(Lt){}null!==(r=qn(e,t,a,s))&&(uc(r,e,s,a=cc()),nl(r,t,s))}}function sl(e){var t=e.alternate;return e===fi||null!==t&&t===fi}function al(e,t){yi=bi=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nl(e,t,r){if(0!==(4194240&r)){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,xt(e,r)}}var il={readContext:Un,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},ll={readContext:Un,useCallback:function(e,t){return Ci().memoizedState=[e,void 0===t?null:t],e},useContext:Un,useEffect:Hi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Bi(4194308,4,$i.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var r=Ci();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ci();return t=void 0!==r?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=tl.bind(null,fi,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},Ci().memoizedState=e},useState:Mi,useDebugValue:Ki,useDeferredValue:function(e){return Ci().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Ji.bind(null,e[1]),Ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=fi,a=Ci();if(hn){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Mo)throw Error(n(349));0!==(30&pi)||Ri(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Hi(Fi.bind(null,s,i,e),[e]),s.flags|=2048,Ui(9,Di.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Ci(),t=Mo.identifierPrefix;if(hn){var r=nn;t=":"+t+"R"+(r=(an&~(1<<32-nt(an)-1)).toString(32)+r),0<(r=vi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ji++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ol={readContext:Un,useCallback:Gi,useContext:Un,useEffect:Qi,useImperativeHandle:Xi,useInsertionEffect:Vi,useLayoutEffect:Wi,useMemo:Yi,useReducer:Ai,useRef:zi,useState:function(){return Ai(Ei)},useDebugValue:Ki,useDeferredValue:function(e){return Zi(Si(),gi.memoizedState,e)},useTransition:function(){return[Ai(Ei)[0],Si().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Li,useId:el,unstable_isNewReconciler:!1},cl={readContext:Un,useCallback:Gi,useContext:Un,useEffect:Qi,useImperativeHandle:Xi,useInsertionEffect:Vi,useLayoutEffect:Wi,useMemo:Yi,useReducer:Pi,useRef:zi,useState:function(){return Pi(Ei)},useDebugValue:Ki,useDeferredValue:function(e){var t=Si();return null===gi?t.memoizedState=e:Zi(t,gi.memoizedState,e)},useTransition:function(){return[Pi(Ei)[0],Si().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Li,useId:el,unstable_isNewReconciler:!1};function dl(e,t){if(e&&e.defaultProps){for(var r in t=I({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ul(e,t,r,s){r=null===(r=r(s,t=e.memoizedState))||void 0===r?t:I({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ml={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=cc(),a=dc(e),n=$n(s,a);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Xn(e,n,a))&&(uc(t,e,a,s),Kn(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=cc(),a=dc(e),n=$n(s,a);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Xn(e,n,a))&&(uc(t,e,a,s),Kn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cc(),s=dc(e),a=$n(r,s);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Xn(e,a,s))&&(uc(t,e,s,r),Kn(t,e,s))}};function hl(e,t,r,s,a,n,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,n,i):!t.prototype||!t.prototype.isPureReactComponent||(!gs(r,s)||!gs(a,n))}function pl(e,t,r){var s=!1,a=Fa,n=t.contextType;return"object"===typeof n&&null!==n?n=Un(n):(a=za(t)?Ma:Oa.current,n=(s=null!==(s=t.contextTypes)&&void 0!==s)?Ua(e,a):Fa),t=new t(r,n),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=n),t}function fl(e,t,r,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function gl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Vn(e);var n=t.contextType;"object"===typeof n&&null!==n?a.context=Un(n):(n=za(t)?Ma:Oa.current,a.context=Ua(e,n)),a.state=e.memoizedState,"function"===typeof(n=t.getDerivedStateFromProps)&&(ul(e,t,n,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ml.enqueueReplaceState(a,a.state,null),Yn(e,r,a,s),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function xl(e,t){try{var r="",s=t;do{r+=B(s),s=s.return}while(s);var a=r}catch(Bt){a="\nError generating stack: "+Bt.message+"\n"+Bt.stack}return{value:e,source:t,stack:a,digest:null}}function bl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function yl(e,t){try{console.error(t.value)}catch(Ot){setTimeout(function(){throw Ot})}}var vl="function"===typeof WeakMap?WeakMap:Map;function jl(e,t,r){(r=$n(-1,r)).tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Jo||(Jo=!0,ec=s),yl(0,t)},r}function Nl(e,t,r){(r=$n(-1,r)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){yl(0,t)}}var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){yl(0,t),"function"!==typeof s&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function wl(e,t,r){var s=e.pingCache;if(null===s){s=e.pingCache=new vl;var a=new Set;s.set(t,a)}else void 0===(a=s.get(t))&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Dc.bind(null,e,t,r),t.then(e,e))}function _l(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function kl(e,t,r,s,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=$n(-1,1)).tag=2,Xn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Cl=v.ReactCurrentOwner,Sl=!1;function El(e,t,r,s){t.child=null===e?Pn(t,null,r,s):An(t,e.child,r,s)}function Al(e,t,r,s,a){r=r.render;var n=t.ref;return Mn(t,a),s=_i(e,t,r,s,n,a),r=ki(),null===e||Sl?(hn&&r&&cn(t),t.flags|=1,El(e,t,s,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zl(e,t,a))}function Pl(e,t,r,s,a){if(null===e){var n=r.type;return"function"!==typeof n||Bc(n)||void 0!==n.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hc(r.type,null,s,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,Tl(e,t,n,s,a))}if(n=e.child,0===(e.lanes&a)){var i=n.memoizedProps;if((r=null!==(r=r.compare)?r:gs)(i,s)&&e.ref===t.ref)return Zl(e,t,a)}return t.flags|=1,(e=qc(n,s)).ref=t.ref,e.return=t,t.child=e}function Tl(e,t,r,s,a){if(null!==e){var n=e.memoizedProps;if(gs(n,s)&&e.ref===t.ref){if(Sl=!1,t.pendingProps=s=n,0===(e.lanes&a))return t.lanes=e.lanes,Zl(e,t,a);0!==(131072&e.flags)&&(Sl=!0)}}return Dl(e,t,r,s,a)}function Ll(e,t,r){var s=t.pendingProps,a=s.children,n=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Da(qo,Bo),Bo|=r;else{if(0===(1073741824&r))return e=null!==n?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Da(qo,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==n?n.baseLanes:r,Da(qo,Bo),Bo|=s}else null!==n?(s=n.baseLanes|r,t.memoizedState=null):s=r,Da(qo,Bo),Bo|=s;return El(e,t,a,r),t.child}function Rl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Dl(e,t,r,s,a){var n=za(r)?Ma:Oa.current;return n=Ua(t,n),Mn(t,a),r=_i(e,t,r,s,n,a),s=ki(),null===e||Sl?(hn&&s&&cn(t),t.flags|=1,El(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Zl(e,t,a))}function Fl(e,t,r,s,a){if(za(r)){var n=!0;Qa(t)}else n=!1;if(Mn(t,a),null===t.stateNode)Yl(e,t),pl(t,r,s),gl(t,r,s,a),s=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Un(c):c=Ua(t,c=za(r)?Ma:Oa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==s||o!==c)&&fl(t,i,s,c),Qn=!1;var m=t.memoizedState;i.state=m,Yn(t,s,i,a),o=t.memoizedState,l!==s||m!==o||Ia.current||Qn?("function"===typeof d&&(ul(t,r,d,s),o=t.memoizedState),(l=Qn||hl(t,r,l,s,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=c,s=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Wn(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:dl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=r.contextType)&&null!==o?o=Un(o):o=Ua(t,o=za(r)?Ma:Oa.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&fl(t,i,s,o),Qn=!1,m=t.memoizedState,i.state=m,Yn(t,s,i,a);var p=t.memoizedState;l!==u||m!==p||Ia.current||Qn?("function"===typeof h&&(ul(t,r,h,s),p=t.memoizedState),(c=Qn||hl(t,r,c,s,m,p,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(s,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(s,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),i.props=s,i.state=p,i.context=o,s=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Ol(e,t,r,s,n,a)}function Ol(e,t,r,s,a,n){Rl(e,t);var i=0!==(128&t.flags);if(!s&&!i)return a&&Va(t,r,!1),Zl(e,t,n);s=t.stateNode,Cl.current=t;var l=i&&"function"!==typeof r.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&i?(t.child=An(t,e.child,null,n),t.child=An(t,null,l,n)):El(e,t,l,n),t.memoizedState=s.state,a&&Va(t,r,!0),t.child}function Il(e){var t=e.stateNode;t.pendingContext?qa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(0,t.context,!1),ai(e,t.containerInfo)}function Ml(e,t,r,s,a){return Nn(),wn(a),t.flags|=256,El(e,t,r,s),t.child}var Ul,zl,Bl,ql,Hl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vl(e,t,r){var s,a=t.pendingProps,i=oi.current,l=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&i)),s?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Da(oi,1&i),null===e)return bn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Vc(o,a,0,null),e=Qc(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ql(r),t.memoizedState=Hl,e):Wl(t,o));if(null!==(i=e.memoizedState)&&null!==(s=i.dehydrated))return function(e,t,r,s,a,i,l){if(r)return 256&t.flags?(t.flags&=-257,$l(e,t,l,s=bl(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Vc({mode:"visible",children:s.children},a,0,null),(i=Qc(i,a,l,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,0!==(1&t.mode)&&An(t,e.child,null,l),t.child.memoizedState=Ql(l),t.memoizedState=Hl,i);if(0===(1&t.mode))return $l(e,t,l,null);if("$!"===a.data){if(s=a.nextSibling&&a.nextSibling.dataset)var o=s.dgst;return s=o,$l(e,t,l,s=bl(i=Error(n(419)),s,void 0))}if(o=0!==(l&e.childLanes),Sl||o){if(null!==(s=Mo)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(s.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Hn(e,a),uc(s,e,a,-1))}return _c(),$l(e,t,l,s=bl(Error(n(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mn=xa(a.nextSibling),un=t,hn=!0,pn=null,null!==e&&(tn[rn++]=an,tn[rn++]=nn,tn[rn++]=sn,an=e.id,nn=e.overflow,sn=t),t=Wl(t,s.children),t.flags|=4096,t)}(e,t,o,a,s,i,r);if(l){l=a.fallback,o=t.mode,s=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=qc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==s?l=qc(s,l):(l=Qc(l,o,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Ql(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=Hl,a}return e=(l=e.child).sibling,a=qc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Wl(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $l(e,t,r,s){return null!==s&&wn(s),An(t,e.child,null,r),(e=Wl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xl(e,t,r){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),In(e.return,t,r)}function Kl(e,t,r,s,a){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=r,n.tailMode=a)}function Gl(e,t,r){var s=t.pendingProps,a=s.revealOrder,n=s.tail;if(El(e,t,s.children,r),0!==(2&(s=oi.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xl(e,r,t);else if(19===e.tag)Xl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Da(oi,s),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ci(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Kl(t,!1,a,r,n);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ci(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Kl(t,!0,r,null,n);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Vo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=qc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=qc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Jl(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=14680064&a.subtreeFlags,s|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function to(e,t,r){var s=t.pendingProps;switch(dn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return za(t.type)&&Ba(),eo(t),null;case 3:return s=t.stateNode,ni(),Ra(Ia),Ra(Oa),ui(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(vn(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==pn&&(fc(pn),pn=null))),zl(e,t),eo(t),null;case 5:li(t);var a=si(ri.current);if(r=t.type,null!==e&&null!=t.stateNode)Bl(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(n(166));return eo(t),null}if(e=si(ei.current),vn(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[va]=t,s[ja]=i,e=0!==(1&t.mode),r){case"dialog":$s("cancel",s),$s("close",s);break;case"iframe":case"object":case"embed":$s("load",s);break;case"video":case"audio":for(a=0;a<Hs.length;a++)$s(Hs[a],s);break;case"source":$s("error",s);break;case"img":case"image":case"link":$s("error",s),$s("load",s);break;case"details":$s("toggle",s);break;case"input":G(s,i),$s("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},$s("invalid",s);break;case"textarea":ae(s,i),$s("invalid",s)}for(var o in xe(r,i),a=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?s.textContent!==c&&(!0!==i.suppressHydrationWarning&&ia(s.textContent,c,e),a=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&ia(s.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&$s("scroll",s)}switch(r){case"input":W(s),J(s,i,!0);break;case"textarea":W(s),ie(s);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(s.onclick=la)}s=a,t.updateQueue=s,null!==s&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),"select"===r&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[va]=t,e[ja]=s,Ul(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,s),r){case"dialog":$s("cancel",e),$s("close",e),a=s;break;case"iframe":case"object":case"embed":$s("load",e),a=s;break;case"video":case"audio":for(a=0;a<Hs.length;a++)$s(Hs[a],e);a=s;break;case"source":$s("error",e),a=s;break;case"img":case"image":case"link":$s("error",e),$s("load",e),a=s;break;case"details":$s("toggle",e),a=s;break;case"input":G(e,s),a=K(e,s),$s("invalid",e);break;case"option":default:a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=I({},s,{value:void 0}),$s("invalid",e);break;case"textarea":ae(e,s),a=se(e,s),$s("invalid",e)}for(i in xe(r,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&$s("scroll",e):null!=d&&y(e,i,d,o))}switch(r){case"input":W(e),J(e,s,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=s.value&&e.setAttribute("value",""+Q(s.value));break;case"select":e.multiple=!!s.multiple,null!=(i=s.value)?re(e,!!s.multiple,i,!1):null!=s.defaultValue&&re(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)ql(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(n(166));if(r=si(ri.current),si(ei.current),vn(t)){if(s=t.stateNode,r=t.memoizedProps,s[va]=t,(i=s.nodeValue!==r)&&null!==(e=un))switch(e.tag){case 3:ia(s.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ia(s.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(s=(9===r.nodeType?r:r.ownerDocument).createTextNode(s))[va]=t,t.stateNode=s}return eo(t),null;case 13:if(Ra(oi),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(hn&&null!==mn&&0!==(1&t.mode)&&0===(128&t.flags))jn(),Nn(),t.flags|=98560,i=!1;else if(i=vn(t),null!==s&&null!==s.dehydrated){if(null===e){if(!i)throw Error(n(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(n(317));i[va]=t}else Nn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),i=!1}else null!==pn&&(fc(pn),pn=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oi.current)?0===Ho&&(Ho=3):_c())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return ni(),zl(e,t),null===e&&Gs(t.stateNode.containerInfo),eo(t),null;case 10:return On(t.type._context),eo(t),null;case 19:if(Ra(oi),null===(i=t.memoizedState))return eo(t),null;if(s=0!==(128&t.flags),null===(o=i.rendering))if(s)Jl(i,!1);else{if(0!==Ho||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ci(e))){for(t.flags|=128,Jl(i,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;null!==r;)e=s,(i=r).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Da(oi,1&oi.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Yo&&(t.flags|=128,s=!0,Jl(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ci(o))){if(t.flags|=128,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Jl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!hn)return eo(t),null}else 2*Ge()-i.renderingStartTime>Yo&&1073741824!==r&&(t.flags|=128,s=!0,Jl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=i.last)?r.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=oi.current,Da(oi,s?1&r|2:1&r),t):(eo(t),null);case 22:case 23:return vc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Bo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function ro(e,t){switch(dn(t),t.tag){case 1:return za(t.type)&&Ba(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ni(),Ra(Ia),Ra(Oa),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(Ra(oi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));Nn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ra(oi),null;case 4:return ni(),null;case 10:return On(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}Ul=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},zl=function(){},Bl=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,si(ei.current);var n,i=null;switch(r){case"input":a=K(e,a),s=K(e,s),i=[];break;case"select":a=I({},a,{value:void 0}),s=I({},s,{value:void 0}),i=[];break;case"textarea":a=se(e,a),s=se(e,s),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof s.onClick&&(e.onclick=la)}for(d in xe(r,s),r=null,a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(n in o)o.hasOwnProperty(n)&&(r||(r={}),r[n]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=null!=a?a[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(n in o)!o.hasOwnProperty(n)||c&&c.hasOwnProperty(n)||(r||(r={}),r[n]="");for(n in c)c.hasOwnProperty(n)&&o[n]!==c[n]&&(r||(r={}),r[n]=c[n])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$s("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},ql=function(e,t,r,s){r!==s&&(t.flags|=4)};var so=!1,ao=!1,no="function"===typeof WeakSet?WeakSet:Set,io=null;function lo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(zt){Rc(e,t,zt)}else r.current=null}function oo(e,t,r){try{r()}catch(zt){Rc(e,t,zt)}}var co=!1;function uo(e,t,r){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var a=s=s.next;do{if((a.tag&e)===e){var n=a.destroy;a.destroy=void 0,void 0!==n&&oo(t,r,n)}a=a.next}while(a!==s)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ho(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function po(e){var t=e.alternate;null!==t&&(e.alternate=null,po(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[va],delete t[ja],delete t[wa],delete t[_a],delete t[ka])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fo(e){return 5===e.tag||3===e.tag||4===e.tag}function go(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xo(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=la));else if(4!==s&&null!==(e=e.child))for(xo(e,t,r),e=e.sibling;null!==e;)xo(e,t,r),e=e.sibling}function bo(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==s&&null!==(e=e.child))for(bo(e,t,r),e=e.sibling;null!==e;)bo(e,t,r),e=e.sibling}var yo=null,vo=!1;function jo(e,t,r){for(r=r.child;null!==r;)No(e,t,r),r=r.sibling}function No(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,r)}catch(Ht){}switch(r.tag){case 5:ao||lo(r,t);case 6:var s=yo,a=vo;yo=null,jo(e,t,r),vo=a,null!==(yo=s)&&(vo?(e=yo,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):yo.removeChild(r.stateNode));break;case 18:null!==yo&&(vo?(e=yo,r=r.stateNode,8===e.nodeType?ga(e.parentNode,r):1===e.nodeType&&ga(e,r),Kt(e)):ga(yo,r.stateNode));break;case 4:s=yo,a=vo,yo=r.stateNode.containerInfo,vo=!0,jo(e,t,r),yo=s,vo=a;break;case 0:case 11:case 14:case 15:if(!ao&&(null!==(s=r.updateQueue)&&null!==(s=s.lastEffect))){a=s=s.next;do{var n=a,i=n.destroy;n=n.tag,void 0!==i&&(0!==(2&n)||0!==(4&n))&&oo(r,t,i),a=a.next}while(a!==s)}jo(e,t,r);break;case 1:if(!ao&&(lo(r,t),"function"===typeof(s=r.stateNode).componentWillUnmount))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(Ht){Rc(r,t,Ht)}jo(e,t,r);break;case 21:jo(e,t,r);break;case 22:1&r.mode?(ao=(s=ao)||null!==r.memoizedState,jo(e,t,r),ao=s):jo(e,t,r);break;default:jo(e,t,r)}}function wo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new no),t.forEach(function(t){var s=Ic.bind(null,e,t);r.has(t)||(r.add(t),t.then(s,s))})}}function _o(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:yo=o.stateNode,vo=!1;break e;case 3:case 4:yo=o.stateNode.containerInfo,vo=!0;break e}o=o.return}if(null===yo)throw Error(n(160));No(i,l,a),yo=null,vo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Lt){Rc(a,t,Lt)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ko(t,e),t=t.sibling}function ko(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_o(t,e),Co(e),4&s){try{uo(3,e,e.return),mo(3,e)}catch(Tt){Rc(e,e.return,Tt)}try{uo(5,e,e.return)}catch(Tt){Rc(e,e.return,Tt)}}break;case 1:_o(t,e),Co(e),512&s&&null!==r&&lo(r,r.return);break;case 5:if(_o(t,e),Co(e),512&s&&null!==r&&lo(r,r.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(Tt){Rc(e,e.return,Tt)}}if(4&s&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==r?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Y(a,i),be(o,l);var d=be(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?fe(a,m):"dangerouslySetInnerHTML"===u?de(a,m):"children"===u?ue(a,m):y(a,u,m,d)}switch(o){case"input":Z(a,i);break;case"textarea":ne(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[ja]=i}catch(Tt){Rc(e,e.return,Tt)}}break;case 6:if(_o(t,e),Co(e),4&s){if(null===e.stateNode)throw Error(n(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(Tt){Rc(e,e.return,Tt)}}break;case 3:if(_o(t,e),Co(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{Kt(t.containerInfo)}catch(Tt){Rc(e,e.return,Tt)}break;case 4:default:_o(t,e),Co(e);break;case 13:_o(t,e),Co(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Go=Ge())),4&s&&wo(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(ao=(d=ao)||u,_o(t,e),ao=d):_o(t,e),Co(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(io=e,u=e.child;null!==u;){for(m=io=u;null!==io;){switch(p=(h=io).child,h.tag){case 0:case 11:case 14:case 15:uo(4,h,h.return);break;case 1:lo(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){s=h,r=h.return;try{t=s,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(Tt){Rc(s,r,Tt)}}break;case 5:lo(h,h.return);break;case 22:if(null!==h.memoizedState){Po(m);continue}}null!==p?(p.return=h,io=p):Po(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",l))}catch(Tt){Rc(e,e.return,Tt)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(Tt){Rc(e,e.return,Tt)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:_o(t,e),Co(e),4&s&&wo(e);case 21:}}function Co(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(fo(r)){var s=r;break e}r=r.return}throw Error(n(160))}switch(s.tag){case 5:var a=s.stateNode;32&s.flags&&(ue(a,""),s.flags&=-33),bo(e,go(e),a);break;case 3:case 4:var i=s.stateNode.containerInfo;xo(e,go(e),i);break;default:throw Error(n(161))}}catch(dr){Rc(e,e.return,dr)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function So(e,t,r){io=e,Eo(e,t,r)}function Eo(e,t,r){for(var s=0!==(1&e.mode);null!==io;){var a=io,n=a.child;if(22===a.tag&&s){var i=null!==a.memoizedState||so;if(!i){var l=a.alternate,o=null!==l&&null!==l.memoizedState||ao;l=so;var c=ao;if(so=i,(ao=o)&&!c)for(io=a;null!==io;)o=(i=io).child,22===i.tag&&null!==i.memoizedState?To(a):null!==o?(o.return=i,io=o):To(a);for(;null!==n;)io=n,Eo(n,t,r),n=n.sibling;io=a,so=l,ao=c}Ao(e)}else 0!==(8772&a.subtreeFlags)&&null!==n?(n.return=a,io=n):Ao(e)}}function Ao(e){for(;null!==io;){var t=io;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ao||mo(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!ao)if(null===r)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:dl(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Zn(t,i,s);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Zn(t,l,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Kt(m)}}}break;default:throw Error(n(163))}ao||512&t.flags&&ho(t)}catch(h){Rc(t,t.return,h)}}if(t===e){io=null;break}if(null!==(r=t.sibling)){r.return=t.return,io=r;break}io=t.return}}function Po(e){for(;null!==io;){var t=io;if(t===e){io=null;break}var r=t.sibling;if(null!==r){r.return=t.return,io=r;break}io=t.return}}function To(e){for(;null!==io;){var t=io;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mo(4,t)}catch(dr){Rc(t,r,dr)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var a=t.return;try{s.componentDidMount()}catch(dr){Rc(t,a,dr)}}var n=t.return;try{ho(t)}catch(dr){Rc(t,n,dr)}break;case 5:var i=t.return;try{ho(t)}catch(dr){Rc(t,i,dr)}}}catch(dr){Rc(t,t.return,dr)}if(t===e){io=null;break}var l=t.sibling;if(null!==l){l.return=t.return,io=l;break}io=t.return}}var Lo,Ro=Math.ceil,Do=v.ReactCurrentDispatcher,Fo=v.ReactCurrentOwner,Oo=v.ReactCurrentBatchConfig,Io=0,Mo=null,Uo=null,zo=0,Bo=0,qo=La(0),Ho=0,Qo=null,Vo=0,Wo=0,$o=0,Xo=null,Ko=null,Go=0,Yo=1/0,Zo=null,Jo=!1,ec=null,tc=null,rc=!1,sc=null,ac=0,nc=0,ic=null,lc=-1,oc=0;function cc(){return 0!==(6&Io)?Ge():-1!==lc?lc:lc=Ge()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Io)&&0!==zo?zo&-zo:null!==_n.transition?(0===oc&&(oc=pt()),oc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:sr(e.type)}function uc(e,t,r,s){if(50<nc)throw nc=0,ic=null,Error(n(185));gt(e,r,s),0!==(2&Io)&&e===Mo||(e===Mo&&(0===(2&Io)&&(Wo|=r),4===Ho&&gc(e,zo)),mc(e,s),1===r&&0===Io&&0===(1&t.mode)&&(Yo=Ge()+500,$a&&Ga()))}function mc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,n=e.pendingLanes;0<n;){var i=31-nt(n),l=1<<i,o=a[i];-1===o?0!==(l&r)&&0===(l&s)||(a[i]=mt(l,t)):o<=t&&(e.expiredLanes|=l),n&=~l}}(e,t);var s=ut(e,e===Mo?zo:0);if(0===s)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){$a=!0,Ka(e)}(xc.bind(null,e)):Ka(xc.bind(null,e)),pa(function(){0===(6&Io)&&Ga()}),r=null;else{switch(yt(s)){case 1:r=Ze;break;case 4:r=Je;break;case 16:default:r=et;break;case 536870912:r=rt}r=Mc(r,hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hc(e,t){if(lc=-1,oc=0,0!==(6&Io))throw Error(n(327));var r=e.callbackNode;if(Tc()&&e.callbackNode!==r)return null;var s=ut(e,e===Mo?zo:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=kc(e,s);else{t=s;var a=Io;Io|=2;var i=wc();for(Mo===e&&zo===t||(Zo=null,Yo=Ge()+500,jc(e,t));;)try{Sc();break}catch(Ht){Nc(e,Ht)}Fn(),Do.current=i,Io=a,null!==Uo?t=0:(Mo=null,zo=0,t=Ho)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(s=a,t=pc(e,a))),1===t)throw r=Qo,jc(e,0),gc(e,s),mc(e,Ge()),r;if(6===t)gc(e,s);else{if(a=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var s=0;s<r.length;s++){var a=r[s],n=a.getSnapshot;a=a.value;try{if(!fs(n(),a))return!1}catch(l){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=kc(e,s))&&(0!==(i=ht(e))&&(s=i,t=pc(e,i))),1===t))throw r=Qo,jc(e,0),gc(e,s),mc(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(n(345));case 2:case 5:Pc(e,Ko,Zo);break;case 3:if(gc(e,s),(130023424&s)===s&&10<(t=Go+500-Ge())){if(0!==ut(e,0))break;if(((a=e.suspendedLanes)&s)!==s){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ua(Pc.bind(null,e,Ko,Zo),t);break}Pc(e,Ko,Zo);break;case 4:if(gc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-nt(s);i=1<<l,(l=t[l])>a&&(a=l),s&=~i}if(s=a,10<(s=(120>(s=Ge()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ro(s/1960))-s)){e.timeoutHandle=ua(Pc.bind(null,e,Ko,Zo),s);break}Pc(e,Ko,Zo);break;default:throw Error(n(329))}}}return mc(e,Ge()),e.callbackNode===r?hc.bind(null,e):null}function pc(e,t){var r=Xo;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=kc(e,t))&&(t=Ko,Ko=r,null!==t&&fc(t)),e}function fc(e){null===Ko?Ko=e:Ko.push.apply(Ko,e)}function gc(e,t){for(t&=~$o,t&=~Wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nt(t),s=1<<r;e[r]=-1,t&=~s}}function xc(e){if(0!==(6&Io))throw Error(n(327));Tc();var t=ut(e,0);if(0===(1&t))return mc(e,Ge()),null;var r=kc(e,t);if(0!==e.tag&&2===r){var s=ht(e);0!==s&&(t=s,r=pc(e,s))}if(1===r)throw r=Qo,jc(e,0),gc(e,t),mc(e,Ge()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e,Ko,Zo),mc(e,Ge()),null}function bc(e,t){var r=Io;Io|=1;try{return e(t)}finally{0===(Io=r)&&(Yo=Ge()+500,$a&&Ga())}}function yc(e){null!==sc&&0===sc.tag&&0===(6&Io)&&Tc();var t=Io;Io|=1;var r=Oo.transition,s=bt;try{if(Oo.transition=null,bt=1,e)return e()}finally{bt=s,Oo.transition=r,0===(6&(Io=t))&&Ga()}}function vc(){Bo=qo.current,Ra(qo)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ma(r)),null!==Uo)for(r=Uo.return;null!==r;){var s=r;switch(dn(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Ba();break;case 3:ni(),Ra(Ia),Ra(Oa),ui();break;case 5:li(s);break;case 4:ni();break;case 13:case 19:Ra(oi);break;case 10:On(s.type._context);break;case 22:case 23:vc()}r=r.return}if(Mo=e,Uo=e=qc(e.current,null),zo=Bo=t,Ho=0,Qo=null,$o=Wo=Vo=0,Ko=Xo=null,null!==zn){for(t=0;t<zn.length;t++)if(null!==(s=(r=zn[t]).interleaved)){r.interleaved=null;var a=s.next,n=r.pending;if(null!==n){var i=n.next;n.next=a,s.next=i}r.pending=s}zn=null}return e}function Nc(e,t){for(;;){var r=Uo;try{if(Fn(),mi.current=il,bi){for(var s=fi.memoizedState;null!==s;){var a=s.queue;null!==a&&(a.pending=null),s=s.next}bi=!1}if(pi=0,xi=gi=fi=null,yi=!1,vi=0,Fo.current=null,null===r||null===r.return){Ho=1,Qo=t,Uo=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=zo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_l(l);if(null!==p){p.flags&=-257,kl(p,l,o,0,t),1&p.mode&&wl(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){wl(i,d,t),_c();break e}c=Error(n(426))}else if(hn&&1&o.mode){var x=_l(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),kl(x,l,o,0,t),wn(xl(c,o));break e}}i=c=xl(c,o),4!==Ho&&(Ho=2),null===Xo?Xo=[i]:Xo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Gn(i,jl(0,c,t));break e;case 1:o=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===tc||!tc.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Gn(i,Nl(i,o,t));break e}}i=i.return}while(null!==i)}Ac(r)}catch(v){t=v,Uo===r&&null!==r&&(Uo=r=r.return);continue}break}}function wc(){var e=Do.current;return Do.current=il,null===e?il:e}function _c(){0!==Ho&&3!==Ho&&2!==Ho||(Ho=4),null===Mo||0===(268435455&Vo)&&0===(268435455&Wo)||gc(Mo,zo)}function kc(e,t){var r=Io;Io|=2;var s=wc();for(Mo===e&&zo===t||(Zo=null,jc(e,t));;)try{Cc();break}catch(Pt){Nc(e,Pt)}if(Fn(),Io=r,Do.current=s,null!==Uo)throw Error(n(261));return Mo=null,zo=0,Ho}function Cc(){for(;null!==Uo;)Ec(Uo)}function Sc(){for(;null!==Uo&&!Xe();)Ec(Uo)}function Ec(e){var t=Lo(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,null===t?Ac(e):Uo=t,Fo.current=null}function Ac(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=to(r,t,Bo)))return void(Uo=r)}else{if(null!==(r=ro(r,t)))return r.flags&=32767,void(Uo=r);if(null===e)return Ho=6,void(Uo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Uo=t);Uo=t=e}while(null!==t);0===Ho&&(Ho=5)}function Pc(e,t,r){var s=bt,a=Oo.transition;try{Oo.transition=null,bt=1,function(e,t,r,s){do{Tc()}while(null!==sc);if(0!==(6&Io))throw Error(n(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-nt(r),n=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~n}}(e,i),e===Mo&&(Uo=Mo=null,zo=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||rc||(rc=!0,Mc(et,function(){return Tc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Oo.transition,Oo.transition=null;var l=bt;bt=1;var o=Io;Io|=4,Fo.current=null,function(e,t){if(oa=Yt,js(e=vs())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch(Sr){r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==a&&3!==m.nodeType||(o=l+a),m!==i||0!==s&&3!==m.nodeType||(c=l+s),3===m.nodeType&&(l+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(o=l),h===i&&++u===s&&(c=l),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ca={focusedElem:e,selectionRange:r},Yt=!1,io=t;null!==io;)if(e=(t=io).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,io=e;else for(;null!==io;){t=io;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:dl(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(n(163))}}catch(Sr){Rc(t,t.return,Sr)}if(null!==(e=t.sibling)){e.return=t.return,io=e;break}io=t.return}f=co,co=!1}(e,r),ko(r,e),Ns(ca),Yt=!!oa,ca=oa=null,e.current=r,So(r,e,a),Ke(),Io=o,bt=l,Oo.transition=i}else e.current=r;if(rc&&(rc=!1,sc=e,ac=a),i=e.pendingLanes,0===i&&(tc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),mc(e,Ge()),null!==t)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Jo)throw Jo=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Tc(),i=e.pendingLanes,0!==(1&i)?e===ic?nc++:(nc=0,ic=e):nc=0,Ga()}(e,t,r,s)}finally{Oo.transition=a,bt=s}return null}function Tc(){if(null!==sc){var e=yt(ac),t=Oo.transition,r=bt;try{if(Oo.transition=null,bt=16>e?16:e,null===sc)var s=!1;else{if(e=sc,sc=null,ac=0,0!==(6&Io))throw Error(n(331));var a=Io;for(Io|=4,io=e.current;null!==io;){var i=io,l=i.child;if(0!==(16&io.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(io=d;null!==io;){var u=io;switch(u.tag){case 0:case 11:case 15:uo(8,u,i)}var m=u.child;if(null!==m)m.return=u,io=m;else for(;null!==io;){var h=(u=io).sibling,p=u.return;if(po(u),u===d){io=null;break}if(null!==h){h.return=p,io=h;break}io=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}io=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,io=l;else e:for(;null!==io;){if(0!==(2048&(i=io).flags))switch(i.tag){case 0:case 11:case 15:uo(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,io=b;break e}io=i.return}}var y=e.current;for(io=y;null!==io;){var v=(l=io).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,io=v;else e:for(l=y;null!==io;){if(0!==(2048&(o=io).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(N){Rc(o,o.return,N)}if(o===l){io=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,io=j;break e}io=o.return}}if(Io=a,Ga(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(N){}s=!0}return s}finally{bt=r,Oo.transition=t}}return!1}function Lc(e,t,r){e=Xn(e,t=jl(0,t=xl(r,t),1),1),t=cc(),null!==e&&(gt(e,1,t),mc(e,t))}function Rc(e,t,r){if(3===e.tag)Lc(e,e,r);else for(;null!==t;){if(3===t.tag){Lc(t,e,r);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===tc||!tc.has(s))){t=Xn(t,e=Nl(t,e=xl(r,e),1),1),e=cc(),null!==t&&(gt(t,1,e),mc(t,e));break}}t=t.return}}function Dc(e,t,r){var s=e.pingCache;null!==s&&s.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&r,Mo===e&&(zo&r)===r&&(4===Ho||3===Ho&&(130023424&zo)===zo&&500>Ge()-Go?jc(e,0):$o|=r),mc(e,t)}function Fc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=cc();null!==(e=Hn(e,t))&&(gt(e,t,r),mc(e,r))}function Oc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Fc(e,r)}function Ic(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(n(314))}null!==s&&s.delete(t),Fc(e,r)}function Mc(e,t){return We(e,t)}function Uc(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,r,s){return new Uc(e,t,r,s)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var r=e.alternate;return null===r?((r=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,s,a,i){var l=2;if(s=e,"function"===typeof e)Bc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return Qc(r.children,a,i,t);case _:l=8,a|=8;break;case k:return(e=zc(12,r,t,2|a)).elementType=k,e.lanes=i,e;case A:return(e=zc(13,r,t,a)).elementType=A,e.lanes=i,e;case P:return(e=zc(19,r,t,a)).elementType=P,e.lanes=i,e;case R:return Vc(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case S:l=9;break e;case E:l=11;break e;case T:l=14;break e;case L:l=16,s=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=zc(l,r,t,a)).elementType=e,t.type=s,t.lanes=i,t}function Qc(e,t,r,s){return(e=zc(7,e,s,t)).lanes=r,e}function Vc(e,t,r,s){return(e=zc(22,e,s,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Wc(e,t,r){return(e=zc(6,e,null,t)).lanes=r,e}function $c(e,t,r){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xc(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kc(e,t,r,s,a,n,i,l,o){return e=new Xc(e,t,r,l,o),1===t?(t=1,!0===n&&(t|=8)):t=0,n=zc(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vn(n),e}function Gc(e){if(!e)return Fa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(za(r))return Ha(e,r,t)}return t}function Yc(e,t,r,s,a,n,i,l,o){return(e=Kc(r,s,!0,e,0,n,0,l,o)).context=Gc(null),r=e.current,(n=$n(s=cc(),a=dc(r))).callback=void 0!==t&&null!==t?t:null,Xn(r,n,a),e.current.lanes=a,gt(e,a,s),mc(e,s),e}function Zc(e,t,r,s){var a=t.current,n=cc(),i=dc(a);return r=Gc(r),null===t.context?t.context=r:t.pendingContext=r,(t=$n(n,i)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Xn(a,t,i))&&(uc(e,a,i,n),Kn(e,a,i)),i}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Lo=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)Sl=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Sl=!1,function(e,t,r){switch(t.tag){case 3:Il(t),Nn();break;case 5:ii(t);break;case 1:za(t.type)&&Qa(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Da(Tn,s._currentValue),s._currentValue=a;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Da(oi,1&oi.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Vl(e,t,r):(Da(oi,1&oi.current),null!==(e=Zl(e,t,r))?e.sibling:null);Da(oi,1&oi.current);break;case 19:if(s=0!==(r&t.childLanes),0!==(128&e.flags)){if(s)return Gl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Da(oi,oi.current),s)break;return null;case 22:case 23:return t.lanes=0,Ll(e,t,r)}return Zl(e,t,r)}(e,t,r);Sl=0!==(131072&e.flags)}else Sl=!1,hn&&0!==(1048576&t.flags)&&on(t,en,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Yl(e,t),e=t.pendingProps;var a=Ua(t,Oa.current);Mn(t,r),a=_i(null,t,s,e,a,r);var i=ki();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(s)?(i=!0,Qa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Vn(t),a.updater=ml,t.stateNode=a,a._reactInternals=t,gl(t,s,e,r),t=Ol(null,t,s,!0,i,r)):(t.tag=0,hn&&i&&cn(t),El(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Yl(e,t),e=t.pendingProps,s=(a=s._init)(s._payload),t.type=s,a=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(s),e=dl(s,e),a){case 0:t=Dl(null,t,s,e,r);break e;case 1:t=Fl(null,t,s,e,r);break e;case 11:t=Al(null,t,s,e,r);break e;case 14:t=Pl(null,t,s,dl(s.type,e),r);break e}throw Error(n(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,Dl(e,t,s,a=t.elementType===s?a:dl(s,a),r);case 1:return s=t.type,a=t.pendingProps,Fl(e,t,s,a=t.elementType===s?a:dl(s,a),r);case 3:e:{if(Il(t),null===e)throw Error(n(387));s=t.pendingProps,a=(i=t.memoizedState).element,Wn(e,t),Yn(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ml(e,t,s,r,a=xl(Error(n(423)),t));break e}if(s!==a){t=Ml(e,t,s,r,a=xl(Error(n(424)),t));break e}for(mn=xa(t.stateNode.containerInfo.firstChild),un=t,hn=!0,pn=null,r=Pn(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(Nn(),s===a){t=Zl(e,t,r);break e}El(e,t,s,r)}t=t.child}return t;case 5:return ii(t),null===e&&bn(t),s=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,da(s,a)?l=null:null!==i&&da(s,i)&&(t.flags|=32),Rl(e,t),El(e,t,l,r),t.child;case 6:return null===e&&bn(t),null;case 13:return Vl(e,t,r);case 4:return ai(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=An(t,null,s,r):El(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,Al(e,t,s,a=t.elementType===s?a:dl(s,a),r);case 7:return El(e,t,t.pendingProps,r),t.child;case 8:case 12:return El(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Da(Tn,s._currentValue),s._currentValue=l,null!==i)if(fs(i.value,l)){if(i.children===a.children&&!Ia.current){t=Zl(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===s){if(1===i.tag){(c=$n(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),In(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(n(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),In(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}El(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Mn(t,r),s=s(a=Un(a)),t.flags|=1,El(e,t,s,r),t.child;case 14:return a=dl(s=t.type,t.pendingProps),Pl(e,t,s,a=dl(s.type,a),r);case 15:return Tl(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:dl(s,a),Yl(e,t),t.tag=1,za(s)?(e=!0,Qa(t)):e=!1,Mn(t,r),pl(t,s,a),gl(t,s,a,r),Ol(null,t,s,!0,e,r);case 19:return Gl(e,t,r);case 22:return Ll(e,t,r)}throw Error(n(156,t.tag))};var rd="function"===typeof reportError?reportError:function(e){console.error(e)};function sd(e){this._internalRoot=e}function ad(e){this._internalRoot=e}function nd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ld(){}function od(e,t,r,s,a){var n=r._reactRootContainer;if(n){var i=n;if("function"===typeof a){var l=a;a=function(){var e=Jc(i);l.call(e)}}Zc(t,i,e,a)}else i=function(e,t,r,s,a){if(a){if("function"===typeof s){var n=s;s=function(){var e=Jc(i);n.call(e)}}var i=Yc(t,s,e,0,null,!1,0,"",ld);return e._reactRootContainer=i,e[Na]=i.current,Gs(8===e.nodeType?e.parentNode:e),yc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof s){var l=s;s=function(){var e=Jc(o);l.call(e)}}var o=Kc(e,0,!1,null,0,!1,0,"",ld);return e._reactRootContainer=o,e[Na]=o.current,Gs(8===e.nodeType?e.parentNode:e),yc(function(){Zc(t,o,r,s)}),o}(r,t,e,a,s);return Jc(i)}ad.prototype.render=sd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Zc(e,t,null,null)},ad.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yc(function(){Zc(null,e,null,null)}),t[Na]=null}},ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&0!==t&&t<It[r].priority;r++);It.splice(r,0,e),0===r&&Qt(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(xt(t,1|r),mc(t,Ge()),0===(6&Io)&&(Yo=Ge()+500,Ga()))}break;case 13:yc(function(){var t=Hn(e,1);if(null!==t){var r=cc();uc(t,e,1,r)}}),td(e,1)}},jt=function(e){if(13===e.tag){var t=Hn(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Nt=function(e){if(13===e.tag){var t=dc(e),r=Hn(e,t);if(null!==r)uc(r,e,t,cc());td(e,t)}},wt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Aa(s);if(!a)throw Error(n(90));$(s),Z(s,a)}}}break;case"textarea":ne(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Se=bc,Ee=yc;var cd={usingClientEntryPoint:!1,Events:[Sa,Ea,Aa,ke,Ce,bc]},dd={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{st=md.inject(ud),at=md}catch(Rt){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nd(t))throw Error(n(200));return function(e,t,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==s?null:""+s,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!nd(e))throw Error(n(299));var r=!1,s="",a=rd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Kc(e,1,!1,null,0,r,0,s,a),e[Na]=t.current,Gs(8===e.nodeType?e.parentNode:e),new sd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return yc(e)},t.hydrate=function(e,t,r){if(!id(t))throw Error(n(200));return od(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!nd(e))throw Error(n(405));var s=null!=r&&r.hydratedSources||null,a=!1,i="",l=rd;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(l=r.onRecoverableError)),t=Yc(t,null,e,1,null!=r?r:null,a,0,i,l),e[Na]=t.current,Gs(e),s)for(e=0;e<s.length;e++)a=(a=(r=s[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ad(t)},t.render=function(e,t,r){if(!id(t))throw Error(n(200));return od(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!id(e))throw Error(n(40));return!!e._reactRootContainer&&(yc(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[Na]=null})}),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!id(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return od(e,t,r,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,r)=>{var s=r(119);t.H=s.createRoot,s.hydrateRoot},414:(e,t,r)=>{e.exports=r(654)},526:(e,t,r)=>{function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}r.d(t,{A:()=>a})},538:(e,t,r)=>{e.exports=r(759)},654:(e,t,r)=>{var s=r(950),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,n={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},759:(e,t,r)=>{var s=r(950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},n=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(s){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},761:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var s=r-1>>>1,a=e[s];if(!(0<n(a,t)))break e;e[s]=t,e[r]=a,r=s}}function s(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var s=0,a=e.length,i=a>>>1;s<i;){var l=2*(s+1)-1,o=e[l],c=l+1,d=e[c];if(0>n(o,r))c<a&&0>n(d,o)?(e[s]=d,e[c]=r,s=c):(e[s]=o,e[l]=r,s=l);else{if(!(c<a&&0>n(d,r)))break e;e[s]=d,e[c]=r,s=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=s(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=s(d)}}function j(e){if(g=!1,v(e),!f)if(null!==s(c))f=!0,R(N);else{var t=s(d);null!==t&&D(j,t.startTime-e)}}function N(e,r){f=!1,g&&(g=!1,b(C),C=-1),p=!0;var n=h;try{for(v(r),m=s(c);null!==m&&(!(m.expirationTime>r)||e&&!A());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?m.callback=l:m===s(c)&&a(c),v(r)}else a(c);m=s(c)}if(null!==m)var o=!0;else{var u=s(d);null!==u&&D(j,u.startTime-r),o=!1}return o}finally{m=null,h=n,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,_=!1,k=null,C=-1,S=5,E=-1;function A(){return!(t.unstable_now()-E<S)}function P(){if(null!==k){var e=t.unstable_now();E=e;var r=!0;try{r=k(!0,e)}finally{r?w():(_=!1,k=null)}}else _=!1}if("function"===typeof y)w=function(){y(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,L=T.port2;T.port1.onmessage=P,w=function(){L.postMessage(null)}}else w=function(){x(P,0)};function R(e){k=e,_||(_=!0,w())}function D(e,r){C=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,n){var i=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:n,expirationTime:l=n+l,sortIndex:-1},n>i?(e.sortIndex=n,r(d,e),null===s(c)&&e===s(d)&&(g?(b(C),C=-1):g=!0,D(j,n-i))):(e.sortIndex=l,r(c,e),f||p||(f=!0,R(N))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},950:(e,t,r)=>{e.exports=r(49)},986:(e,t,r)=>{function s(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{A:()=>s})}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var n=Object.create(null);r.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&s;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>s[e]);return i.default=()=>s,r.d(n,i),n}})(),r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,s)=>(r.f[s](e,t),t),[])),r.u=e=>"static/js/"+e+".4c20e6b9.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="icrs-sparc-frontend:";r.l=(s,a,n,i)=>{if(e[s])e[s].push(a);else{var l,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){l=u;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.setAttribute("data-webpack",t+n),l.src=s),e[s]=[a];var m=(t,r)=>{l.onerror=l.onload=null,clearTimeout(h);var a=e[s];if(delete e[s],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(e=>e(r)),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,s)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise((r,s)=>a=e[t]=[r,s]);s.push(a[2]=n);var i=r.p+r.u(t),l=new Error;r.l(i,s=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,a[1](l)}},"chunk-"+t,t)}};var t=(t,s)=>{var a,n,i=s[0],l=s[1],o=s[2],c=0;if(i.some(t=>0!==e[t])){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(o)o(r)}for(t&&t(s);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0},s=self.webpackChunkicrs_sparc_frontend=self.webpackChunkicrs_sparc_frontend||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s,a=r(950),n=r.t(a,2),i=r(352);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Pt){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,s){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function f(e,t,r,a){void 0===a&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,d=n.history,p=s.Pop,f=null,g=x();function x(){return(d.state||{idx:null}).idx}function b(){p=s.Pop;let e=x(),t=null==e?null:e-g;g=e,f&&f({action:p,location:v.location,delta:t})}function y(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,d.replaceState(l({},d.state,{idx:g}),""));let v={get action(){return p},get location(){return e(n,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return n.addEventListener(o,b),f=e,()=>{n.removeEventListener(o,b),f=null}},createHref:e=>t(n,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=s.Push;let a=m(v.location,e,t);r&&r(a,e),g=x()+1;let l=u(a,g),o=v.createHref(a);try{d.pushState(l,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;n.location.assign(o)}i&&f&&f({action:p,location:v.location,delta:1})},replace:function(e,t){p=s.Replace;let a=m(v.location,e,t);r&&r(a,e),g=x();let n=u(a,g),l=v.createHref(a);d.replaceState(n,"",l),i&&f&&f({action:p,location:v.location,delta:0})},go:e=>d.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,s){let a=L(("string"===typeof t?p(t):t).pathname||"/",r);if(null==a)return null;let n=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let i=null;for(let l=0;null==i&&l<n.length;++l){let e=T(a);i=A(n[l],e,s)}return i}function y(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let a=(e,a,n)=>{let i={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(s.length));let l=I([s,i.relativePath]),o=r.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of v(e.path))a(e,t,s);else a(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,a=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===s.length)return a?[n,""]:[n];let i=v(s.join("/")),l=[];return l.push(...i.map(e=>""===e?n:[n,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,w=2,_=1,k=10,C=-2,S=e=>"*"===e;function E(e,t){let r=e.split("/"),s=r.length;return r.some(S)&&(s+=C),t&&(s+=w),r.filter(e=>!S(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?_:k),s)}function A(e,t,r){void 0===r&&(r=!1);let{routesMeta:s}=e,a={},n="/",i=[];for(let l=0;l<s.length;++l){let e=s[l],o=l===s.length-1,c="/"===n?t:t.slice(n.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!s[s.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:I([n,d.pathname]),pathnameBase:M(I([n,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(n=I([n,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let n=new RegExp(a,t?void 0:"i");return[n,s]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let n=a[0],i=n.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((e,t,r)=>{let{paramName:s,isOptional:a}=t;if("*"===s){let e=l[r]||"";i=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[r];return e[s]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function R(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let r=D(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function O(e,t,r,s){let a;void 0===s&&(s=!1),"string"===typeof e?a=p(e):(a=l({},e),c(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let n,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)n=r;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}n=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:r,search:s="",hash:a=""}="string"===typeof e?p(e):e,n=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:n,search:U(s),hash:z(a)}}(a,n),u=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const I=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Q.apply(this,arguments)}const V=a.createContext(null);const W=a.createContext(null);const $=a.createContext(null);const X=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const G=a.createContext(null);function Y(){return null!=a.useContext(X)}function Z(){return Y()||c(!1),a.useContext(X).location}function J(e){a.useContext($).static||a.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=de(oe.UseNavigateStable),t=me(ce.UseNavigateStable),r=a.useRef(!1);return J(()=>{r.current=!0}),a.useCallback(function(s,a){void 0===a&&(a={}),r.current&&("number"===typeof s?e.navigate(s):e.navigate(s,Q({fromRouteId:t},a)))},[e,t])}():function(){Y()||c(!1);let e=a.useContext(V),{basename:t,future:r,navigator:s}=a.useContext($),{matches:n}=a.useContext(K),{pathname:i}=Z(),l=JSON.stringify(F(n,r.v7_relativeSplatPath)),o=a.useRef(!1);return J(()=>{o.current=!0}),a.useCallback(function(r,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof r)return void s.go(r);let n=O(r,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:I([t,n.pathname])),(a.replace?s.replace:s.push)(n,a.state,a)},[t,s,l,i,e])}()}function te(e,t){let{relative:r}=void 0===t?{}:t,{future:s}=a.useContext($),{matches:n}=a.useContext(K),{pathname:i}=Z(),l=JSON.stringify(F(n,s.v7_relativeSplatPath));return a.useMemo(()=>O(e,JSON.parse(l),i,"path"===r),[e,l,i,r])}function re(e,t,r,n){Y()||c(!1);let{navigator:i}=a.useContext($),{matches:l}=a.useContext(K),o=l[l.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=Z();if(t){var f;let e="string"===typeof t?p(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=h;let g=m.pathname||"/",b=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:b});let v=le(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:I([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,n);return t&&v?a.createElement(X.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:s.Pop}},v):v}function se(){let e=function(){var e;let t=a.useContext(G),r=ue(ce.UseRouteError),s=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[s]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,null)}const ae=a.createElement(se,null);class ne extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:s}=e,n=a.useContext(V);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(K.Provider,{value:t},s)}function le(e,t,r,s){var n;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,o=null==(n=r)?void 0:n.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:s}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||a){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,s,n)=>{let i,c=!1,m=null,h=null;var p;r&&(i=o&&s.route.id?o[s.route.id]:void 0,m=s.route.errorElement||ae,d&&(u<0&&0===n?(p="route-fallback",!1||he[p]||(he[p]=!0),c=!0,h=null):u===n&&(c=!0,h=s.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,n+1)),g=()=>{let t;return t=i?m:c?h:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(ie,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===n)?a.createElement(ne,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=a.useContext(V);return t||c(!1),t}function ue(e){let t=a.useContext(W);return t||c(!1),t}function me(e){let t=function(){let e=a.useContext(K);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const he={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function fe(e){let{to:t,replace:r,state:s,relative:n}=e;Y()||c(!1);let{future:i,static:l}=a.useContext($),{matches:o}=a.useContext(K),{pathname:d}=Z(),u=ee(),m=O(t,F(o,i.v7_relativeSplatPath),d,"path"===n),h=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:n}),[u,h,n,r,s]),null}function ge(e){c(!1)}function xe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=s.Pop,navigator:l,static:o=!1,future:d}=e;Y()&&c(!1);let u=t.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:l,static:o,future:Q({v7_relativeSplatPath:!1},d)}),[u,d,l,o]);"string"===typeof n&&(n=p(n));let{pathname:h="/",search:f="",hash:g="",state:x=null,key:b="default"}=n,y=a.useMemo(()=>{let e=L(h,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:x,key:b},navigationType:i}},[u,h,f,g,x,b,i]);return null==y?null:a.createElement($.Provider,{value:m},a.createElement(X.Provider,{children:r,value:y}))}function be(e){let{children:t,location:r}=e;return re(ye(t),r)}new Promise(()=>{});a.Component;function ye(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let n=[...t,s];if(e.type===a.Fragment)return void r.push.apply(r,ye(e.props.children,n));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ye(e.props.children,n)),r.push(i)}),r}var ve=r(119),je=r.t(ve,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ne.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ke=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Pt){}const Ce=a.createContext({isTransitioning:!1});new Map;const Se=n.startTransition;je.flushSync,n.useId;function Ee(e){let{basename:t,children:r,future:s,window:n}=e,i=a.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:n,v5Compat:!0})&&(l={}),f(function(e,t){let{pathname:r,search:s,hash:a}=e.location;return m("",{pathname:r,search:s,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,l)));let o=i.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},p=a.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(p),[o,p]),a.useEffect(()=>pe(s),[s]),a.createElement(xe,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef(function(e,t){let r,{onClick:s,relative:n,reloadDocument:i,replace:l,state:o,target:d,to:u,preventScrollReset:m,viewTransition:p}=e,f=we(e,_e),{basename:g}=a.useContext($),x=!1;if("string"===typeof u&&Pe.test(u)&&(r=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=L(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:x=!0}catch(Pt){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;Y()||c(!1);let{basename:s,navigator:n}=a.useContext($),{hash:i,pathname:l,search:o}=te(e,{relative:r}),d=l;return"/"!==s&&(d="/"===l?s:I([s,l])),n.createHref({pathname:d,search:o,hash:i})}(u,{relative:n}),y=function(e,t){let{target:r,replace:s,state:n,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=ee(),d=Z(),u=te(e,{relative:l});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==s?s:h(d)===h(u);c(e,{replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,n,r,e,i,l,o])}(u,{replace:l,state:o,target:d,preventScrollReset:m,relative:n,viewTransition:p});return a.createElement("a",Ne({},f,{href:r||b,onClick:x||i?s:function(e){s&&s(e),e.defaultPrevented||y(e)},ref:t,target:d}))});const Le=a.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:n="",end:i=!1,style:l,to:o,viewTransition:d,children:u}=e,m=we(e,ke),h=te(o,{relative:m.relative}),p=Z(),f=a.useContext(W),{navigator:g,basename:x}=a.useContext($),b=null!=f&&function(e,t){void 0===t&&(t={});let r=a.useContext(Ce);null==r&&c(!1);let{basename:s}=Fe(Re.useViewTransitionState),n=te(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=L(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=L(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=P(n.pathname,l)||null!=P(n.pathname,i)}(h)&&!0===d,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,v=p.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(v=v.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&x&&(j=L(j,x)||j);const N="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,_=v===y||!i&&v.startsWith(y)&&"/"===v.charAt(N),k=null!=j&&(j===y||!i&&j.startsWith(y)&&"/"===j.charAt(y.length)),C={isActive:_,isPending:k,isTransitioning:b},S=_?r:void 0;w="function"===typeof n?n(C):[n,_?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof l?l(C):l;return a.createElement(Te,Ne({},m,{"aria-current":S,className:w,ref:t,style:E,to:o,viewTransition:d}),"function"===typeof u?u(C):u)});var Re,De;function Fe(e){let t=a.useContext(V);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Oe=r(51);const Ie="undefined"===typeof window||"Deno"in window;function Me(){}function Ue(e){return"number"===typeof e&&e>=0&&e!==1/0}function ze(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Be(e,t,r){return et(e)?"function"===typeof t?(0,Oe.A)((0,Oe.A)({},r),{},{queryKey:e,queryFn:t}):(0,Oe.A)((0,Oe.A)({},t),{},{queryKey:e}):e}function qe(e,t,r){return et(e)?[(0,Oe.A)((0,Oe.A)({},t),{},{queryKey:e}),r]:[e||{},t]}function He(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:n,queryKey:i,stale:l}=e;if(et(i))if(s){if(t.queryHash!==Ve(i,t.options))return!1}else if(!$e(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("undefined"===typeof a||a===t.state.fetchStatus)&&!(n&&!n(t)))}function Qe(e,t){const{exact:r,fetching:s,predicate:a,mutationKey:n}=e;if(et(n)){if(!t.options.mutationKey)return!1;if(r){if(We(t.options.mutationKey)!==We(n))return!1}else if(!$e(t.options.mutationKey,n))return!1}return("boolean"!==typeof s||"loading"===t.state.status===s)&&!(a&&!a(t))}function Ve(e,t){return((null==t?void 0:t.queryKeyHashFn)||We)(e)}function We(e){return JSON.stringify(e,(e,t)=>Ze(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function $e(e,t){return Xe(e,t)}function Xe(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(r=>!Xe(e[r],t[r])))}function Ke(e,t){if(e===t)return e;const r=Ye(e)&&Ye(t);if(r||Ze(e)&&Ze(t)){const s=r?e.length:Object.keys(e).length,a=r?t:Object.keys(t),n=a.length,i=r?[]:{};let l=0;for(let o=0;o<n;o++){const s=r?o:a[o];i[s]=Ke(e[s],t[s]),i[s]===e[s]&&l++}return s===n&&l===s?e:i}return t}function Ge(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ye(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ze(e){if(!Je(e))return!1;const t=e.constructor;if("undefined"===typeof t)return!0;const r=t.prototype;return!!Je(r)&&!!r.hasOwnProperty("isPrototypeOf")}function Je(e){return"[object Object]"===Object.prototype.toString.call(e)}function et(e){return Array.isArray(e)}function tt(e){return new Promise(t=>{setTimeout(t,e)})}function rt(e){tt(0).then(e)}function st(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"===typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Ke(e,t):t}const at=console;const nt=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()};const a=s=>{t?e.push(s):rt(()=>{r(s)})},n=()=>{const t=e;e=[],t.length&&rt(()=>{s(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{t--,t||n()}return r},batchCalls:e=>function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];a(()=>{e(...r)})},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e}}}();class it{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const lt=new class extends it{constructor(){super(),this.setup=e=>{if(!Ie&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(e=>{let{listener:t}=e;t()})}isFocused(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},ot=["online","offline"];const ct=new class extends it{constructor(){super(),this.setup=e=>{if(!Ie&&window.addEventListener){const t=()=>e();return ot.forEach(e=>{window.addEventListener(e,t,!1)}),()=>{ot.forEach(e=>{window.removeEventListener(e,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"===typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(e=>{let{listener:t}=e;t()})}isOnline(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}};function dt(e){return Math.min(1e3*2**e,3e4)}function ut(e){return"online"!==(null!=e?e:"online")||ct.isOnline()}class mt{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function ht(e){return e instanceof mt}function pt(e){let t,r,s,a=!1,n=0,i=!1;const l=new Promise((e,t)=>{r=e,s=t}),o=()=>!lt.isFocused()||"always"!==e.networkMode&&!ct.isOnline(),c=s=>{i||(i=!0,null==e.onSuccess||e.onSuccess(s),null==t||t(),r(s))},d=r=>{i||(i=!0,null==e.onError||e.onError(r),null==t||t(),s(r))},u=()=>new Promise(r=>{t=e=>{const t=i||!o();return t&&r(e),t},null==e.onPause||e.onPause()}).then(()=>{t=void 0,i||null==e.onContinue||e.onContinue()}),m=()=>{if(i)return;let t;try{t=e.fn()}catch(r){t=Promise.reject(r)}Promise.resolve(t).then(c).catch(t=>{var r,s;if(i)return;const l=null!=(r=e.retry)?r:3,c=null!=(s=e.retryDelay)?s:dt,h="function"===typeof c?c(n,t):c,p=!0===l||"number"===typeof l&&n<l||"function"===typeof l&&l(n,t);!a&&p?(n++,null==e.onFail||e.onFail(n,t),tt(h).then(()=>{if(o())return u()}).then(()=>{a?d(t):m()})):d(t)})};return ut(e.networkMode)?m():u().then(m),{promise:l,cancel:t=>{i||(d(new mt(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?l:Promise.resolve(),cancelRetry:()=>{a=!0},continueRetry:()=>{a=!1}}}class ft{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ue(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:Ie?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class gt extends ft{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||at,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,r="undefined"!==typeof t,s=r?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options=(0,Oe.A)((0,Oe.A)({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const r=st(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(Me).catch(Me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!ze(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,s;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return null==(a=this.retryer)||a.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=function(){if("function"===typeof AbortController)return new AbortController}(),i={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(n)return this.abortSignalConsumed=!0,n.signal}})};l(i);const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(i)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var c;(l(o),null==(r=this.options.behavior)||r.onFetch(o),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(s=o.fetchOptions)?void 0:s.meta))&&this.dispatch({type:"fetch",meta:null==(c=o.fetchOptions)?void 0:c.meta});const d=e=>{var t,r,s,a;(ht(e)&&e.silent||this.dispatch({type:"error",error:e}),ht(e))||(null==(t=(r=this.cache.config).onError)||t.call(r,e,this),null==(s=(a=this.cache.config).onSettled)||s.call(a,this.state.data,e,this));this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=pt({fn:o.fetchFn,abort:null==n?void 0:n.abort.bind(n),onSuccess:e=>{var t,r,s,a;"undefined"!==typeof e?(this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),null==(s=(a=this.cache.config).onSettled)||s.call(a,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):d(new Error(this.queryHash+" data is undefined"))},onError:d,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,s;switch(e.type){case"failed":return(0,Oe.A)((0,Oe.A)({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return(0,Oe.A)((0,Oe.A)({},t),{},{fetchStatus:"paused"});case"continue":return(0,Oe.A)((0,Oe.A)({},t),{},{fetchStatus:"fetching"});case"fetch":return(0,Oe.A)((0,Oe.A)({},t),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:ut(this.options.networkMode)?"fetching":"paused"},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,Oe.A)((0,Oe.A)({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(s=e.dataUpdatedAt)?s:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const a=e.error;return ht(a)&&a.revert&&this.revertState?(0,Oe.A)((0,Oe.A)({},this.revertState),{},{fetchStatus:"idle"}):(0,Oe.A)((0,Oe.A)({},t),{},{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return(0,Oe.A)((0,Oe.A)({},t),{},{isInvalidated:!0});case"setState":return(0,Oe.A)((0,Oe.A)({},t),e.state)}})(this.state),nt.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}class xt extends it{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var s;const a=t.queryKey,n=null!=(s=t.queryHash)?s:Ve(a,t);let i=this.get(n);return i||(i=new gt({cache:this,logger:e.getLogger(),queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){nt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=qe(e,t);return"undefined"===typeof r.exact&&(r.exact=!0),this.queries.find(e=>He(r,e))}findAll(e,t){const[r]=qe(e,t);return Object.keys(r).length>0?this.queries.filter(e=>He(r,e)):this.queries}notify(e){nt.batch(()=>{this.listeners.forEach(t=>{let{listener:r}=t;r(e)})})}onFocus(){nt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){nt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class bt extends ft{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||at,this.observers=[],this.state=e.state||yt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=(0,Oe.A)((0,Oe.A)({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=pt({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var r,s,a,n,i,l,o,c;if(!t){var d,u,m,h;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(d=(u=this.mutationCache.config).onMutate)?void 0:d.call(u,this.state.variables,this));const e=await(null==(m=(h=this.options).onMutate)?void 0:m.call(h,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const p=await e();return await(null==(r=(s=this.mutationCache.config).onSuccess)?void 0:r.call(s,p,this.state.variables,this.state.context,this)),await(null==(a=(n=this.options).onSuccess)?void 0:a.call(n,p,this.state.variables,this.state.context)),await(null==(i=(l=this.mutationCache.config).onSettled)?void 0:i.call(l,p,null,this.state.variables,this.state.context,this)),await(null==(o=(c=this.options).onSettled)?void 0:o.call(c,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(N){try{var p,f,g,x,b,y,v,j;throw await(null==(p=(f=this.mutationCache.config).onError)?void 0:p.call(f,N,this.state.variables,this.state.context,this)),await(null==(g=(x=this.options).onError)?void 0:g.call(x,N,this.state.variables,this.state.context)),await(null==(b=(y=this.mutationCache.config).onSettled)?void 0:b.call(y,void 0,N,this.state.variables,this.state.context,this)),await(null==(v=(j=this.options).onSettled)?void 0:v.call(j,void 0,N,this.state.variables,this.state.context)),N}finally{this.dispatch({type:"error",error:N})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return(0,Oe.A)((0,Oe.A)({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return(0,Oe.A)((0,Oe.A)({},t),{},{isPaused:!0});case"continue":return(0,Oe.A)((0,Oe.A)({},t),{},{isPaused:!1});case"loading":return(0,Oe.A)((0,Oe.A)({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ut(this.options.networkMode),status:"loading",variables:e.variables});case"success":return(0,Oe.A)((0,Oe.A)({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,Oe.A)((0,Oe.A)({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return(0,Oe.A)((0,Oe.A)({},t),e.state)}})(this.state),nt.batch(()=>{this.observers.forEach(t=>{t.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function yt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class vt extends it{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const s=new bt({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){nt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(t=>Qe(e,t))}findAll(e){return this.mutations.filter(t=>Qe(e,t))}notify(e){nt.batch(()=>{this.listeners.forEach(t=>{let{listener:r}=t;r(e)})})}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(()=>{const e=this.mutations.filter(e=>e.state.isPaused);return nt.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(Me)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function jt(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,s,a,n,i;const l=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,o=null==(s=e.fetchOptions)||null==(a=s.meta)?void 0:a.fetchMore,c=null==o?void 0:o.pageParam,d="forward"===(null==o?void 0:o.direction),u="backward"===(null==o?void 0:o.direction),m=(null==(n=e.state.data)?void 0:n.pages)||[],h=(null==(i=e.state.data)?void 0:i.pageParams)||[];let p=h,f=!1;const g=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),x=(e,t,r,s)=>(p=s?[t,...p]:[...p,t],s?[r,...e]:[...e,r]),b=(t,r,s,a)=>{if(f)return Promise.reject("Cancelled");if("undefined"===typeof s&&!r&&t.length)return Promise.resolve(t);const n={queryKey:e.queryKey,pageParam:s,meta:e.options.meta};var i;i=n,Object.defineProperty(i,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?f=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{f=!0}),e.signal}});const l=g(n);return Promise.resolve(l).then(e=>x(t,s,e,a))};let y;if(m.length)if(d){const t="undefined"!==typeof c,r=t?c:Nt(e.options,m);y=b(m,t,r)}else if(u){const t="undefined"!==typeof c,r=t?c:wt(e.options,m);y=b(m,t,r,!0)}else{p=[];const t="undefined"===typeof e.options.getNextPageParam;y=!l||!m[0]||l(m[0],0,m)?b([],t,h[0]):Promise.resolve(x([],h[0],m[0]));for(let r=1;r<m.length;r++)y=y.then(s=>{if(!l||!m[r]||l(m[r],r,m)){const a=t?h[r]:Nt(e.options,s);return b(s,t,a)}return Promise.resolve(x(s,h[r],m[r]))})}else y=b([]);return y.then(e=>({pages:e,pageParams:p}))}}}}function Nt(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function wt(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}const _t=a.createContext(void 0),kt=a.createContext(!1);function Ct(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_t),window.ReactQueryClientContext):_t)}const St=function(){let{context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a.useContext(Ct(e,a.useContext(kt)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Et=e=>{let{client:t,children:r,context:s,contextSharing:n=!1}=e;a.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Ct(s,n);return a.createElement(kt.Provider,{value:!s&&n},a.createElement(i.Provider,{value:t},r))};function At(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Pt={data:""},Tt=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Pt,Lt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rt=/\/\*[^]*?\*\/|  +/g,Dt=/\n+/g,Ft=(e,t)=>{let r="",s="",a="";for(let n in e){let i=e[n];"@"==n[0]?"i"==n[1]?r=n+" "+i+";":s+="f"==n[1]?Ft(i,n):n+"{"+Ft(i,"k"==n[1]?"":t)+"}":"object"==typeof i?s+=Ft(i,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=i&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ft.p?Ft.p(n,i):n+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+s},Ot={},It=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+It(e[r]);return t}return e},Mt=(e,t,r,s,a)=>{let n=It(e),i=Ot[n]||(Ot[n]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(n));if(!Ot[i]){let t=n!==e?e:(e=>{let t,r,s=[{}];for(;t=Lt.exec(e.replace(Rt,""));)t[4]?s.shift():t[3]?(r=t[3].replace(Dt," ").trim(),s.unshift(s[0][r]=s[0][r]||{})):s[0][t[1]]=t[2].replace(Dt," ").trim();return s[0]})(e);Ot[i]=Ft(a?{["@keyframes "+i]:t}:t,r?"":"."+i)}let l=r&&Ot.g?Ot.g:null;return r&&(Ot.g=Ot[i]),((e,t,r,s)=>{s?t.data=t.data.replace(s,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Ot[i],t,s,l),i};function Ut(e){let t=this||{},r=e.call?e(t.p):e;return Mt(r.unshift?r.raw?((e,t,r)=>e.reduce((e,s,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":Ft(e,""):!1===e?"":e}return e+s+(null==n?"":n)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,Tt(t.target),t.g,t.o,t.k)}Ut.bind({g:1});let zt,Bt,qt,Ht=Ut.bind({k:1});function Qt(e,t){let r=this||{};return function(){let s=arguments;function a(n,i){let l=Object.assign({},n),o=l.className||a.className;r.p=Object.assign({theme:Bt&&Bt()},l),r.o=/ *go\d+/.test(o),l.className=Ut.apply(r,s)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),qt&&c[0]&&qt(l),zt(c,l)}return t?t(a):a}}var Vt,Wt,$t,Xt,Kt,Gt,Yt,Zt,Jt,er,tr,rr,sr,ar,nr,ir,lr=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,or=(()=>{let e=0;return()=>(++e).toString()})(),cr=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dr="default",ur=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Oe.A)((0,Oe.A)({},e),t.toast):e)});case 2:let{toast:s}=t;return ur(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?(0,Oe.A)((0,Oe.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Oe.A)((0,Oe.A)({},e),{},{toasts:[]}):(0,Oe.A)((0,Oe.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Oe.A)((0,Oe.A)({},e),{},{pausedAt:t.time});case 6:let n=t.time-(e.pausedAt||0);return(0,Oe.A)((0,Oe.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{pauseDuration:e.pauseDuration+n}))})}},mr=[],hr={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},pr={},fr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr;pr[t]=ur(pr[t]||hr,e),mr.forEach(e=>{let[r,s]=e;r===t&&s(pr[t])})},gr=e=>Object.keys(pr).forEach(t=>fr(e,t)),xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return t=>{fr(t,e)}},br={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yr=e=>(t,r)=>{let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return(0,Oe.A)((0,Oe.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||or()})}(t,e,r);return xr(s.toasterId||(e=>Object.keys(pr).find(t=>pr[t].toasts.some(t=>t.id===e)))(s.id))({type:2,toast:s}),s.id},vr=(e,t)=>yr("blank")(e,t);vr.error=yr("error"),vr.success=yr("success"),vr.loading=yr("loading"),vr.custom=yr("custom"),vr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?xr(t)(r):gr(r)},vr.dismissAll=e=>vr.dismiss(void 0,e),vr.remove=(e,t)=>{let r={type:4,toastId:e};t?xr(t)(r):gr(r)},vr.removeAll=e=>vr.remove(void 0,e),vr.promise=(e,t,r)=>{let s=vr.loading(t.loading,(0,Oe.A)((0,Oe.A)({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?lr(t.success,e):void 0;return a?vr.success(a,(0,Oe.A)((0,Oe.A)({id:s},r),null==r?void 0:r.success)):vr.dismiss(s),e}).catch(e=>{let a=t.error?lr(t.error,e):void 0;a?vr.error(a,(0,Oe.A)((0,Oe.A)({id:s},r),null==r?void 0:r.error)):vr.dismiss(s)}),e};var jr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr,[r,s]=(0,a.useState)(pr[t]||hr),n=(0,a.useRef)(pr[t]);(0,a.useEffect)(()=>(n.current!==pr[t]&&s(pr[t]),mr.push([t,s]),()=>{let e=mr.findIndex(e=>{let[r]=e;return r===t});e>-1&&mr.splice(e,1)}),[t]);let i=r.toasts.map(t=>{var r,s,a;return(0,Oe.A)((0,Oe.A)((0,Oe.A)((0,Oe.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(s=e[t.type])?void 0:s.duration)||(null==e?void 0:e.duration)||br[t.type],style:(0,Oe.A)((0,Oe.A)((0,Oe.A)({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return(0,Oe.A)((0,Oe.A)({},r),{},{toasts:i})}(e,t),n=(0,a.useRef)(new Map).current,i=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(n.has(e))return;let r=setTimeout(()=>{n.delete(e),l({type:4,toastId:e})},t);n.set(e,r)},[]);(0,a.useEffect)(()=>{if(s)return;let e=Date.now(),a=r.map(r=>{if(r.duration===1/0)return;let s=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(!(s<0))return setTimeout(()=>vr.dismiss(r.id,t),s);r.visible&&vr.dismiss(r.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[r,s,t]);let l=(0,a.useCallback)(xr(t),[t]),o=(0,a.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),c=(0,a.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,a.useCallback)(()=>{s&&l({type:6,time:Date.now()})},[s,l]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:s=!1,gutter:a=8,defaultPosition:n}=t||{},i=r.filter(t=>(t.position||n)===(e.position||n)&&t.height),l=i.findIndex(t=>t.id===e.id),o=i.filter((e,t)=>t<l&&e.visible).length;return i.filter(e=>e.visible).slice(...s?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,a.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=n.get(e.id);t&&(clearTimeout(t),n.delete(e.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Nr=Ht(Vt||(Vt=At(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),wr=Ht(Wt||(Wt=At(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),_r=Ht($t||($t=At(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),kr=Qt("div")(Xt||(Xt=At(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Nr,wr,e=>e.secondary||"#fff",_r),Cr=Ht(Kt||(Kt=At(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Sr=Qt("div")(Gt||(Gt=At(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Cr),Er=Ht(Yt||(Yt=At(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ar=Ht(Zt||(Zt=At(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Pr=Qt("div")(Jt||(Jt=At(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Er,Ar,e=>e.secondary||"#fff"),Tr=Qt("div")(er||(er=At(["\n  position: absolute;\n"]))),Lr=Qt("div")(tr||(tr=At(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Rr=Ht(rr||(rr=At(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dr=Qt("div")(sr||(sr=At(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Rr),Fr=e=>{let{toast:t}=e,{icon:r,type:s,iconTheme:n}=t;return void 0!==r?"string"==typeof r?a.createElement(Dr,null,r):r:"blank"===s?null:a.createElement(Lr,null,a.createElement(Sr,(0,Oe.A)({},n)),"loading"!==s&&a.createElement(Tr,null,"error"===s?a.createElement(kr,(0,Oe.A)({},n)):a.createElement(Pr,(0,Oe.A)({},n))))},Or=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ir=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Mr=Qt("div")(ar||(ar=At(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ur=Qt("div")(nr||(nr=At(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),zr=a.memo(e=>{let{toast:t,position:r,style:s,children:n}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[s,a]=cr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Or(r),Ir(r)];return{animation:t?"".concat(Ht(s)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ht(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},l=a.createElement(Fr,{toast:t}),o=a.createElement(Ur,(0,Oe.A)({},t.ariaProps),lr(t.message,t));return a.createElement(Mr,{className:t.className,style:(0,Oe.A)((0,Oe.A)((0,Oe.A)({},i),s),t.style)},"function"==typeof n?n({icon:l,message:o}):a.createElement(a.Fragment,null,l,o))});!function(e,t,r,s){Ft.p=t,zt=e,Bt=r,qt=s}(a.createElement);var Br=e=>{let{id:t,className:r,style:s,onHeightUpdate:n,children:i}=e,l=a.useCallback(e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;n(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return a.createElement("div",{ref:l,className:r,style:s},i)},qr=Ut(ir||(ir=At(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Hr=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:s,gutter:n,children:i,toasterId:l,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=jr(s,l);return a.createElement("div",{"data-rht-toaster":l||"",style:(0,Oe.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let s=e.position||r,l=((e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,Oe.A)((0,Oe.A)({left:0,right:0,display:"flex",position:"absolute",transition:cr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},s),a)})(s,u.calculateOffset(e,{reverseOrder:t,gutter:n,defaultPosition:r}));return a.createElement(Br,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?qr:"",style:l},"custom"===e.type?lr(e.message,e):i?i(e):a.createElement(zr,{toast:e,position:s}))}))},Qr=vr;const Vr=new class{constructor(){var e=this;this.auth={login:async(e,t)=>{const r=await this.post("/api/auth/login",{email:e,password:t});if(r.success&&r.data){var s;const e=(null===(s=r.data.session)||void 0===s?void 0:s.access_token)||r.data.access_token;this.setToken(e),this.setUser(r.data.user)}return r},register:async e=>this.post("/api/auth/register",e),logout:async()=>{try{await this.post("/api/auth/logout")}finally{this.setToken(null),this.setUser(null)}},refresh:async()=>{const e=await this.post("/api/auth/refresh");return e.success&&e.data&&(this.setToken(e.data.access_token),this.setUser(e.data.user)),e},getProfile:async()=>this.get("/api/auth/me"),updateProfile:async e=>this.put("/api/auth/me",e)},this.inventory={getLots:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/inventory/lots",t)},getLot:async e=>this.get("/api/inventory/lots/".concat(e)),createLot:async e=>this.post("/api/inventory/lots",e),updateLot:async(e,t)=>this.put("/api/inventory/lots/".concat(e),t),deleteLot:async e=>this.delete("/api/inventory/lots/".concat(e)),getTransactions:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/inventory/transactions",t)},createTransaction:async e=>this.post("/api/inventory/transactions",e)},this.parts={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/parts",t)},getById:async e=>this.get("/api/parts/".concat(e)),create:async e=>this.post("/api/parts",e),update:async(e,t)=>this.put("/api/parts/".concat(e),t),delete:async e=>this.delete("/api/parts/".concat(e)),search:async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.get("/api/parts/search",(0,Oe.A)({q:t},r))}},this.customers={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/customers",t)},getById:async e=>this.get("/api/customers/".concat(e)),create:async e=>this.post("/api/customers",e),update:async(e,t)=>this.put("/api/customers/".concat(e),t),delete:async e=>this.delete("/api/customers/".concat(e))},this.preadmission={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/preadmission",t)},getById:async e=>this.get("/api/preadmission/".concat(e)),create:async e=>this.post("/api/preadmission",e),update:async(e,t)=>this.put("/api/preadmission/".concat(e),t),delete:async e=>this.delete("/api/preadmission/".concat(e)),updateStatus:async function(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.patch("/api/preadmission/".concat(t,"/status"),{status:r,notes:s})}},this.preshipments={getAll:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/preshipments",t)},getById:async e=>this.get("/api/preshipments/".concat(e)),create:async e=>this.post("/api/preshipments",e),update:async(e,t)=>this.put("/api/preshipments/".concat(e),t),delete:async e=>this.delete("/api/preshipments/".concat(e)),updateStatus:async function(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.patch("/api/preshipments/".concat(t,"/status"),{status:r,notes:s})},generateEntryS:async e=>this.post("/api/preshipments/".concat(e,"/generate-entry-summary")),fileWithCBP:async e=>this.post("/api/preshipments/".concat(e,"/file-cbp")),validateACEEntry:async e=>this.post("/api/preshipments/validate-ace-entry",e),getStats:async()=>this.get("/api/preshipments/stats/dashboard")},this.dashboard={getStats:async()=>this.get("/api/dashboard/stats"),getInventorySummary:async()=>this.get("/api/dashboard/inventory-summary"),getRecentActivity:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/dashboard/recent-activity",t)},getAlerts:async()=>this.get("/api/dashboard/alerts"),getPerformanceMetrics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.get("/api/dashboard/performance",t)}},this.utils={healthCheck:async()=>this.get("/health"),getApiInfo:async()=>this.get("/api")},this.baseURL=this.discoverApiUrl(),this.token=null,this.user=null,this.requestInterceptors=[],this.responseInterceptors=[],this.addRequestInterceptor(e=>(this.token&&(e.headers=(0,Oe.A)((0,Oe.A)({},e.headers),{},{Authorization:"Bearer ".concat(this.token)})),e)),this.addResponseInterceptor(e=>e,e=>(401===e.status&&this.handleAuthError(),Promise.reject(e)))}discoverApiUrl(){return"/api"}setToken(e){this.token=e,e?localStorage.setItem("icrs_auth_token",e):localStorage.removeItem("icrs_auth_token")}setUser(e){this.user=e,e?localStorage.setItem("icrs_user",JSON.stringify(e)):localStorage.removeItem("icrs_user")}getCurrentUser(){if(!this.user){const e=localStorage.getItem("icrs_user");this.user=e?JSON.parse(e):null}return this.user}initialize(){const e=localStorage.getItem("icrs_auth_token"),t=localStorage.getItem("icrs_user");e&&(this.token=e),t&&(this.user=JSON.parse(t))}handleAuthError(){this.setToken(null),this.setUser(null),"/login"!==window.location.pathname&&(window.location.href="/login")}addRequestInterceptor(e){this.requestInterceptors.push(e)}addResponseInterceptor(e,t){this.responseInterceptors.push({onFulfilled:e,onRejected:t})}async applyRequestInterceptors(e){let t=e;for(const r of this.requestInterceptors)t=await r(t);return t}async applyResponseInterceptors(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;for(const a of this.responseInterceptors)try{t&&a.onRejected?r=await a.onRejected(r):!t&&a.onFulfilled&&(r=await a.onFulfilled(r))}catch(s){r=s,t=!0}if(t)throw r;return r}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,Oe.A)({method:"GET",headers:(0,Oe.A)({"Content-Type":"application/json"},t.headers)},t),s=await this.applyRequestInterceptors(r);try{const t=await fetch("".concat(this.baseURL).concat(e),s);let r;const a=t.headers.get("content-type");if(r=a&&a.includes("application/json")?await t.json():await t.text(),!t.ok){const e=new Error(r.error||"HTTP ".concat(t.status));throw e.status=t.status,e.data=r,e}return(await this.applyResponseInterceptors({data:r,status:t.status})).data}catch(a){throw await this.applyResponseInterceptors(a,!0),a}}async get(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString(),r=t?"".concat(e,"?").concat(t):e;return this.request(r)}async post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async patch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}};Vr.initialize();const Wr=Vr,{auth:$r,inventory:Xr,parts:Kr,customers:Gr,preadmission:Yr,preshipments:Zr,dashboard:Jr,utils:es}=Vr;var ts=r(414);const rs={user:null,isAuthenticated:!1,loading:!0,permissions:[],employee:null,error:null},ss="SET_LOADING",as="LOGIN_SUCCESS",ns="LOGIN_ERROR",is="LOGOUT",ls="SET_USER",os="SET_PERMISSIONS",cs="SET_EMPLOYEE",ds="CLEAR_ERROR",us=(e,t)=>{switch(t.type){case ss:return(0,Oe.A)((0,Oe.A)({},e),{},{loading:t.payload});case as:return(0,Oe.A)((0,Oe.A)({},e),{},{user:t.payload.user,isAuthenticated:!0,loading:!1,error:null});case ns:return(0,Oe.A)((0,Oe.A)({},e),{},{user:null,isAuthenticated:!1,loading:!1,error:t.payload,permissions:[],employee:null});case is:return(0,Oe.A)((0,Oe.A)({},e),{},{user:null,isAuthenticated:!1,loading:!1,permissions:[],employee:null,error:null});case ls:return(0,Oe.A)((0,Oe.A)({},e),{},{user:t.payload,isAuthenticated:!!t.payload,loading:!1});case os:return(0,Oe.A)((0,Oe.A)({},e),{},{permissions:t.payload||[]});case cs:return(0,Oe.A)((0,Oe.A)({},e),{},{employee:t.payload});case ds:return(0,Oe.A)((0,Oe.A)({},e),{},{error:null});default:return e}},ms=(0,a.createContext)(null),hs=e=>{let{children:t}=e;const[r,s]=(0,a.useReducer)(us,rs);(0,a.useEffect)(()=>{n()},[]);const n=async()=>{try{const t=Wr.getCurrentUser();if(localStorage.getItem("icrs_auth_token")&&t)try{s({type:as,payload:{user:t}}),await i(t)}catch(e){localStorage.removeItem("icrs_auth_token"),localStorage.removeItem("icrs_user"),Wr.setToken(null),Wr.setUser(null),s({type:is})}else s({type:is})}catch(e){console.error("Auth initialization error:",e),s({type:is})}finally{s({type:ss,payload:!1})}},i=async e=>{try{var t,r,a,n,i;const o=(null===(t=e.user_metadata)||void 0===t?void 0:t.role)||e.role||"warehouse_staff",c=l(o);s({type:os,payload:c}),s({type:cs,payload:{first_name:(null===(r=e.user_metadata)||void 0===r||null===(a=r.full_name)||void 0===a?void 0:a.split(" ")[0])||"User",last_name:(null===(n=e.user_metadata)||void 0===n||null===(i=n.full_name)||void 0===i?void 0:i.split(" ").slice(1).join(" "))||"User",role:o}})}catch(o){console.warn("Could not load user permissions:",o),s({type:os,payload:[]})}},l=e=>({admin:["admin","manager","warehouse_staff"],manager:["manager","warehouse_staff"],warehouse_staff:["warehouse_staff"]}[e]||["warehouse_staff"]),o=e=>{var t;if(!r.isAuthenticated||!r.user)return!1;if("admin"===r.user.role)return!0;if(Array.isArray(r.permissions))return r.permissions.includes(e);return(null===(t={admin:["admin","manager","warehouse_staff"],manager:["manager","warehouse_staff"],warehouse_staff:["warehouse_staff"]}[r.user.role||"warehouse_staff"])||void 0===t?void 0:t.includes(e))||!1},c={user:r.user,isAuthenticated:r.isAuthenticated,loading:r.loading,permissions:r.permissions,employee:r.employee,error:r.error,login:async(e,t)=>{s({type:ss,payload:!0}),s({type:ds});try{const r=await Wr.auth.login(e,t);if(r.success)return s({type:as,payload:{user:r.data.user}}),await i(r.data.user),Qr.success("Login successful"),{success:!0};throw new Error(r.error||"Login failed")}catch(r){const e=r.message||"Login failed. Please try again.";return s({type:ns,payload:e}),Qr.error(e),{success:!1,error:e}}},logout:async()=>{try{await Wr.auth.logout()}catch(e){console.warn("Logout API call failed:",e)}finally{s({type:is}),Qr.success("Logged out successfully")}},register:async e=>{s({type:ss,payload:!0}),s({type:ds});try{const t=await Wr.auth.register(e);if(t.success)return Qr.success("Registration successful. Please login."),{success:!0};throw new Error(t.error||"Registration failed")}catch(t){const e=t.message||"Registration failed. Please try again.";return s({type:ns,payload:e}),Qr.error(e),{success:!1,error:e}}finally{s({type:ss,payload:!1})}},updateProfile:async e=>{try{const t=await Wr.auth.updateProfile(e);if(t.success)return s({type:ls,payload:t.data}),Qr.success("Profile updated successfully"),{success:!0};throw new Error(t.error||"Profile update failed")}catch(t){const e=t.message||"Profile update failed";return Qr.error(e),{success:!1,error:e}}},hasPermission:o,hasAnyRole:e=>!(!r.isAuthenticated||!r.user)&&("string"===typeof e&&(e=[e]),e.some(e=>o(e))),getUserDisplayName:()=>r.user?r.employee&&"".concat(r.employee.first_name," ").concat(r.employee.last_name).trim()||r.user.email:"",clearError:()=>s({type:ds})};return(0,ts.jsx)(ms.Provider,{value:c,children:t})},ps=()=>{const e=(0,a.useContext)(ms);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var fs=r(986),gs=r(526);const xs={sidebarCollapsed:!1,darkMode:!1,activeModal:null,modalData:null,loading:{customers:!1,parts:!1,locations:!1,suppliers:!1},customers:[],parts:[],locations:[],suppliers:[],materials:[],settings:{dateFormat:"MM/dd/yyyy",currency:"USD",timezone:"America/New_York",itemsPerPage:25},dashboardStats:null,notifications:[],alerts:[],errors:{}},bs="SET_LOADING",ys="SET_SIDEBAR_COLLAPSED",vs="SET_DARK_MODE",js="SHOW_MODAL",Ns="HIDE_MODAL",ws="SET_CUSTOMERS",_s="SET_PARTS",ks="SET_LOCATIONS",Cs="SET_SUPPLIERS",Ss="SET_MATERIALS",Es="SET_DASHBOARD_STATS",As="ADD_NOTIFICATION",Ps="REMOVE_NOTIFICATION",Ts="SET_ALERTS",Ls="SET_ERROR",Rs="CLEAR_ERROR",Ds="UPDATE_SETTINGS",Fs=(e,t)=>{switch(t.type){case bs:return(0,Oe.A)((0,Oe.A)({},e),{},{loading:(0,Oe.A)((0,Oe.A)({},e.loading),{},{[t.payload.key]:t.payload.value})});case ys:return(0,Oe.A)((0,Oe.A)({},e),{},{sidebarCollapsed:t.payload});case vs:return(0,Oe.A)((0,Oe.A)({},e),{},{darkMode:t.payload});case js:return(0,Oe.A)((0,Oe.A)({},e),{},{activeModal:t.payload.modalType,modalData:t.payload.modalData});case Ns:return(0,Oe.A)((0,Oe.A)({},e),{},{activeModal:null,modalData:null});case ws:return(0,Oe.A)((0,Oe.A)({},e),{},{customers:t.payload});case _s:return(0,Oe.A)((0,Oe.A)({},e),{},{parts:t.payload});case ks:return(0,Oe.A)((0,Oe.A)({},e),{},{locations:t.payload});case Cs:return(0,Oe.A)((0,Oe.A)({},e),{},{suppliers:t.payload});case Ss:return(0,Oe.A)((0,Oe.A)({},e),{},{materials:t.payload});case Es:return(0,Oe.A)((0,Oe.A)({},e),{},{dashboardStats:t.payload});case As:return(0,Oe.A)((0,Oe.A)({},e),{},{notifications:[...e.notifications,t.payload]});case Ps:return(0,Oe.A)((0,Oe.A)({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case Ts:return(0,Oe.A)((0,Oe.A)({},e),{},{alerts:t.payload});case Ls:return(0,Oe.A)((0,Oe.A)({},e),{},{errors:(0,Oe.A)((0,Oe.A)({},e.errors),{},{[t.payload.key]:t.payload.error})});case Rs:const r=e.errors,s=t.payload,{[s]:a}=r,n=(0,fs.A)(r,[s].map(gs.A));return(0,Oe.A)((0,Oe.A)({},e),{},{errors:n});case Ds:return(0,Oe.A)((0,Oe.A)({},e),{},{settings:(0,Oe.A)((0,Oe.A)({},e.settings),t.payload)});default:return e}},Os=(0,a.createContext)(null),Is=e=>{let{children:t}=e;const[r,s]=(0,a.useReducer)(Fs,xs);(0,a.useEffect)(()=>{const e=localStorage.getItem("icrs_app_settings");if(e)try{const t=JSON.parse(e);s({type:Ds,payload:t})}catch(a){console.warn("Could not load saved settings:",a)}const t="true"===localStorage.getItem("icrs_dark_mode");s({type:vs,payload:t});const r="true"===localStorage.getItem("icrs_sidebar_collapsed");s({type:ys,payload:r})},[]),(0,a.useEffect)(()=>{localStorage.setItem("icrs_app_settings",JSON.stringify(r.settings))},[r.settings]),(0,a.useEffect)(()=>{localStorage.setItem("icrs_dark_mode",r.darkMode.toString())},[r.darkMode]),(0,a.useEffect)(()=>{localStorage.setItem("icrs_sidebar_collapsed",r.sidebarCollapsed.toString())},[r.sidebarCollapsed]);const n=(0,a.useCallback)(async()=>{try{await Promise.all([i(),l(),o(),c()])}catch(e){console.error("App initialization error:",e)}},[]),i=async()=>{s({type:bs,payload:{key:"customers",value:!0}});try{const e=await Wr.customers.getAll({limit:1e3,active:!0});e.success&&s({type:ws,payload:e.data})}catch(e){console.error("Error loading customers:",e),s({type:Ls,payload:{key:"customers",error:e.message}})}finally{s({type:bs,payload:{key:"customers",value:!1}})}},l=async()=>{s({type:bs,payload:{key:"parts",value:!0}});try{const e=await Wr.parts.getAll({limit:1e3,active:!0});e.success&&s({type:_s,payload:e.data})}catch(e){console.error("Error loading parts:",e),s({type:Ls,payload:{key:"parts",error:e.message}})}finally{s({type:bs,payload:{key:"parts",value:!1}})}},o=async()=>{s({type:bs,payload:{key:"locations",value:!0}});try{const e=await Wr.get("/api/locations",{limit:1e3,active:!0});e.success&&s({type:ks,payload:e.data})}catch(e){console.error("Error loading locations:",e),s({type:Ls,payload:{key:"locations",error:e.message}})}finally{s({type:bs,payload:{key:"locations",value:!1}})}},c=async()=>{try{const e=await Wr.get("/api/materials");e.success&&s({type:Ss,payload:e.data})}catch(e){console.error("Error loading materials:",e)}},d=async()=>{try{const e=await Wr.dashboard.getStats();e.success&&s({type:Es,payload:e.data})}catch(e){console.error("Error loading dashboard stats:",e)}},u=e=>{const t=Date.now()+Math.random(),r=(0,Oe.A)((0,Oe.A)({},e),{},{id:t});return s({type:As,payload:r}),0!==e.duration&&setTimeout(()=>{m(t)},e.duration||5e3),t},m=e=>{s({type:Ps,payload:e})},h=(0,Oe.A)((0,Oe.A)({},r),{},{toggleSidebar:()=>{s({type:ys,payload:!r.sidebarCollapsed})},toggleDarkMode:()=>{s({type:vs,payload:!r.darkMode})},updateSettings:e=>{s({type:Ds,payload:e})},addNotification:u,removeNotification:m,showSuccess:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qr.success(e),u((0,Oe.A)({type:"success",message:e},t))},showError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qr.error(e),u((0,Oe.A)({type:"error",message:e},t))},showInfo:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qr(e),u((0,Oe.A)({type:"info",message:e},t))},showModal:function(e){s({type:js,payload:{modalType:e,modalData:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}})},hideModal:()=>{s({type:Ns})},refreshData:async e=>{switch(e){case"customers":return i();case"parts":return l();case"locations":return o();case"dashboard":return d();case"all":return n();default:console.warn("Unknown data type: ".concat(e))}},clearError:e=>{s({type:Rs,payload:e})},loadDashboardStats:d,initializeApp:n});return(0,ts.jsx)(Os.Provider,{value:h,children:t})},Ms=()=>{const e=(0,a.useContext)(Os);if(!e)throw new Error("useApp must be used within an AppProvider");return e};class Us extends a.Component{constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),window.Sentry&&window.Sentry.captureException(e,{contexts:{react:{componentStack:t.componentStack}}})}render(){return this.state.hasError?(0,ts.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,ts.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ts.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),(0,ts.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1]}),(0,ts.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,ts.jsx)("button",{onClick:this.handleRetry,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Try Again"}),(0,ts.jsx)("button",{onClick:()=>window.location.reload(),className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Refresh Page"}),(0,ts.jsx)("a",{href:"/dashboard",className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Dashboard"})]})]})}):this.props.children}}const zs=Us;function Bs(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Bs(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}const qs=function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Bs(e))&&(s&&(s+=" "),s+=t);return s},Hs=e=>{let{size:t="md",color:r="blue",className:s="",fullScreen:a=!1,message:n="Loading..."}=e;const i={blue:"text-blue-600",gray:"text-gray-600",green:"text-green-600",red:"text-red-600",yellow:"text-yellow-600",white:"text-white"},l=(0,ts.jsxs)("div",{className:qs("flex items-center space-x-2",s),children:[(0,ts.jsxs)("svg",{className:qs("animate-spin",{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[t],i[r]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&(0,ts.jsx)("span",{className:qs("text-sm",i[r]),children:n})]});return a?(0,ts.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50",children:l}):l},Qs=e=>{let{rows:t=3,className:r=""}=e;return(0,ts.jsxs)("div",{className:qs("animate-pulse",r),children:[(0,ts.jsx)("div",{className:"bg-gray-300 h-4 rounded mb-3"}),Array.from({length:t}).map((e,t)=>(0,ts.jsx)("div",{className:"bg-gray-200 h-3 rounded mb-2"},t))]})},Vs=e=>{let{size:t="sm"}=e;return(0,ts.jsxs)("svg",{className:qs("animate-spin mr-2","xs"===t&&"w-3 h-3","sm"===t&&"w-4 h-4","md"===t&&"w-5 h-5"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},Ws=e=>{let{text:t="Loading..."}=e;return(0,ts.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,ts.jsx)(Hs,{size:"sm",color:"gray"}),(0,ts.jsx)("span",{className:"ml-2 text-gray-600 text-sm",children:t})]})},$s=Hs,Xs=[{name:"Dashboard",href:"/dashboard",icon:(0,ts.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v14l-5-3-5 3V5z"})]}),permission:null},{name:"Inventory",href:"/inventory",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),permission:null},{name:"Pre-Admissions",href:"/preadmissions",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),permission:null},{name:"Pre-Shipments",href:"/preshipments",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2v0a2 2 0 01-2-2v-1"})}),permission:null},{name:"Receiving",href:"/receiving",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),permission:null},{name:"Shipping",href:"/shipping",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})}),permission:null},{name:"Parts",href:"/parts",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),permission:null},{name:"HTS Browser",href:"/hts-browser",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),permission:null},{name:"Entry Summary Groups",href:"/entry-summary-groups",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),permission:"manager"},{name:"Reports",href:"/reports",icon:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),permission:"manager"},{name:"Admin",href:"/admin",icon:(0,ts.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),permission:"admin"}],Ks=e=>{let{isOpen:t,onClose:r,user:s}=e;const a=Z(),{hasPermission:n,logout:i,getUserDisplayName:l}=ps(),{sidebarCollapsed:o,toggleSidebar:c}=Ms(),d=Xs.filter(e=>!e.permission||n(e.permission)),u=async()=>{await i()};return(0,ts.jsxs)(ts.Fragment,{children:[t&&(0,ts.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 md:hidden",onClick:r}),(0,ts.jsxs)("div",{className:qs("fixed inset-y-0 left-0 z-50 flex flex-col w-64 bg-gray-900 transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-0",t?"translate-x-0":"-translate-x-full",o&&"md:w-16"),children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0 px-4 py-4 bg-gray-800",children:[!o&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-white font-bold text-sm",children:"ICRS"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h1",{className:"text-lg font-semibold text-white",children:"SPARC"}),(0,ts.jsx)("p",{className:"text-xs text-gray-300",children:"Foreign Trade Zone"})]})]}),(0,ts.jsx)("button",{onClick:r,className:"md:hidden p-1 rounded-md text-gray-400 hover:text-white hover:bg-gray-700",children:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ts.jsx)("button",{onClick:c,className:"hidden md:block p-1 rounded-md text-gray-400 hover:text-white hover:bg-gray-700",children:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:o?"M13 5l7 7-7 7M5 5l7 7-7 7":"M11 19l-7-7 7-7M19 19l-7-7 7-7"})})})]}),(0,ts.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:d.map(e=>{const t=a.pathname===e.href;return(0,ts.jsxs)(Le,{to:e.href,className:qs("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-200",t?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),title:o?e.name:void 0,children:[(0,ts.jsx)("span",{className:qs("flex-shrink-0",t?"text-white":"text-gray-400 group-hover:text-gray-300"),children:e.icon}),!o&&(0,ts.jsx)("span",{className:"ml-3",children:e.name})]},e.name)})}),(0,ts.jsx)("div",{className:"flex-shrink-0 border-t border-gray-700",children:(0,ts.jsx)("div",{className:"px-4 py-4",children:o?(0,ts.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,ts.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-white text-sm font-medium",children:l().charAt(0).toUpperCase()})}),(0,ts.jsx)("button",{onClick:u,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md transition-colors duration-200",title:"Sign out",children:(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,ts.jsx)("span",{className:"text-white text-sm font-medium",children:l().charAt(0).toUpperCase()})})}),(0,ts.jsxs)("div",{className:"ml-3 overflow-hidden",children:[(0,ts.jsx)("p",{className:"text-sm font-medium text-white truncate",children:l()}),(0,ts.jsx)("p",{className:"text-xs text-gray-400 truncate",children:(null===s||void 0===s?void 0:s.role)||"User"})]})]}),(0,ts.jsxs)("button",{onClick:u,className:"w-full flex items-center px-2 py-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-700 rounded-md transition-colors duration-200",children:[(0,ts.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,ts.jsx)("span",{className:"ml-3",children:"Sign out"})]})]})})})]})]})};class Gs extends it{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=this.client.defaultMutationOptions(e),Ge(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,Oe.A)((0,Oe.A)({},this.options),{},{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t="loading"===e.status,r=(0,Oe.A)((0,Oe.A)({},e),{},{isLoading:t,isPending:t,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=r}notify(e){nt.batch(()=>{var t,r,s,a;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(s=(a=this.mutateOptions).onSettled)||s.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var n,i,l,o;null==(n=(i=this.mutateOptions).onError)||n.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(l=(o=this.mutateOptions).onSettled)||l.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach(e=>{let{listener:t}=e;t(this.currentResult)})})}}const Ys=r(538).useSyncExternalStore;function Zs(e,t){return"function"===typeof e?e(...t):!!e}function Js(e,t,r){const s=function(e,t,r){return et(e)?"function"===typeof t?(0,Oe.A)((0,Oe.A)({},r),{},{mutationKey:e,mutationFn:t}):(0,Oe.A)((0,Oe.A)({},t),{},{mutationKey:e}):"function"===typeof e?(0,Oe.A)((0,Oe.A)({},t),{},{mutationFn:e}):(0,Oe.A)({},e)}(e,t,r),n=St({context:s.context}),[i]=a.useState(()=>new Gs(n,s));a.useEffect(()=>{i.setOptions(s)},[i,s]);const l=Ys(a.useCallback(e=>i.subscribe(nt.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=a.useCallback((e,t)=>{i.mutate(e,t).catch(ea)},[i]);if(l.error&&Zs(i.options.useErrorBoundary,[l.error]))throw l.error;return(0,Oe.A)((0,Oe.A)({},l),{},{mutate:o,mutateAsync:l.mutate})}function ea(){}const ta=e=>{let{isOpen:t,onClose:r,title:s,children:n,size:i="md",showCloseButton:l=!0,preventCloseOnOverlay:o=!1,className:c="",headerClassName:d="",bodyClassName:u=""}=e;if((0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r]),!t)return null;return(0,ts.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,ts.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,ts.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e=>{e.target!==e.currentTarget||o||r()}}),(0,ts.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,ts.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl",full:"max-w-7xl w-full mx-4"}[i]," sm:w-full ").concat(c),children:[(s||l)&&(0,ts.jsxs)("div",{className:"bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between ".concat(d),children:[(0,ts.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:s}),l&&(0,ts.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:r,children:[(0,ts.jsx)("span",{className:"sr-only",children:"Close"}),(0,ts.jsx)("i",{className:"fas fa-times h-6 w-6","aria-hidden":"true"})]})]}),(0,ts.jsx)("div",{className:"bg-white ".concat("full"===i?"px-0 py-0":"px-4 py-5 sm:p-6"," ").concat(u),children:n})]})]})})},ra=e=>{let{isOpen:t,onClose:r,onSuccess:s,onError:n,employee:i=null,isEdit:l=!1}=e;const o=St(),[c,d]=(0,a.useState)({name:(null===i||void 0===i?void 0:i.name)||"",email:(null===i||void 0===i?void 0:i.email)||"",role:(null===i||void 0===i?void 0:i.role)||"employee",department:(null===i||void 0===i?void 0:i.department)||"",phone:(null===i||void 0===i?void 0:i.phone)||"",status:(null===i||void 0===i?void 0:i.status)||"active"}),[u,m]=(0,a.useState)({}),h=Js({mutationFn:async e=>l?Wr.put("/api/admin/employees/".concat(i.id),e):Wr.post("/api/admin/employees",e),onSuccess:e=>{e.success?(o.invalidateQueries(["admin","employees"]),o.invalidateQueries(["admin","stats"]),s(l?"Employee updated successfully":"Employee added successfully")):n(e.error||"Operation failed")},onError:e=>{n(e.message||"Operation failed")}}),p=(e,t)=>{d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),u[e]&&m(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},f=()=>{h.isPending||(d({name:"",email:"",role:"employee",department:"",phone:"",status:"active"}),m({}),r())};return(0,ts.jsx)(ta,{isOpen:t,onClose:f,title:l?"Edit Employee":"Add New Employee",size:"md",preventCloseOnOverlay:h.isPending,children:(0,ts.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return c.name.trim()||(e.name="Name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(e.email="Email is invalid"):e.email="Email is required",c.role||(e.role="Role is required"),m(e),0===Object.keys(e).length})()&&h.mutate(c)},className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,ts.jsx)("input",{type:"text",value:c.name,onChange:e=>p("name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.name?"border-red-300":"border-gray-300"),placeholder:"Enter full name",disabled:h.isPending}),u.name&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,ts.jsx)("input",{type:"email",value:c.email,onChange:e=>p("email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.email?"border-red-300":"border-gray-300"),placeholder:"Enter email address",disabled:h.isPending}),u.email&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),(0,ts.jsxs)("select",{value:c.role,onChange:e=>p("role",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.role?"border-red-300":"border-gray-300"),disabled:h.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Role"}),(0,ts.jsx)("option",{value:"admin",children:"Administrator"}),(0,ts.jsx)("option",{value:"manager",children:"Manager"}),(0,ts.jsx)("option",{value:"employee",children:"Employee"}),(0,ts.jsx)("option",{value:"viewer",children:"Viewer"})]}),u.role&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.role})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,ts.jsx)("input",{type:"text",value:c.department,onChange:e=>p("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter department",disabled:h.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,ts.jsx)("input",{type:"tel",value:c.phone,onChange:e=>p("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number",disabled:h.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{value:c.status,onChange:e=>p("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h.isPending,children:[(0,ts.jsx)("option",{value:"active",children:"Active"}),(0,ts.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:h.isPending,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:h.isPending,children:h.isPending?(0,ts.jsxs)("span",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),l?"Updating...":"Adding..."]}):l?"Update Employee":"Add Employee"})]})]})})},sa={steel:{label:"Steel",category:"metal",color:"bg-gray-100 text-gray-800",icon:"fas fa-hammer"},aluminum:{label:"Aluminum",category:"metal",color:"bg-blue-100 text-blue-800",icon:"fas fa-cube"},copper:{label:"Copper",category:"metal",color:"bg-orange-100 text-orange-800",icon:"fas fa-circle"},brass:{label:"Brass",category:"metal",color:"bg-yellow-100 text-yellow-800",icon:"fas fa-circle"},plastic:{label:"Plastic",category:"polymer",color:"bg-green-100 text-green-800",icon:"fas fa-shapes"},rubber:{label:"Rubber",category:"polymer",color:"bg-purple-100 text-purple-800",icon:"fas fa-circle"},glass:{label:"Glass",category:"ceramic",color:"bg-indigo-100 text-indigo-800",icon:"fas fa-gem"},ceramic:{label:"Ceramic",category:"ceramic",color:"bg-red-100 text-red-800",icon:"fas fa-shapes"},composite:{label:"Composite",category:"composite",color:"bg-teal-100 text-teal-800",icon:"fas fa-layer-group"},wood:{label:"Wood",category:"organic",color:"bg-amber-100 text-amber-800",icon:"fas fa-tree"},fabric:{label:"Fabric",category:"textile",color:"bg-pink-100 text-pink-800",icon:"fas fa-cut"},paper:{label:"Paper",category:"organic",color:"bg-slate-100 text-slate-800",icon:"fas fa-file"},other:{label:"Other",category:"misc",color:"bg-gray-100 text-gray-800",icon:"fas fa-question"}},aa=e=>{if(!e)return"Unknown";const t=sa[e.toLowerCase()];return t?t.label:e.charAt(0).toUpperCase()+e.slice(1)},na=e=>e&&sa[e.toLowerCase()]||sa.other,ia=()=>Object.entries(sa).map(e=>{let[t,r]=e;return{value:t,label:r.label,category:r.category}}),la=e=>{let{isOpen:t,onClose:r,onSuccess:s,onError:n,part:i=null,isEdit:l=!1}=e;const o=St(),[c,d]=(0,a.useState)({id:(null===i||void 0===i?void 0:i.id)||"",description:(null===i||void 0===i?void 0:i.description)||"",hts_code:(null===i||void 0===i?void 0:i.hts_code)||"",country_of_origin:(null===i||void 0===i?void 0:i.country_of_origin)||"",standard_value:(null===i||void 0===i?void 0:i.standard_value)||"",material_price:(null===i||void 0===i?void 0:i.material_price)||"",labor_price:(null===i||void 0===i?void 0:i.labor_price)||"",material_weight:(null===i||void 0===i?void 0:i.material_weight)||"",unit_of_measure:(null===i||void 0===i?void 0:i.unit_of_measure)||"EA",gross_weight:(null===i||void 0===i?void 0:i.gross_weight)||"",material:(null===i||void 0===i?void 0:i.material)||"",manufacturer:(null===i||void 0===i?void 0:i.manufacturer)||"",status:(null===i||void 0===i?void 0:i.status)||"active"}),[u,m]=(0,a.useState)({}),h=Js({mutationFn:async e=>l?Wr.parts.update(i.id,e):Wr.parts.create(e),onSuccess:e=>{e.success?(o.invalidateQueries(["parts"]),o.invalidateQueries(["admin","parts"]),o.invalidateQueries(["admin","parts-master"]),o.invalidateQueries(["admin","stats"]),s(l?"Part updated successfully":"Part added successfully")):n(e.error||"Operation failed")},onError:e=>{n(e.message||"Operation failed")}}),p=(e,t)=>{if(d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),"material_weight"===e||"material_price"===e){parseFloat("material_weight"===e?t:c.material_weight);const r=((parseFloat("material_price"===e?t:c.material_price)||0)+(parseFloat(c.labor_price)||0)).toFixed(2);d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{standard_value:r}))}else if("labor_price"===e){const e=((parseFloat(c.material_price)||0)+(parseFloat(t)||0)).toFixed(2);d(t=>(0,Oe.A)((0,Oe.A)({},t),{},{standard_value:e}))}u[e]&&m(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},f=()=>{h.isPending||(d({id:"",description:"",hts_code:"",country_of_origin:"",standard_value:"",material_price:"",labor_price:"",material_weight:"",unit_of_measure:"EA",gross_weight:"",material:"",manufacturer:"",status:"active"}),m({}),r())},g=ia();return(0,ts.jsx)(ta,{isOpen:t,onClose:f,title:l?"Edit Part":"Add New Part",size:"xl",preventCloseOnOverlay:h.isPending,children:(0,ts.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return c.id.trim()||(e.id="Part number is required"),c.description.trim()||(e.description="Description is required"),c.hts_code&&!/^\d{4}\.\d{2}\.\d{4}$/.test(c.hts_code)&&(e.hts_code="HTS code must be in format XXXX.XX.XXXX"),c.standard_value&&isNaN(parseFloat(c.standard_value))&&(e.standard_value="Standard value must be a valid number"),c.material_weight&&isNaN(parseFloat(c.material_weight))&&(e.material_weight="Material weight must be a valid number"),c.gross_weight&&isNaN(parseFloat(c.gross_weight))&&(e.gross_weight="Gross weight must be a valid number"),m(e),0===Object.keys(e).length})())return;const t=(0,Oe.A)((0,Oe.A)({},c),{},{standard_value:parseFloat(c.standard_value)||0,material_price:parseFloat(c.material_price)||0,labor_price:parseFloat(c.labor_price)||0,material_weight:parseFloat(c.material_weight)||0,gross_weight:parseFloat(c.gross_weight)||0});h.mutate(t)},className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Number *"}),(0,ts.jsx)("input",{type:"text",value:c.id,onChange:e=>p("id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.id?"border-red-300":"border-gray-300"),placeholder:"Enter part number",disabled:h.isPending}),u.id&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.id})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),(0,ts.jsx)("input",{type:"text",value:c.manufacturer,onChange:e=>p("manufacturer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter manufacturer",disabled:h.isPending})]})]}),(0,ts.jsxs)("div",{className:"mt-4",children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,ts.jsx)("textarea",{value:c.description,onChange:e=>p("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.description?"border-red-300":"border-gray-300"),placeholder:"Enter detailed part description",disabled:h.isPending}),u.description&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.description})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Classification"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HTS Code"}),(0,ts.jsx)("input",{type:"text",value:c.hts_code,onChange:e=>p("hts_code",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.hts_code?"border-red-300":"border-gray-300"),placeholder:"XXXX.XX.XXXX",disabled:h.isPending}),u.hts_code&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.hts_code})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country of Origin"}),(0,ts.jsx)("input",{type:"text",value:c.country_of_origin,onChange:e=>p("country_of_origin",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., USA, CHN, DEU",disabled:h.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),(0,ts.jsxs)("select",{value:c.material,onChange:e=>p("material",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Material"}),g.map(e=>(0,ts.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),(0,ts.jsxs)("select",{value:c.unit_of_measure,onChange:e=>p("unit_of_measure",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h.isPending,children:[(0,ts.jsx)("option",{value:"EA",children:"Each (EA)"}),(0,ts.jsx)("option",{value:"LB",children:"Pounds (LB)"}),(0,ts.jsx)("option",{value:"KG",children:"Kilograms (KG)"}),(0,ts.jsx)("option",{value:"FT",children:"Feet (FT)"}),(0,ts.jsx)("option",{value:"M",children:"Meters (M)"}),(0,ts.jsx)("option",{value:"GAL",children:"Gallons (GAL)"}),(0,ts.jsx)("option",{value:"L",children:"Liters (L)"})]})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Weight"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Cost ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.material_price,onChange:e=>p("material_price",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:h.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Labor Cost ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.labor_price,onChange:e=>p("labor_price",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:h.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Standard Value ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.standard_value,onChange:e=>p("standard_value",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.standard_value?"border-red-300":"border-gray-300"),placeholder:"0.00",disabled:h.isPending}),u.standard_value&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.standard_value})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Weight"}),(0,ts.jsx)("input",{type:"number",step:"0.001",min:"0",value:c.material_weight,onChange:e=>p("material_weight",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.material_weight?"border-red-300":"border-gray-300"),placeholder:"0.000",disabled:h.isPending}),u.material_weight&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.material_weight})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Weight"}),(0,ts.jsx)("input",{type:"number",step:"0.001",min:"0",value:c.gross_weight,onChange:e=>p("gross_weight",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(u.gross_weight?"border-red-300":"border-gray-300"),placeholder:"0.000",disabled:h.isPending}),u.gross_weight&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.gross_weight})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{value:c.status,onChange:e=>p("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h.isPending,children:[(0,ts.jsx)("option",{value:"active",children:"Active"}),(0,ts.jsx)("option",{value:"inactive",children:"Inactive"}),(0,ts.jsx)("option",{value:"discontinued",children:"Discontinued"})]})]})]})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:h.isPending,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:h.isPending,children:h.isPending?(0,ts.jsxs)("span",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),l?"Updating...":"Adding..."]}):l?"Update Part":"Add Part"})]})]})})},oa=e=>{var t;let{isOpen:r,onClose:s,onSuccess:n,onError:i,customer:l=null,isEdit:o=!1}=e;const c=St(),[d,u]=(0,a.useState)({name:(null===l||void 0===l?void 0:l.name)||"",ein:(null===l||void 0===l?void 0:l.ein)||"",address:(null===l||void 0===l?void 0:l.address)||"",broker_name:(null===l||void 0===l?void 0:l.broker_name)||"",contact_email:(null===l||void 0===l?void 0:l.contact_email)||"",phone:(null===l||void 0===l?void 0:l.phone)||"",website:(null===l||void 0===l?void 0:l.website)||"",industry:(null===l||void 0===l?void 0:l.industry)||"",notes:(null===l||void 0===l?void 0:l.notes)||"",status:(null===l||void 0===l?void 0:l.status)||"active"}),[m,h]=(0,a.useState)(null!==l&&void 0!==l&&null!==(t=l.contacts)&&void 0!==t&&t.length?l.contacts:[{name:"",email:"",phone:"",title:"",location:"",is_primary:!0}]),[p,f]=(0,a.useState)({}),g=Js({mutationFn:async e=>{const t=(0,Oe.A)((0,Oe.A)({},e),{},{contacts:m.filter(e=>e.name.trim()||e.email.trim())});return o?Wr.customers.update(l.id,t):Wr.customers.create(t)},onSuccess:e=>{e.success?(c.invalidateQueries(["customers"]),c.invalidateQueries(["admin","customers"]),c.invalidateQueries(["admin","customers-master"]),c.invalidateQueries(["admin","stats"]),n(o?"Customer updated successfully":"Customer added successfully")):i(e.error||"Operation failed")},onError:e=>{i(e.message||"Operation failed")}}),x=(e,t)=>{u(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),p[e]&&f(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},b=(e,t,r)=>{h(s=>{const a=[...s];return a[e]=(0,Oe.A)((0,Oe.A)({},a[e]),{},{[t]:r}),"is_primary"===t&&r&&a.forEach((t,r)=>{r!==e&&(t.is_primary=!1)}),a})},y=()=>{g.isPending||(u({name:"",ein:"",address:"",broker_name:"",contact_email:"",phone:"",website:"",industry:"",notes:"",status:"active"}),h([{name:"",email:"",phone:"",title:"",location:"",is_primary:!0}]),f({}),s())};return(0,ts.jsx)(ta,{isOpen:r,onClose:y,title:o?"Edit Customer":"Add New Customer",size:"xl",preventCloseOnOverlay:g.isPending,children:(0,ts.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return d.name.trim()||(e.name="Company name is required"),d.ein&&!/^\d{2}-\d{7}$/.test(d.ein)&&(e.ein="EIN must be in format XX-XXXXXXX"),d.contact_email&&!/\S+@\S+\.\S+/.test(d.contact_email)&&(e.contact_email="Invalid email format"),d.website&&!/^https?:\/\//.test(d.website)&&(d.website.includes(".")?u(e=>(0,Oe.A)((0,Oe.A)({},e),{},{website:"https://".concat(d.website)})):e.website="Website must be a valid URL"),0===m.filter(e=>e.name.trim()||e.email.trim()).length&&(e.contacts="At least one contact with name or email is required"),f(e),0===Object.keys(e).length})()&&g.mutate(d)},className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),(0,ts.jsx)("input",{type:"text",value:d.name,onChange:e=>x("name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.name?"border-red-300":"border-gray-300"),placeholder:"Enter company name",disabled:g.isPending}),p.name&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EIN (Tax ID)"}),(0,ts.jsx)("input",{type:"text",value:d.ein,onChange:e=>x("ein",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.ein?"border-red-300":"border-gray-300"),placeholder:"XX-XXXXXXX",disabled:g.isPending}),p.ein&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.ein})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),(0,ts.jsxs)("select",{value:d.industry,onChange:e=>x("industry",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Industry"}),(0,ts.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,ts.jsx)("option",{value:"automotive",children:"Automotive"}),(0,ts.jsx)("option",{value:"electronics",children:"Electronics"}),(0,ts.jsx)("option",{value:"textiles",children:"Textiles"}),(0,ts.jsx)("option",{value:"food-beverage",children:"Food & Beverage"}),(0,ts.jsx)("option",{value:"chemicals",children:"Chemicals"}),(0,ts.jsx)("option",{value:"pharmaceuticals",children:"Pharmaceuticals"}),(0,ts.jsx)("option",{value:"machinery",children:"Machinery"}),(0,ts.jsx)("option",{value:"aerospace",children:"Aerospace"}),(0,ts.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{value:d.status,onChange:e=>x("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"active",children:"Active"}),(0,ts.jsx)("option",{value:"inactive",children:"Inactive"}),(0,ts.jsx)("option",{value:"suspended",children:"Suspended"})]})]})]}),(0,ts.jsxs)("div",{className:"mt-4",children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,ts.jsx)("textarea",{value:d.address,onChange:e=>x("address",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company address",disabled:g.isPending})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Email"}),(0,ts.jsx)("input",{type:"email",value:d.contact_email,onChange:e=>x("contact_email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.contact_email?"border-red-300":"border-gray-300"),placeholder:"contact@company.com",disabled:g.isPending}),p.contact_email&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.contact_email})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,ts.jsx)("input",{type:"tel",value:d.phone,onChange:e=>x("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567",disabled:g.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,ts.jsx)("input",{type:"url",value:d.website,onChange:e=>x("website",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.website?"border-red-300":"border-gray-300"),placeholder:"https://company.com",disabled:g.isPending}),p.website&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.website})]})]}),(0,ts.jsxs)("div",{className:"mt-4",children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customs Broker"}),(0,ts.jsx)("input",{type:"text",value:d.broker_name,onChange:e=>x("broker_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter customs broker name",disabled:g.isPending})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Additional Contacts"}),(0,ts.jsxs)("button",{type:"button",onClick:()=>{h(e=>[...e,{name:"",email:"",phone:"",title:"",location:"",is_primary:!1}])},className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",disabled:g.isPending,children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-1"})," Add Contact"]})]}),p.contacts&&(0,ts.jsx)("p",{className:"mb-4 text-sm text-red-600",children:p.contacts}),(0,ts.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",checked:e.is_primary,onChange:e=>b(t,"is_primary",e.target.checked),className:"mr-2",disabled:g.isPending}),(0,ts.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Primary Contact"})]}),m.length>1&&(0,ts.jsx)("button",{type:"button",onClick:()=>(e=>{m.length>1&&h(t=>{const r=t.filter((t,r)=>r!==e);return t[e].is_primary&&r.length>0&&(r[0].is_primary=!0),r})})(t),className:"text-red-600 hover:text-red-800 disabled:opacity-50",disabled:g.isPending,children:(0,ts.jsx)("i",{className:"fas fa-trash text-sm"})})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",value:e.name,onChange:e=>b(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contact name",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"email",value:e.email,onChange:e=>b(t,"email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"tel",value:e.phone,onChange:e=>b(t,"phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",value:e.title,onChange:e=>b(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Job title",disabled:g.isPending})})]})]},t))})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,ts.jsx)("textarea",{value:d.notes,onChange:e=>x("notes",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes about the customer...",disabled:g.isPending})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:g.isPending,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g.isPending,children:g.isPending?(0,ts.jsxs)("span",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),o?"Updating...":"Adding..."]}):o?"Update Customer":"Add Customer"})]})]})})},ca=e=>{var t;let{isOpen:r,onClose:s,onSuccess:n,onError:i,supplier:l=null,isEdit:o=!1}=e;const c=St(),[d,u]=(0,a.useState)({name:(null===l||void 0===l?void 0:l.name)||"",ein:(null===l||void 0===l?void 0:l.ein)||"",address:(null===l||void 0===l?void 0:l.address)||"",country:(null===l||void 0===l?void 0:l.country)||"",contact_email:(null===l||void 0===l?void 0:l.contact_email)||"",phone:(null===l||void 0===l?void 0:l.phone)||"",contact_person:(null===l||void 0===l?void 0:l.contact_person)||"",website:(null===l||void 0===l?void 0:l.website)||"",industry:(null===l||void 0===l?void 0:l.industry)||"",broker_name:(null===l||void 0===l?void 0:l.broker_name)||"",broker_contact:(null===l||void 0===l?void 0:l.broker_contact)||"",broker_contact_email:(null===l||void 0===l?void 0:l.broker_contact_email)||"",broker_contact_phone:(null===l||void 0===l?void 0:l.broker_contact_phone)||"",payment_terms:(null===l||void 0===l?void 0:l.payment_terms)||"",currency:(null===l||void 0===l?void 0:l.currency)||"USD",notes:(null===l||void 0===l?void 0:l.notes)||"",status:(null===l||void 0===l?void 0:l.status)||"active"}),[m,h]=(0,a.useState)(null!==l&&void 0!==l&&null!==(t=l.contacts)&&void 0!==t&&t.length?l.contacts:[{name:"",email:"",phone:"",title:"",location:"",is_primary:!0}]),[p,f]=(0,a.useState)({}),g=Js({mutationFn:async e=>{const t=(0,Oe.A)((0,Oe.A)({},e),{},{contacts:m.filter(e=>e.name.trim()||e.email.trim())});return o?Wr.put("/api/admin/suppliers/".concat(l.id),t):Wr.post("/api/admin/suppliers",t)},onSuccess:e=>{e.success?(c.invalidateQueries(["admin","suppliers"]),c.invalidateQueries(["admin","suppliers-master"]),c.invalidateQueries(["admin","stats"]),n(o?"Supplier updated successfully":"Supplier added successfully")):i(e.error||"Operation failed")},onError:e=>{i(e.message||"Operation failed")}}),x=(e,t)=>{u(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),p[e]&&f(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},b=(e,t,r)=>{h(s=>{const a=[...s];return a[e]=(0,Oe.A)((0,Oe.A)({},a[e]),{},{[t]:r}),"is_primary"===t&&r&&a.forEach((t,r)=>{r!==e&&(t.is_primary=!1)}),a})},y=()=>{g.isPending||(u({name:"",ein:"",address:"",country:"",contact_email:"",phone:"",contact_person:"",website:"",industry:"",broker_name:"",broker_contact:"",broker_contact_email:"",broker_contact_phone:"",payment_terms:"",currency:"USD",notes:"",status:"active"}),h([{name:"",email:"",phone:"",title:"",location:"",is_primary:!0}]),f({}),s())};return(0,ts.jsx)(ta,{isOpen:r,onClose:y,title:o?"Edit Supplier":"Add New Supplier",size:"xl",preventCloseOnOverlay:g.isPending,children:(0,ts.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return d.name.trim()||(e.name="Supplier name is required"),d.country.trim()||(e.country="Country is required"),d.contact_person.trim()||(e.contact_person="Primary contact person is required"),d.contact_email.trim()?/\S+@\S+\.\S+/.test(d.contact_email)||(e.contact_email="Invalid email format"):e.contact_email="Contact email is required",d.ein&&!/^\d{2}-\d{7}$/.test(d.ein)&&(e.ein="EIN must be in format XX-XXXXXXX"),d.broker_contact_email&&!/\S+@\S+\.\S+/.test(d.broker_contact_email)&&(e.broker_contact_email="Invalid broker email format"),d.website&&!/^https?:\/\//.test(d.website)&&(d.website.includes(".")?u(e=>(0,Oe.A)((0,Oe.A)({},e),{},{website:"https://".concat(d.website)})):e.website="Website must be a valid URL"),f(e),0===Object.keys(e).length})()&&g.mutate(d)},className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name *"}),(0,ts.jsx)("input",{type:"text",value:d.name,onChange:e=>x("name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.name?"border-red-300":"border-gray-300"),placeholder:"Enter supplier name",disabled:g.isPending}),p.name&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),(0,ts.jsxs)("select",{value:d.country,onChange:e=>x("country",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.country?"border-red-300":"border-gray-300"),disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Country"}),["USA","CHN","DEU","JPN","GBR","FRA","ITA","KOR","CAN","MEX","IND","BRA","AUS","ESP","NLD","BEL","CHE","THA","TWN","VNM"].map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]}),p.country&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.country})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EIN/Tax ID"}),(0,ts.jsx)("input",{type:"text",value:d.ein,onChange:e=>x("ein",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.ein?"border-red-300":"border-gray-300"),placeholder:"XX-XXXXXXX",disabled:g.isPending}),p.ein&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.ein})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),(0,ts.jsxs)("select",{value:d.industry,onChange:e=>x("industry",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Industry"}),(0,ts.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,ts.jsx)("option",{value:"raw-materials",children:"Raw Materials"}),(0,ts.jsx)("option",{value:"electronics",children:"Electronics"}),(0,ts.jsx)("option",{value:"textiles",children:"Textiles"}),(0,ts.jsx)("option",{value:"chemicals",children:"Chemicals"}),(0,ts.jsx)("option",{value:"machinery",children:"Machinery"}),(0,ts.jsx)("option",{value:"automotive",children:"Automotive"}),(0,ts.jsx)("option",{value:"food-processing",children:"Food Processing"}),(0,ts.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,ts.jsxs)("div",{className:"mt-4",children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,ts.jsx)("textarea",{value:d.address,onChange:e=>x("address",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter supplier address",disabled:g.isPending})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Contact Person *"}),(0,ts.jsx)("input",{type:"text",value:d.contact_person,onChange:e=>x("contact_person",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contact person name",disabled:g.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,ts.jsx)("input",{type:"tel",value:d.phone,onChange:e=>x("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567",disabled:g.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,ts.jsx)("input",{type:"email",value:d.contact_email,onChange:e=>x("contact_email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.contact_email?"border-red-300":"border-gray-300"),placeholder:"contact@supplier.com",disabled:g.isPending}),p.contact_email&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.contact_email})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,ts.jsx)("input",{type:"url",value:d.website,onChange:e=>x("website",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.website?"border-red-300":"border-gray-300"),placeholder:"https://supplier.com",disabled:g.isPending}),p.website&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.website})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customs Broker Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Broker Name"}),(0,ts.jsx)("input",{type:"text",value:d.broker_name,onChange:e=>x("broker_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter broker name",disabled:g.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Broker Contact Person"}),(0,ts.jsx)("input",{type:"text",value:d.broker_contact,onChange:e=>x("broker_contact",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Broker contact name",disabled:g.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Broker Email"}),(0,ts.jsx)("input",{type:"email",value:d.broker_contact_email,onChange:e=>x("broker_contact_email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.broker_contact_email?"border-red-300":"border-gray-300"),placeholder:"broker@company.com",disabled:g.isPending}),p.broker_contact_email&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.broker_contact_email})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Broker Phone"}),(0,ts.jsx)("input",{type:"tel",value:d.broker_contact_phone,onChange:e=>x("broker_contact_phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1 (555) 123-4567",disabled:g.isPending})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Terms"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),(0,ts.jsxs)("select",{value:d.payment_terms,onChange:e=>x("payment_terms",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select Payment Terms"}),(0,ts.jsx)("option",{value:"net-30",children:"Net 30"}),(0,ts.jsx)("option",{value:"net-60",children:"Net 60"}),(0,ts.jsx)("option",{value:"net-90",children:"Net 90"}),(0,ts.jsx)("option",{value:"cod",children:"Cash on Delivery"}),(0,ts.jsx)("option",{value:"prepaid",children:"Prepaid"}),(0,ts.jsx)("option",{value:"lc",children:"Letter of Credit"}),(0,ts.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,ts.jsxs)("select",{value:d.currency,onChange:e=>x("currency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"USD",children:"USD - US Dollar"}),(0,ts.jsx)("option",{value:"EUR",children:"EUR - Euro"}),(0,ts.jsx)("option",{value:"CNY",children:"CNY - Chinese Yuan"}),(0,ts.jsx)("option",{value:"JPY",children:"JPY - Japanese Yen"}),(0,ts.jsx)("option",{value:"GBP",children:"GBP - British Pound"}),(0,ts.jsx)("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{value:d.status,onChange:e=>x("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:g.isPending,children:[(0,ts.jsx)("option",{value:"active",children:"Active"}),(0,ts.jsx)("option",{value:"inactive",children:"Inactive"}),(0,ts.jsx)("option",{value:"blocked",children:"Blocked"}),(0,ts.jsx)("option",{value:"pending",children:"Pending Approval"})]})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Additional Contacts"}),(0,ts.jsxs)("button",{type:"button",onClick:()=>{h(e=>[...e,{name:"",email:"",phone:"",title:"",location:"",is_primary:!1}])},className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",disabled:g.isPending,children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-1"})," Add Contact"]})]}),(0,ts.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,ts.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",checked:e.is_primary,onChange:e=>b(t,"is_primary",e.target.checked),className:"mr-2",disabled:g.isPending}),(0,ts.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Primary Contact"})]}),m.length>1&&(0,ts.jsx)("button",{type:"button",onClick:()=>(e=>{m.length>1&&h(t=>{const r=t.filter((t,r)=>r!==e);return t[e].is_primary&&r.length>0&&(r[0].is_primary=!0),r})})(t),className:"text-red-600 hover:text-red-800 disabled:opacity-50",disabled:g.isPending,children:(0,ts.jsx)("i",{className:"fas fa-trash text-sm"})})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",value:e.name,onChange:e=>b(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contact name",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"email",value:e.email,onChange:e=>b(t,"email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"tel",value:e.phone,onChange:e=>b(t,"phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number",disabled:g.isPending})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",value:e.title,onChange:e=>b(t,"title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Job title",disabled:g.isPending})})]})]},t))})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,ts.jsx)("textarea",{value:d.notes,onChange:e=>x("notes",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes about the supplier...",disabled:g.isPending})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:g.isPending,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g.isPending,children:g.isPending?(0,ts.jsxs)("span",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),o?"Updating...":"Adding..."]}):o?"Update Supplier":"Add Supplier"})]})]})})},da=e=>{var t;let{isOpen:r,onClose:s,onSuccess:n,onError:i,preadmission:l=null,isEdit:o=!1}=e;const c=St(),[d,u]=(0,a.useState)({admission_id:(null===l||void 0===l?void 0:l.admission_id)||"",customer_id:(null===l||void 0===l?void 0:l.customer_id)||"",zone_status:(null===l||void 0===l?void 0:l.zone_status)||"",status:(null===l||void 0===l?void 0:l.status)||"Pending",e214:(null===l||void 0===l?void 0:l.e214)||"",primary_supplier_name:(null===l||void 0===l?void 0:l.primary_supplier_name)||"",year:(null===l||void 0===l?void 0:l.year)||(new Date).getFullYear(),shipment_lot_id:(null===l||void 0===l?void 0:l.shipment_lot_id)||"",bol:(null===l||void 0===l?void 0:l.bol)||"",bol_date:(null===l||void 0===l?void 0:l.bol_date)||"",container_number:(null===l||void 0===l?void 0:l.container_number)||"",seal_number:(null===l||void 0===l?void 0:l.seal_number)||"",conveyance_name:(null===l||void 0===l?void 0:l.conveyance_name)||"",import_date:(null===l||void 0===l?void 0:l.import_date)||"",export_date:(null===l||void 0===l?void 0:l.export_date)||"",luc_ship_date:(null===l||void 0===l?void 0:l.luc_ship_date)||"",expected_arrival:(null===l||void 0===l?void 0:l.expected_arrival)||"",freight_invoice_date:(null===l||void 0===l?void 0:l.freight_invoice_date)||"",total_value:(null===l||void 0===l?void 0:l.total_value)||"",bond_amount:(null===l||void 0===l?void 0:l.bond_amount)||"",total_charges:(null===l||void 0===l?void 0:l.total_charges)||"",ship_invoice_number:(null===l||void 0===l?void 0:l.ship_invoice_number)||"",uscbp_master_billing:(null===l||void 0===l?void 0:l.uscbp_master_billing)||"",foreign_port_of_lading:(null===l||void 0===l?void 0:l.foreign_port_of_lading)||"",foreign_port_of_unlading:(null===l||void 0===l?void 0:l.foreign_port_of_unlading)||"",port_of_unlading:(null===l||void 0===l?void 0:l.port_of_unlading)||"",it_carrier:(null===l||void 0===l?void 0:l.it_carrier)||"",it_date:(null===l||void 0===l?void 0:l.it_date)||"",it_port:(null===l||void 0===l?void 0:l.it_port)||"",notes:(null===l||void 0===l?void 0:l.notes)||""}),[m,h]=(0,a.useState)(null!==l&&void 0!==l&&null!==(t=l.items)&&void 0!==t&&t.length?l.items:[{part_id:"",variant_id:null,quantity:"",package_quantity:"",package_type:"",gross_weight:"",supplier_id:"",country_of_origin:"",hts_code:""}]),[p,f]=(0,a.useState)({customers:[],parts:[],suppliers:[],locations:[],partVariants:{}}),[g,x]=(0,a.useState)({}),[b,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&v()},[r]);const v=async()=>{y(!0);try{const[e,t]=await Promise.all([Wr.customers.getAll({limit:1e3,active:!0}),Wr.parts.getAll({limit:1e3,active:!0})]);f({customers:e.success?e.data:[],parts:t.success?t.data:[],suppliers:[],locations:[],partVariants:{}})}catch(e){console.error("Error loading required data:",e),i("Failed to load form data")}finally{y(!1)}},j=Js({mutationFn:async e=>o?Wr.preadmission.update(l.id,e):Wr.preadmission.create(e),onSuccess:e=>{e.success?(c.invalidateQueries(["preadmissions"]),c.invalidateQueries(["preadmission"]),n(o?"Pre-admission updated successfully":"Pre-admission created successfully")):i(e.error||"Operation failed")},onError:e=>{i(e.message||"Operation failed")}}),N=(e,t)=>{u(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),g[e]&&x(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},w=(e,t,r)=>{const s=[...m];if(s[e]=(0,Oe.A)((0,Oe.A)({},s[e]),{},{[t]:r}),"part_id"===t){const t=p.parts.find(e=>e.id===r);t&&(s[e]=(0,Oe.A)((0,Oe.A)({},s[e]),{},{hts_code:t.hts_code||"",country_of_origin:t.country_of_origin||""}))}h(s)},_=()=>{j.isPending||(u({admission_id:"",customer_id:"",zone_status:"",status:"Pending",e214:"",primary_supplier_name:"",year:(new Date).getFullYear(),shipment_lot_id:"",bol:"",bol_date:"",container_number:"",seal_number:"",conveyance_name:"",import_date:"",export_date:"",luc_ship_date:"",expected_arrival:"",freight_invoice_date:"",total_value:"",bond_amount:"",total_charges:"",ship_invoice_number:"",uscbp_master_billing:"",foreign_port_of_lading:"",foreign_port_of_unlading:"",port_of_unlading:"",it_carrier:"",it_date:"",it_port:"",notes:""}),h([{part_id:"",variant_id:null,quantity:"",package_quantity:"",package_type:"",gross_weight:"",supplier_id:"",country_of_origin:"",hts_code:""}]),x({}),s())};return b?(0,ts.jsx)(ta,{isOpen:r,onClose:_,title:"Loading...",size:"sm",children:(0,ts.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-blue-600 mr-3"}),(0,ts.jsx)("span",{children:"Loading form data..."})]})}):(0,ts.jsx)(ta,{isOpen:r,onClose:_,title:o?"Edit Pre-Admission":"Create New Pre-Admission (CBP Form 214)",size:"xl",preventCloseOnOverlay:j.isPending,children:(0,ts.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return d.admission_id.trim()||(e.admission_id="Admission ID is required"),d.customer_id||(e.customer_id="Customer selection is required"),d.zone_status||(e.zone_status="Zone status is required"),d.year&&(!Number.isInteger(parseInt(d.year))||parseInt(d.year)<2020||parseInt(d.year)>2030)&&(e.year="Year must be between 2020 and 2030"),d.export_date&&d.import_date&&new Date(d.export_date)>new Date(d.import_date)&&(e.import_date="Import date must be after export date"),d.bol_date&&d.import_date&&new Date(d.bol_date)>new Date(d.import_date)&&(e.import_date="BOL Date cannot be after FTZ Admission Date"),0===m.length?e.items="At least one item is required":m.forEach((t,r)=>{t.part_id||(e["item_".concat(r,"_part")]="Item ".concat(r+1,": Part selection is required")),(!t.quantity||t.quantity<=0)&&(e["item_".concat(r,"_qty")]="Item ".concat(r+1,": Valid quantity is required"))}),["total_value","bond_amount","total_charges"].forEach(t=>{d[t]&&isNaN(parseFloat(d[t]))&&(e[t]="".concat(t.replace("_"," ")," must be a valid number"))}),x(e),0===Object.keys(e).length})())return;const t=(0,Oe.A)((0,Oe.A)({},d),{},{customer_id:parseInt(d.customer_id),year:parseInt(d.year)||null,total_value:parseFloat(d.total_value)||0,bond_amount:parseFloat(d.bond_amount)||0,total_charges:parseFloat(d.total_charges)||0,items:m.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{part_id:e.part_id,variant_id:e.variant_id||null,quantity:parseInt(e.quantity),package_quantity:parseInt(e.package_quantity)||null,gross_weight:parseFloat(e.gross_weight)||null,supplier_id:e.supplier_id||null}))});j.mutate(t)},className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-id-card mr-2"}),"Basic Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admission ID (UID) *"}),(0,ts.jsx)("input",{type:"text",value:d.admission_id,onChange:e=>N("admission_id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(g.admission_id?"border-red-300":"border-gray-300"),placeholder:"Enter unique admission ID",disabled:j.isPending}),g.admission_id&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.admission_id})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Status *"}),(0,ts.jsxs)("select",{value:d.zone_status,onChange:e=>N("zone_status",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(g.zone_status?"border-red-300":"border-gray-300"),disabled:j.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select status..."}),(0,ts.jsx)("option",{value:"NPF",children:"Non-Privileged Foreign (NPF)"}),(0,ts.jsx)("option",{value:"PF",children:"Privileged Foreign (PF)"}),(0,ts.jsx)("option",{value:"D",children:"Domestic (D)"}),(0,ts.jsx)("option",{value:"ZR",children:"Zone-Restricted (ZR)"})]}),g.zone_status&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.zone_status})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer *"}),(0,ts.jsxs)("select",{value:d.customer_id,onChange:e=>N("customer_id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(g.customer_id?"border-red-300":"border-gray-300"),disabled:j.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select customer..."}),p.customers.map(e=>(0,ts.jsx)("option",{value:e.id,children:e.name},e.id))]}),g.customer_id&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.customer_id})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,ts.jsx)("input",{type:"number",min:"2020",max:"2030",value:d.year,onChange:e=>N("year",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(g.year?"border-red-300":"border-gray-300"),placeholder:"Enter year",disabled:j.isPending}),g.year&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.year})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipment/Lot ID"}),(0,ts.jsx)("input",{type:"text",value:d.shipment_lot_id,onChange:e=>N("shipment_lot_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter shipment or lot ID",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Supplier"}),(0,ts.jsx)("input",{type:"text",value:d.primary_supplier_name,onChange:e=>N("primary_supplier_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter primary supplier name",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E214 Number"}),(0,ts.jsx)("input",{type:"text",value:d.e214,onChange:e=>N("e214",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter E214 number",disabled:j.isPending})]})]})]}),(0,ts.jsxs)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-ship mr-2"}),"Transport & Shipping Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOL Number"}),(0,ts.jsx)("input",{type:"text",value:d.bol,onChange:e=>N("bol",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter BOL number",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOL Date"}),(0,ts.jsx)("input",{type:"date",value:d.bol_date,onChange:e=>N("bol_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Container ID"}),(0,ts.jsx)("input",{type:"text",value:d.container_number,onChange:e=>N("container_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter container ID",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seal Number"}),(0,ts.jsx)("input",{type:"text",value:d.seal_number,onChange:e=>N("seal_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter seal number",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier"}),(0,ts.jsx)("input",{type:"text",value:d.conveyance_name,onChange:e=>N("conveyance_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter carrier name",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USCBP Master Bill #"}),(0,ts.jsx)("input",{type:"text",value:d.uscbp_master_billing,onChange:e=>N("uscbp_master_billing",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter master bill number",disabled:j.isPending})]})]})]}),(0,ts.jsxs)("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-calendar mr-2"}),"Date Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"FTZ Admission Date"}),(0,ts.jsx)("input",{type:"date",value:d.import_date,onChange:e=>N("import_date",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 ".concat(g.import_date?"border-red-300":"border-gray-300"),disabled:j.isPending}),g.import_date&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.import_date})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LUC Ship Date"}),(0,ts.jsx)("input",{type:"date",value:d.luc_ship_date,onChange:e=>N("luc_ship_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Freight Invoice Date"}),(0,ts.jsx)("input",{type:"date",value:d.freight_invoice_date,onChange:e=>N("freight_invoice_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Export Date"}),(0,ts.jsx)("input",{type:"date",value:d.export_date,onChange:e=>N("export_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Arrival Date"}),(0,ts.jsx)("input",{type:"date",value:d.expected_arrival,onChange:e=>N("expected_arrival",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:j.isPending})]})]})]}),(0,ts.jsxs)("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-anchor mr-2"}),"Port & In-Bond Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foreign Port of Lading"}),(0,ts.jsx)("input",{type:"text",value:d.foreign_port_of_lading,onChange:e=>N("foreign_port_of_lading",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter foreign port",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foreign Port of Unlading"}),(0,ts.jsx)("input",{type:"text",value:d.foreign_port_of_unlading,onChange:e=>N("foreign_port_of_unlading",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter foreign port",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"U.S. Port of Unlading"}),(0,ts.jsx)("input",{type:"text",value:d.port_of_unlading,onChange:e=>N("port_of_unlading",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter U.S. port",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"In-Bond Carrier"}),(0,ts.jsx)("input",{type:"text",value:d.it_carrier,onChange:e=>N("it_carrier",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter carrier name",disabled:j.isPending})]})]})]}),(0,ts.jsxs)("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-orange-900 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-boxes mr-2"}),"Items & Merchandise"]}),(0,ts.jsxs)("button",{type:"button",onClick:()=>{h(e=>[...e,{part_id:"",variant_id:null,quantity:"",package_quantity:"",package_type:"",gross_weight:"",supplier_id:"",country_of_origin:"",hts_code:""}])},className:"px-3 py-1 text-sm bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",disabled:j.isPending,children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-1"}),"Add Item"]})]}),g.items&&(0,ts.jsx)("p",{className:"mb-4 text-sm text-red-600",children:g.items}),(0,ts.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,ts.jsxs)("div",{className:"border border-orange-200 rounded-lg p-4 bg-white",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ts.jsxs)("h5",{className:"text-sm font-medium text-gray-800",children:["Item ",t+1]}),m.length>1&&(0,ts.jsx)("button",{type:"button",onClick:()=>(e=>{m.length>1&&h(t=>t.filter((t,r)=>r!==e))})(t),className:"text-red-600 hover:text-red-800 disabled:opacity-50",disabled:j.isPending,children:(0,ts.jsx)("i",{className:"fas fa-trash text-sm"})})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Part *"}),(0,ts.jsxs)("select",{value:e.part_id,onChange:e=>w(t,"part_id",e.target.value),className:"w-full px-2 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(g["item_".concat(t,"_part")]?"border-red-300":"border-gray-300"),disabled:j.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select part..."}),p.parts.map(e=>(0,ts.jsxs)("option",{value:e.id,children:[e.id," - ",e.description]},e.id))]}),g["item_".concat(t,"_part")]&&(0,ts.jsx)("p",{className:"mt-1 text-xs text-red-600",children:g["item_".concat(t,"_part")]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Supplier"}),(0,ts.jsxs)("select",{value:e.supplier_id,onChange:e=>w(t,"supplier_id",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:j.isPending,children:[(0,ts.jsx)("option",{value:"",children:"Select supplier..."}),p.suppliers.map(e=>(0,ts.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),(0,ts.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>w(t,"quantity",e.target.value),className:"w-full px-2 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 ".concat(g["item_".concat(t,"_qty")]?"border-red-300":"border-gray-300"),placeholder:"Enter quantity",disabled:j.isPending}),g["item_".concat(t,"_qty")]&&(0,ts.jsx)("p",{className:"mt-1 text-xs text-red-600",children:g["item_".concat(t,"_qty")]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Gross Weight (kg)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.gross_weight,onChange:e=>w(t,"gross_weight",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0.00",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Package Quantity"}),(0,ts.jsx)("input",{type:"number",min:"1",value:e.package_quantity,onChange:e=>w(t,"package_quantity",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter package qty",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Package Type"}),(0,ts.jsx)("input",{type:"text",value:e.package_type,onChange:e=>w(t,"package_type",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Box, Pallet",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Country of Origin"}),(0,ts.jsx)("input",{type:"text",value:e.country_of_origin,onChange:e=>w(t,"country_of_origin",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., USA, CHN",disabled:j.isPending})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"HTS Code"}),(0,ts.jsx)("input",{type:"text",value:e.hts_code,onChange:e=>w(t,"hts_code",e.target.value),className:"w-full px-2 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"XXXX.XX.XXXX",disabled:j.isPending})]})]})]},t))})]}),(0,ts.jsxs)("div",{className:"bg-gray-50 border-l-4 border-gray-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-dollar-sign mr-2"}),"Financial Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value of Goods ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.total_value,onChange:e=>N("total_value",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 ".concat(g.total_value?"border-red-300":"border-gray-300"),placeholder:"0.00",disabled:j.isPending}),g.total_value&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.total_value})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bond Amount ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.bond_amount,onChange:e=>N("bond_amount",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 ".concat(g.bond_amount?"border-red-300":"border-gray-300"),placeholder:"0.00",disabled:j.isPending}),g.bond_amount&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.bond_amount})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tariff Amount ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.total_charges,onChange:e=>N("total_charges",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 ".concat(g.total_charges?"border-red-300":"border-gray-300"),placeholder:"0.00",disabled:j.isPending}),g.total_charges&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.total_charges})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ship Invoice Number"}),(0,ts.jsx)("input",{type:"text",value:d.ship_invoice_number,onChange:e=>N("ship_invoice_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"Enter ship invoice number",disabled:j.isPending})]})]})]}),(0,ts.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-yellow-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-sticky-note mr-2"}),"Additional Information"]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,ts.jsx)("textarea",{value:d.notes,onChange:e=>N("notes",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter any additional notes or comments",rows:"3",disabled:j.isPending})]})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,ts.jsx)("button",{type:"button",onClick:_,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",disabled:j.isPending,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:j.isPending,children:j.isPending?(0,ts.jsxs)("span",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),o?"Updating...":"Creating..."]}):o?"Update Pre-Admission":"Create Pre-Admission"})]})]})})},ua=["refetchPage"];class ma extends it{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),ha(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pa(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pa(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ge(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&fa(this.currentQuery,s,this.options,r)&&this.executeFetch(),this.updateResult(t),!a||this.currentQuery===s&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();const n=this.computeRefetchInterval();!a||this.currentQuery===s&&this.options.enabled===r.enabled&&n===this.currentRefetchInterval||this.updateRefetchInterval(n)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return function(e,t,r){if(r.keepPreviousData)return!1;if(void 0!==r.placeholderData)return t.isPlaceholderData;if(!Ge(e.getCurrentResult(),t))return!0;return!1}(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{refetchPage:t}=e,r=(0,fs.A)(e,ua);return this.fetch((0,Oe.A)((0,Oe.A)({},r),{},{meta:{refetchPage:t}}))}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch((0,Oe.A)((0,Oe.A)({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(Me)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Ie||this.currentResult.isStale||!Ue(this.options.staleTime))return;const e=ze(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e)}computeRefetchInterval(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!Ie&&!1!==this.options.enabled&&Ue(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||lt.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,s=this.options,a=this.currentResult,n=this.currentResultState,i=this.currentResultOptions,l=e!==r,o=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=e;let u,{dataUpdatedAt:m,error:h,errorUpdatedAt:p,fetchStatus:f,status:g}=d,x=!1,b=!1;if(t._optimisticResults){const a=this.hasListeners(),n=!a&&ha(e,t),i=a&&fa(e,r,t,s);(n||i)&&(f=ut(e.options.networkMode)?"fetching":"paused",m||(g="loading")),"isRestoring"===t._optimisticResults&&(f="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==g)u=c.data,m=c.dataUpdatedAt,g=c.status,x=!0;else if(t.select&&"undefined"!==typeof d.data)if(a&&d.data===(null==n?void 0:n.data)&&t.select===this.selectFn)u=this.selectResult;else try{this.selectFn=t.select,u=t.select(d.data),u=st(null==a?void 0:a.data,u,t),this.selectResult=u,this.selectError=null}catch(N){0,this.selectError=N}else u=d.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof u&&"loading"===g){let e;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==i?void 0:i.placeholderData))e=a.data;else if(e="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof e)try{e=t.select(e),this.selectError=null}catch(N){0,this.selectError=N}"undefined"!==typeof e&&(g="success",u=st(null==a?void 0:a.data,e,t),b=!0)}this.selectError&&(h=this.selectError,u=this.selectResult,p=Date.now(),g="error");const y="fetching"===f,v="loading"===g,j="error"===g;return{status:g,fetchStatus:f,isLoading:v,isSuccess:"success"===g,isError:j,isInitialLoading:v&&y,data:u,dataUpdatedAt:m,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>o.dataUpdateCount||d.errorUpdateCount>o.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:j&&0===d.dataUpdatedAt,isPaused:"paused"===f,isPlaceholderData:b,isPreviousData:x,isRefetchError:j&&0!==d.dataUpdatedAt,isStale:ga(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ge(r,t))return;this.currentResult=r;const s={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,r="function"===typeof e?e():e;if("all"===r||!r&&!this.trackedProps.size)return!0;const s=new Set(null!=r?r:this.trackedProps);return this.options.useErrorBoundary&&s.add("error"),Object.keys(this.currentResult).some(e=>{const r=e;return this.currentResult[r]!==t[r]&&s.has(r)})})()&&(s.listeners=!0),this.notify((0,Oe.A)((0,Oe.A)({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||ht(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){nt.batch(()=>{var t,r,s,a;if(e.onSuccess)null==(t=(r=this.options).onSuccess)||t.call(r,this.currentResult.data),null==(s=(a=this.options).onSettled)||s.call(a,this.currentResult.data,null);else if(e.onError){var n,i,l,o;null==(n=(i=this.options).onError)||n.call(i,this.currentResult.error),null==(l=(o=this.options).onSettled)||l.call(o,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(e=>{let{listener:t}=e;t(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ha(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&pa(e,t,t.refetchOnMount)}function pa(e,t,r){if(!1!==t.enabled){const s="function"===typeof r?r(e):r;return"always"===s||!1!==s&&ga(e,t)}return!1}function fa(e,t,r,s){return!1!==r.enabled&&(e!==t||!1===s.enabled)&&(!r.suspense||"error"!==e.state.status)&&ga(e,r)}function ga(e,t){return e.isStaleByTime(t.staleTime)}function xa(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const ba=a.createContext(xa()),ya=a.createContext(!1);ya.Provider;function va(e,t){const r=St({context:e.context}),s=a.useContext(ya),n=a.useContext(ba),i=r.defaultQueryOptions(e);i._optimisticResults=s?"isRestoring":"optimistic",i.onError&&(i.onError=nt.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=nt.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=nt.batchCalls(i.onSettled)),(e=>{e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)})(i),((e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))})(i,n),(e=>{a.useEffect(()=>{e.clearReset()},[e])})(n);const[l]=a.useState(()=>new t(r,i)),o=l.getOptimisticResult(i);if(Ys(a.useCallback(e=>{const t=s?()=>{}:l.subscribe(nt.batchCalls(e));return l.updateResult(),t},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),a.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),((e,t,r)=>(null==e?void 0:e.suspense)&&((e,t)=>e.isLoading&&e.isFetching&&!t)(t,r))(i,o,s))throw((e,t,r)=>t.fetchOptimistic(e).then(t=>{let{data:r}=t;null==e.onSuccess||e.onSuccess(r),null==e.onSettled||e.onSettled(r,null)}).catch(t=>{r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))(i,l,n);if((e=>{let{result:t,errorResetBoundary:r,useErrorBoundary:s,query:a}=e;return t.isError&&!r.isReset()&&!t.isFetching&&Zs(s,[t.error,a])})({result:o,errorResetBoundary:n,useErrorBoundary:i.useErrorBoundary,query:l.getCurrentQuery()}))throw o.error;return i.notifyOnChangeProps?o:l.trackResult(o)}function ja(e,t,r){return va(Be(e,t,r),ma)}const Na={all:["preshipments"],lists:()=>[...Na.all,"list"],list:e=>[...Na.lists(),e],details:()=>[...Na.all,"detail"],detail:e=>[...Na.details(),e],lineItems:e=>[...Na.all,"lineItems",e],aceEntry:e=>[...Na.all,"aceEntry",e]};const wa=new class{async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await Wr.preshipments.getAll(e)}catch(t){throw console.error("Error fetching preshipments:",t),t}}async getById(e){try{return await Wr.preshipments.getById(e)}catch(t){throw console.error("Error fetching preshipment:",t),t}}async create(e){try{return await Wr.preshipments.create(e)}catch(t){throw console.error("Error creating preshipment:",t),t}}async update(e,t){try{return await Wr.preshipments.update(e,t)}catch(r){throw console.error("Error updating preshipment:",r),r}}async delete(e){try{return await Wr.preshipments.delete(e)}catch(t){throw console.error("Error deleting preshipment:",t),t}}async updateStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return await Wr.preshipments.updateStatus(e,t,r)}catch(s){throw console.error("Error updating preshipment status:",s),s}}async generateEntryS(e){try{return await Wr.preshipments.generateEntryS(e)}catch(t){throw console.error("Error generating entry summary:",t),t}}async fileWithCBP(e){try{return await Wr.preshipments.fileWithCBP(e)}catch(t){throw console.error("Error filing with CBP:",t),t}}async getAvailableLots(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await Wr.get("/api/inventory/lots/available",e)}catch(t){throw console.error("Error fetching available lots:",t),t}}async validateACEEntry(e){try{return await Wr.preshipments.validateACEEntry(e)}catch(t){throw console.error("Error validating ACE entry:",t),t}}async getStats(){try{return await Wr.preshipments.getStats()}catch(e){throw console.error("Error fetching preshipment stats:",e),e}}},_a=e=>{var t;let{isOpen:r,onClose:s}=e;const{customers:n,showSuccess:i,showError:l}=Ms(),o=(()=>{const e=St();return Js({mutationFn:wa.create,onSuccess:t=>{e.invalidateQueries(Na.lists()),Qr.success("Preshipment created successfully")},onError:e=>{Qr.error(e.message||"Error creating preshipment")}})})(),[c,d]=(0,a.useState)({shipmentId:"",type:"7501 Consumption Entry",customerId:"",entryNumber:"",items:[{lot:"",qty:""}],filingDistrictPort:"",entryFilerCode:"",importerOfRecordNumber:"",dateOfImportation:"",foreignTradeZoneId:"FTZ215GSM",billOfLadingNumber:"",voyageFlightTripNumber:"",carrierCode:"",importingConveyanceName:"",manufacturerName:"",manufacturerAddress:"",sellerName:"",sellerAddress:"",bondTypeCode:"C9",suretyCompanyCode:"",consolidatedEntry:!1,weeklyEntry:!1,zoneWeekEndingDate:"",requiresPGAReview:!1,complianceNotes:""}),[u,m]=(0,a.useState)("shipment"),[h,p]=(0,a.useState)([]),f=(e,t)=>{d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},g=(e,t,r)=>{const s=[...c.items];s[e]=(0,Oe.A)((0,Oe.A)({},s[e]),{},{[t]:r}),d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{items:s}))},x=()=>c.shipmentId&&c.customerId&&c.filingDistrictPort&&c.entryFilerCode&&c.importerOfRecordNumber,b=()=>{const e=[];return c.filingDistrictPort&&/^[A-Z0-9]{4}$/.test(c.filingDistrictPort)||e.push("Filing District/Port must be 4 alphanumeric characters"),c.entryFilerCode&&/^[A-Z0-9]{3}$/.test(c.entryFilerCode)||e.push("Entry Filer Code must be 3 alphanumeric characters"),c.importerOfRecordNumber||e.push("Importer of Record Number is required"),c.carrierCode&&!/^[A-Z]{4}$/.test(c.carrierCode)&&e.push("Carrier Code must be 4 letters (SCAC format)"),c.weeklyEntry&&!c.zoneWeekEndingDate&&e.push("Zone Week Ending Date is required for weekly entries"),p(e),e},y=()=>{const e=c.items.filter(e=>e.lot&&e.qty);return x()&&e.length>0};return r?(0,ts.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-50",children:(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-0 w-full max-w-6xl max-h-[90vh] overflow-y-auto border-2 border-gray-100",children:[(0,ts.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 rounded-t-xl",children:[(0,ts.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-shipping-fast mr-3 text-blue-200"}),"Create New Pre-Shipment & ACE Entry Summary"]}),(0,ts.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Complete all required fields to create your pre-shipment with ACE entry data"})]}),(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"flex border-b-2 border-gray-200 mb-6",children:[(0,ts.jsxs)("button",{className:"px-6 py-3 text-sm font-semibold flex items-center ".concat("shipment"===u?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"," rounded-t-lg transition-all duration-200"),onClick:()=>m("shipment"),children:[(0,ts.jsx)("i",{className:"fas fa-box mr-2"}),"Shipment Details"]}),(0,ts.jsxs)("button",{className:"px-6 py-3 text-sm font-semibold flex items-center ".concat("ace"===u?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"," rounded-t-lg transition-all duration-200"),onClick:()=>m("ace"),children:[(0,ts.jsx)("i",{className:"fas fa-file-contract mr-2"}),"ACE Entry Summary"]}),(0,ts.jsxs)("button",{className:"px-6 py-3 text-sm font-semibold flex items-center ".concat("review"===u?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"," rounded-t-lg transition-all duration-200"),onClick:()=>m("review"),children:[(0,ts.jsx)("i",{className:"fas fa-check-circle mr-2"}),"Review & Validation"]})]}),h.length>0&&(0,ts.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:[(0,ts.jsxs)("h4",{className:"text-sm font-semibold text-red-800 mb-2 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-exclamation-triangle mr-2"}),"Validation Errors:"]}),(0,ts.jsx)("ul",{className:"text-sm text-red-700 list-disc list-inside space-y-1",children:h.map((e,t)=>(0,ts.jsx)("li",{children:e},t))})]}),"shipment"===u&&(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-lg shadow-sm mb-6",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-clipboard-list mr-2 text-blue-600"}),"1. Shipment Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-barcode mr-1 text-blue-600"}),"Shipment ID*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsx)("input",{value:c.shipmentId,onChange:e=>f("shipmentId",e.target.value),placeholder:"Enter shipment ID...",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400",required:!0})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-file-alt mr-1 text-blue-600"}),"Shipment Type*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsxs)("select",{value:c.type,onChange:e=>f("type",e.target.value),className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400",children:[(0,ts.jsx)("option",{value:"7501 Consumption Entry",children:"7501 Consumption Entry"}),(0,ts.jsx)("option",{value:"7512 T&E Export",children:"7512 T&E Export"})]})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-building mr-1 text-blue-600"}),"Customer*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsxs)("select",{value:c.customerId,onChange:e=>f("customerId",e.target.value),className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400",required:!0,children:[(0,ts.jsx)("option",{value:"",children:"Select a customer..."}),n.map(e=>(0,ts.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-hashtag mr-1 text-blue-600"}),"Entry Number"]}),(0,ts.jsx)("input",{value:c.entryNumber,onChange:e=>f("entryNumber",e.target.value),placeholder:"Enter entry number...",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})]})]})]}),(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg shadow-sm",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-boxes mr-2 text-green-600"}),"2. Line Items"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-12 gap-2 text-sm font-semibold mb-2 p-2 bg-gray-50 rounded-t-md",children:[(0,ts.jsx)("div",{className:"col-span-8",children:"Lot Number"}),(0,ts.jsx)("div",{className:"col-span-4",children:"Quantity to Ship"})]}),c.items.map((e,t)=>(0,ts.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mb-2",children:[(0,ts.jsx)("div",{className:"col-span-8",children:(0,ts.jsx)("input",{value:e.lot,onChange:e=>g(t,"lot",e.target.value),placeholder:"Enter lot number...",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})}),(0,ts.jsx)("div",{className:"col-span-4",children:(0,ts.jsx)("input",{type:"number",value:e.qty,onChange:e=>g(t,"qty",e.target.value),placeholder:"Quantity",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})})]},t)),(0,ts.jsxs)("button",{className:"mt-4 px-4 py-2 bg-green-100 text-green-800 font-semibold rounded-lg border-2 border-green-300 hover:bg-green-200 hover:border-green-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-300",onClick:()=>{d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{items:[...e.items,{lot:"",qty:""}]}))},type:"button",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Another Item"]})]})]}),"ace"===u&&(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg shadow-sm mb-6",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-file-contract mr-2 text-purple-600"}),"1. Core Entry Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-building mr-1 text-purple-600"}),"Filing District/Port*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsx)("input",{value:c.filingDistrictPort,onChange:e=>f("filingDistrictPort",e.target.value.toUpperCase()),placeholder:"e.g., 2704",maxLength:"4",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-id-badge mr-1 text-purple-600"}),"Entry Filer Code*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsx)("input",{value:c.entryFilerCode,onChange:e=>f("entryFilerCode",e.target.value.toUpperCase()),placeholder:"e.g., ABC",maxLength:"3",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-user-tie mr-1 text-purple-600"}),"Importer of Record Number*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsx)("input",{value:c.importerOfRecordNumber,onChange:e=>f("importerOfRecordNumber",e.target.value),placeholder:"e.g., 12-3456789",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})]})]})]}),(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-lg shadow-sm",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-globe-americas mr-2 text-blue-600"}),"2. Foreign Trade Zone Information"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-map-marker-alt mr-1 text-blue-600"}),"FTZ Identifier*",(0,ts.jsx)("span",{className:"text-red-500 ml-1",children:"REQUIRED"})]}),(0,ts.jsx)("input",{value:c.foreignTradeZoneId,onChange:e=>f("foreignTradeZoneId",e.target.value.toUpperCase()),placeholder:"e.g., FTZ215GSM",className:"w-full px-4 py-3 text-sm border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:border-gray-400"})]}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 uppercase tracking-wide",children:[(0,ts.jsx)("i",{className:"fas fa-calendar-week mr-1 text-blue-600"}),"Entry Options"]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-4 pt-2",children:[(0,ts.jsxs)("label",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",checked:c.weeklyEntry,onChange:e=>f("weeklyEntry",e.target.checked),className:"rounded border-gray-300"}),(0,ts.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Weekly Entry"})]}),(0,ts.jsxs)("label",{className:"flex items-center",children:[(0,ts.jsx)("input",{type:"checkbox",checked:c.consolidatedEntry,onChange:e=>f("consolidatedEntry",e.target.checked),className:"rounded border-gray-300"}),(0,ts.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Consolidated Entry"})]})]})]})]})]})]}),"review"===u&&(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-blue-50 border-2 border-gray-200 rounded-lg shadow-sm mb-6",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-clipboard-check mr-2 text-gray-600"}),"Shipment Summary"]}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-semibold text-gray-500",children:"Shipment ID:"}),(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:c.shipmentId})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-semibold text-gray-500",children:"Type:"}),(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:c.type})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-semibold text-gray-500",children:"Customer:"}),(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:(null===(t=n.find(e=>e.id===c.customerId))||void 0===t?void 0:t.name)||"Not selected"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-semibold text-gray-500",children:"Line Items:"}),(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:c.items.filter(e=>e.lot&&e.qty).length})]})]})]}),(0,ts.jsxs)("div",{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-lg shadow-sm",children:[(0,ts.jsxs)("h4",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-check-circle mr-2 text-green-600"}),"Validation Status"]}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center text-sm ".concat(x()?"text-green-600":"text-red-600"),children:[(0,ts.jsx)("i",{className:"fas ".concat(x()?"fa-check-circle":"fa-exclamation-triangle"," mr-3")}),(0,ts.jsx)("span",{className:"font-medium",children:"Required Fields:"}),(0,ts.jsx)("span",{className:"ml-2",children:x()?"Complete":"Missing required fields"})]}),(0,ts.jsxs)("div",{className:"flex items-center text-sm ".concat(c.items.filter(e=>e.lot&&e.qty).length>0?"text-green-600":"text-red-600"),children:[(0,ts.jsx)("i",{className:"fas ".concat(c.items.filter(e=>e.lot&&e.qty).length>0?"fa-check-circle":"fa-exclamation-triangle"," mr-3")}),(0,ts.jsx)("span",{className:"font-medium",children:"Line Items:"}),(0,ts.jsx)("span",{className:"ml-2",children:c.items.filter(e=>e.lot&&e.qty).length>0?"Valid":"No valid line items"})]}),(0,ts.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle mr-3"}),(0,ts.jsx)("span",{className:"font-medium",children:"Ready for ACE Filing:"}),(0,ts.jsx)("span",{className:"ml-2",children:y()?"Yes":"Complete required fields first"})]})]})]})]}),(0,ts.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-gray-200 flex justify-between items-center bg-gray-50 -mx-6 -mb-6 px-6 py-4 rounded-b-lg",children:[(0,ts.jsx)("div",{className:"flex space-x-3",children:"shipment"!==u&&(0,ts.jsxs)("button",{className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300",onClick:()=>{"ace"===u&&m("shipment"),"review"===u&&m("ace")},type:"button",children:[(0,ts.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Previous"]})}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsxs)("div",{className:"text-sm text-gray-600 mr-6",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle mr-1 text-blue-500"}),"Please review all information before submitting"]}),(0,ts.jsxs)("div",{className:"flex space-x-3",children:[(0,ts.jsxs)("button",{className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300",onClick:s,type:"button",children:[(0,ts.jsx)("i",{className:"fas fa-times mr-2"}),"Cancel"]}),"review"!==u?(0,ts.jsxs)("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transform hover:scale-105",onClick:()=>{if("shipment"===u){if(!c.shipmentId||!c.customerId)return void l("Please complete shipment details first.");m("ace")}"ace"===u&&(b(),m("review"))},type:"button",children:["Next ",(0,ts.jsx)("i",{className:"fas fa-arrow-right ml-2"})]}):(0,ts.jsxs)("button",{className:"px-6 py-3 text-white font-semibold rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 transform hover:scale-105 ".concat(y()?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:ring-green-300":"bg-gray-400 cursor-not-allowed"),onClick:async()=>{const e=c.items.filter(e=>e.lot&&e.qty);if(!c.shipmentId||!c.customerId||0===e.length)return void l("Shipment ID, Customer, and at least one item are required.");if(b().length>0)return m("ace"),void l("Please correct ACE validation errors before proceeding.");try{const t=(0,Oe.A)((0,Oe.A)({},c),{},{items:e.map(e=>({lot:e.lot,qty:parseInt(e.qty,10)})),filing_district_port:c.filingDistrictPort,entry_filer_code:c.entryFilerCode,importer_of_record_number:c.importerOfRecordNumber,date_of_importation:c.dateOfImportation,foreign_trade_zone_id:c.foreignTradeZoneId,bill_of_lading_number:c.billOfLadingNumber,voyage_flight_trip_number:c.voyageFlightTripNumber,carrier_code:c.carrierCode,importing_conveyance_name:c.importingConveyanceName,manufacturer_name:c.manufacturerName,manufacturer_address:c.manufacturerAddress,seller_name:c.sellerName,seller_address:c.sellerAddress,bond_type_code:c.bondTypeCode,surety_company_code:c.suretyCompanyCode,consolidated_entry:c.consolidatedEntry,weekly_entry:c.weeklyEntry,zone_week_ending_date:c.zoneWeekEndingDate,requires_pga_review:c.requiresPGAReview,compliance_notes:c.complianceNotes,entry_summary_status:"DRAFT"});await o.mutateAsync(t),i("Pre-Shipment with ACE entry data created successfully!"),s()}catch(t){console.error("Error creating pre-shipment:",t),l(t.message||"Failed to create preshipment")}},disabled:!y()||o.isLoading,type:"button",children:[(0,ts.jsx)("i",{className:"fas fa-shipping-fast mr-2"}),o.isLoading?"Creating...":"Create Pre-Shipment & Entry Summary"]})]})]})]})]})]})})}):null};const ka=new class{constructor(){this.baseURL="/api/material-pricing"}async getAllMaterialIndices(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.material&&t.append("material",e.material),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.indexSource&&t.append("indexSource",e.indexSource),e.limit&&t.append("limit",e.limit.toString());const r=t.toString(),s="".concat(this.baseURL,"/indices").concat(r?"?".concat(r):"");return await Wr.get(s)}catch(s){var t,r;return console.error("Error fetching material indices:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to fetch material indices"}}}async getLatestPrices(){try{return await Wr.get("".concat(this.baseURL,"/indices/latest"))}catch(r){var e,t;return console.error("Error fetching latest prices:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch latest prices"}}}async addMaterialIndex(e){try{return await Wr.post("".concat(this.baseURL,"/indices"),e)}catch(s){var t,r;return console.error("Error adding material index:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to add material index"}}}async batchAddMaterialIndices(e){try{return await Wr.post("".concat(this.baseURL,"/indices/batch"),{indices:e})}catch(s){var t,r;return console.error("Error batch adding material indices:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to batch add material indices"}}}async calculate3MonthAverage(e,t,r,s){try{return await Wr.post("".concat(this.baseURL,"/calculate-average"),{material:e,month1:t,month2:r,month3:s})}catch(i){var a,n;return console.error("Error calculating 3-month average:",i),{success:!1,error:(null===(a=i.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to calculate 3-month average"}}}async getAllPricingAdjustments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.material&&t.append("material",e.material),e.limit&&t.append("limit",e.limit.toString());const r=t.toString(),s="".concat(this.baseURL,"/adjustments").concat(r?"?".concat(r):"");return await Wr.get(s)}catch(s){var t,r;return console.error("Error fetching pricing adjustments:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to fetch pricing adjustments"}}}async createPricingAdjustment(e){try{return await Wr.post("".concat(this.baseURL,"/adjustments"),e)}catch(s){var t,r;return console.error("Error creating pricing adjustment:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to create pricing adjustment"}}}async applyPricingAdjustment(e){try{return await Wr.post("".concat(this.baseURL,"/adjustments/").concat(e,"/apply"))}catch(s){var t,r;return console.error("Error applying pricing adjustment:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to apply pricing adjustment"}}}async getSupportedMaterials(){try{return await Wr.get("".concat(this.baseURL,"/materials"))}catch(r){var e,t;return console.error("Error fetching supported materials:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch supported materials"}}}async getPricingTimeline(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?"?currentDate=".concat(e):"";return await Wr.get("".concat(this.baseURL,"/timeline").concat(t))}catch(s){var t,r;return console.error("Error fetching pricing timeline:",s),{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to fetch pricing timeline"}}}async getServiceStatus(){try{return await Wr.get("".concat(this.baseURL,"/status"))}catch(r){var e,t;return console.error("Error fetching service status:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch service status"}}}calculatePartPriceImpact(e,t,r){if(!Array.isArray(e))return{success:!1,error:"Parts must be an array"};const s=(r-t)/1e3,a=[];let n=0,i=0;return e.forEach(e=>{const t=parseFloat(e.material_weight||0);if(t>0){const r=t*s,l=parseFloat(e.standard_value||0),o=l+r;a.push({partId:e.id,partNumber:e.part_number||e.id,description:e.description||"",materialWeight:t,priceImpactPerPart:parseFloat(r.toFixed(4)),oldTotalPrice:parseFloat(l.toFixed(2)),newTotalPrice:parseFloat(o.toFixed(2)),percentChange:l>0?parseFloat((r/l*100).toFixed(2)):0}),n+=r,i++}}),{success:!0,data:{impacts:a,summary:{partsAffected:i,totalParts:e.length,totalCostImpact:parseFloat(n.toFixed(2)),averageImpactPerPart:i>0?parseFloat((n/i).toFixed(2)):0,priceChangePerMT:parseFloat((r-t).toFixed(2)),priceChangePerKg:parseFloat(s.toFixed(4)),priceChangePercent:t>0?parseFloat(((r-t)/t*100).toFixed(2)):0}}}}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:4}).format(e)}formatPercentage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(parseFloat(e).toFixed(t),"%")}validateMaterialIndexData(e){const t=[],r=["aluminum","steel","stainless_steel"];e.material&&r.includes(e.material)||t.push("Material must be one of: ".concat(r.join(", ")));const s=parseFloat(e.price_usd_per_mt);if((isNaN(s)||s<=0)&&t.push("Price must be a positive number"),e.price_date){const r=new Date(e.price_date);isNaN(r.getTime())&&t.push("Price date must be a valid date (YYYY-MM-DD)")}else t.push("Price date is required");return{valid:0===t.length,errors:t}}validatePricingAdjustmentData(e){const t=[],r=["aluminum","steel","stainless_steel"];e.adjustment_name&&0!==e.adjustment_name.trim().length||t.push("Adjustment name is required"),e.material&&r.includes(e.material)||t.push("Material must be one of: ".concat(r.join(", "))),e.data_months&&Array.isArray(e.data_months)&&3===e.data_months.length||t.push("Data months must be an array of 3 months");const s=parseFloat(e.new_average_price);return(isNaN(s)||s<=0)&&t.push("New average price must be a positive number"),{valid:0===t.length,errors:t}}},Ca=ka,Sa={"3_month_rolling":{name:"3-Month Rolling Average Standard",description:"Average of rolling 3 months (month1, month2, month3) communicated in month4 becomes new price in month5",calculate:e=>{if(!Array.isArray(e)||3!==e.length)throw new Error("3-month rolling average requires exactly 3 price values");const t=e.filter(e=>!isNaN(parseFloat(e)));if(3!==t.length)throw new Error("All 3 prices must be valid numbers");return t.reduce((e,t)=>e+parseFloat(t),0)/3},timeline:{dataMonths:3,communicationDelay:1,effectiveDelay:2}},simple_average:{name:"Simple 3-Month Average",description:"Average of specific 3 months",calculate:e=>{if(!Array.isArray(e)||3!==e.length)throw new Error("Simple average requires exactly 3 price values");const t=e.filter(e=>!isNaN(parseFloat(e)));if(3!==t.length)throw new Error("All 3 prices must be valid numbers");return t.reduce((e,t)=>e+parseFloat(t),0)/3},timeline:{dataMonths:3,communicationDelay:0,effectiveDelay:1}},quarterly_standard:{name:"Quarterly Standard Formula",description:"Standard quarterly pricing adjustment formula used by ICRS SPARC",calculate:e=>{if(!Array.isArray(e)||3!==e.length)throw new Error("Quarterly standard requires exactly 3 price values");const t=e.filter(e=>!isNaN(parseFloat(e)));if(3!==t.length)throw new Error("All 3 prices must be valid numbers");return 1.005*(t.reduce((e,t)=>e+parseFloat(t),0)/3)},timeline:{dataMonths:3,communicationDelay:1,effectiveDelay:2}}};const Ea=new class{constructor(){this.defaultFormula="3_month_rolling",this.supportedMaterials=["aluminum","steel","stainless_steel"]}calculatePrice(e,t){const r=Sa[e];if(!r)throw new Error("Unknown pricing formula: ".concat(e));try{const s=r.calculate(t);return{success:!0,result:parseFloat(s.toFixed(4)),formula:e,formulaName:r.name,inputPrices:t.map(e=>parseFloat(e)),calculation:"(".concat(t.join(" + "),") / ").concat(t.length," = ").concat(s.toFixed(4))}}catch(s){return{success:!1,error:s.message,formula:e}}}getPricingTimeline(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;const t=new Date(e),r=t.getMonth(),s=t.getFullYear(),a=[];for(let o=3;o>=1;o--){const e=new Date(s,r-o,1);a.push({year:e.getFullYear(),month:e.getMonth()+1,monthName:e.toLocaleDateString("en-US",{month:"long"}),fullName:e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),key:"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"))})}const n={year:s,month:r+1,monthName:t.toLocaleDateString("en-US",{month:"long"}),fullName:t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),key:"".concat(s,"-").concat(String(r+1).padStart(2,"0"))},i=new Date(s,r+1,1),l={year:i.getFullYear(),month:i.getMonth()+1,monthName:i.toLocaleDateString("en-US",{month:"long"}),fullName:i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),key:"".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"))};return{dataMonths:a,communicationMonth:n,effectiveMonth:l,formula:this.defaultFormula,description:"Average of ".concat(a.map(e=>e.monthName).join(", ")," ").concat(a[0].year," communicated in ").concat(n.fullName," becomes new price in ").concat(l.fullName),summary:{dataMonthsText:a.map(e=>e.fullName).join(", "),communicationText:n.fullName,effectiveText:l.fullName}}}getQuarterMonths(e,t){const r={Q1:[1,2,3],Q2:[4,5,6],Q3:[7,8,9],Q4:[10,11,12]}[e];if(!r)throw new Error("Invalid quarter: ".concat(e,". Use Q1, Q2, Q3, or Q4"));return r.map(e=>{const r=new Date(t,e-1,1);return{year:t,month:e,monthName:r.toLocaleDateString("en-US",{month:"long"}),fullName:r.toLocaleDateString("en-US",{month:"long",year:"numeric"}),key:"".concat(t,"-").concat(String(e).padStart(2,"0"))}})}calculatePartPriceImpact(e,t,r){if(!Array.isArray(e))return{success:!1,error:"Parts must be an array"};const s=(r-t)/1e3,a=[];let n=0,i=0;return e.forEach(e=>{const t=parseFloat(e.material_weight||0);if(t>0){const r=t*s,l=parseFloat(e.standard_value||0),o=l+r;a.push({partId:e.id,partNumber:e.part_number||e.id,description:e.description||"",materialWeight:t,priceImpactPerPart:parseFloat(r.toFixed(4)),oldTotalPrice:parseFloat(l.toFixed(2)),newTotalPrice:parseFloat(o.toFixed(2)),percentChange:l>0?parseFloat((r/l*100).toFixed(2)):0}),n+=r,i++}}),{success:!0,data:{impacts:a,summary:{partsAffected:i,totalParts:e.length,totalCostImpact:parseFloat(n.toFixed(2)),averageImpactPerPart:i>0?parseFloat((n/i).toFixed(2)):0,priceChangePerMT:parseFloat((r-t).toFixed(2)),priceChangePerKg:parseFloat(s.toFixed(4)),priceChangePercent:t>0?parseFloat(((r-t)/t*100).toFixed(2)):0}}}}validateFormulaConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Sa[e];if(!r)return{valid:!1,error:"Unknown formula: ".concat(e)};const s=[];return"3_month_rolling"!==e&&"quarterly_standard"!==e||t.dataMonths&&3===t.dataMonths.length||s.push("3-month rolling formula requires exactly 3 data months"),{valid:0===s.length,errors:s,formula:r.name}}generateAdjustmentDescription(e,t,r,s){const a=Sa[e];if(!a)return"Unknown pricing formula";const n=Array.isArray(t)?t.join(", "):t;switch(e){case"3_month_rolling":return"Using 3-month rolling average of ".concat(n,", communicated in ").concat(r,", effective in ").concat(s);case"simple_average":return"Using simple average of ".concat(n,", effective in ").concat(s);case"quarterly_standard":return"Using quarterly standard formula with data from ".concat(n,", communicated in ").concat(r,", effective in ").concat(s);default:return"Using ".concat(a.name," with data from ").concat(n)}}getAvailableFormulas(){return Object.keys(Sa).map(e=>({key:e,name:Sa[e].name,description:Sa[e].description,timeline:Sa[e].timeline}))}getMaterialAdjustments(e,t){const r={aluminum:{volatilityFactor:1.15,seasonalFactor:1.02,minimumChange:.01},steel:{volatilityFactor:1.08,seasonalFactor:1.01,minimumChange:.02},stainless_steel:{volatilityFactor:1.25,seasonalFactor:1.03,minimumChange:.015}};return r[e]||r.aluminum}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:4}).format(e)}formatPercentage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(parseFloat(e).toFixed(t),"%")}calculateFTZComplianceFactor(e,t){return{aluminum:.995,steel:.998,stainless_steel:.992}[e]||1}generateQuarterlyReport(e){const t={totalAdjustments:e.length,materialBreakdown:{},totalCostImpact:0,averagePercentChange:0,partsAffected:0};return e.forEach(e=>{t.materialBreakdown[e.material]||(t.materialBreakdown[e.material]={count:0,totalImpact:0,averageChange:0}),t.materialBreakdown[e.material].count++,t.materialBreakdown[e.material].totalImpact+=e.total_cost_impact||0,t.materialBreakdown[e.material].averageChange+=e.price_change_percent||0,t.totalCostImpact+=e.total_cost_impact||0,t.partsAffected+=e.parts_affected||0}),Object.keys(t.materialBreakdown).forEach(e=>{const r=t.materialBreakdown[e];r.averageChange=r.averageChange/r.count}),t.averagePercentChange=e.reduce((e,t)=>e+(t.price_change_percent||0),0)/e.length,t}},Aa=Ea,Pa=e=>{let{onClose:t,showNotification:r=vr,onDataUpdate:s=()=>{}}=e;const[n,i]=(0,a.useState)(1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)("aluminum"),[h,p]=(0,a.useState)(null),[f,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)([]),[y,v]=(0,a.useState)([{month:(new Date).getMonth()-2,year:(new Date).getFullYear()},{month:(new Date).getMonth()-1,year:(new Date).getFullYear()},{month:(new Date).getMonth(),year:(new Date).getFullYear()}]),[j,N]=(0,a.useState)({month:(new Date).getMonth()+1,year:(new Date).getFullYear()}),[w,_]=(0,a.useState)({month:(new Date).getMonth()+2,year:(new Date).getFullYear()}),[k,C]=(0,a.useState)({}),[S,E]=(0,a.useState)(null),[A,P]=(0,a.useState)(null),[T,L]=(0,a.useState)(0),[R,D]=(0,a.useState)(null),[F,O]=(0,a.useState)([]),[I,M]=(0,a.useState)([]),[U,z]=(0,a.useState)(null),[B,q]=(0,a.useState)(null),H=[{value:"aluminum",label:"Aluminum"},{value:"steel",label:"Steel"},{value:"stainless_steel",label:"Stainless Steel"}],Q=[{id:1,title:"Timeline Selection",description:"Select material and pricing timeline"},{id:2,title:"Price Entry",description:"Enter or fetch material pricing data"},{id:3,title:"Impact Analysis",description:"Review pricing impact on parts"},{id:4,title:"Application",description:"Apply pricing adjustment to parts"}];(0,a.useEffect)(()=>{if(u){let e,t;f?(t=y.map(e=>"".concat(e.year,"-").concat(String(e.month+1).padStart(2,"0"))),e={dataMonths:y.map((e,t)=>({key:"".concat(e.year,"-").concat(String(e.month+1).padStart(2,"0")),monthName:new Date(e.year,e.month).toLocaleDateString("en-US",{month:"long"}),fullName:new Date(e.year,e.month).toLocaleDateString("en-US",{month:"long",year:"numeric"}),year:e.year})),communicationMonth:{key:"".concat(j.year,"-").concat(String(j.month+1).padStart(2,"0")),monthName:new Date(j.year,j.month).toLocaleDateString("en-US",{month:"long"}),fullName:new Date(j.year,j.month).toLocaleDateString("en-US",{month:"long",year:"numeric"}),year:j.year},effectiveMonth:{key:"".concat(w.year,"-").concat(String(w.month+1).padStart(2,"0")),monthName:new Date(w.year,w.month).toLocaleDateString("en-US",{month:"long"}),fullName:new Date(w.year,w.month).toLocaleDateString("en-US",{month:"long",year:"numeric"}),year:w.year},description:"Custom timeline configured by user"}):(e=Aa.getPricingTimeline(),t=e.dataMonths.map(e=>e.key)),p(e),b(t),C({}),E(null),P(null)}},[u,f,y,j,w]);const V=(0,a.useCallback)(async()=>{if(u&&3===x.length){o(!0);try{const e="".concat(x[0],"-01"),t="".concat(x[2],"-31"),r=await Ca.getAllMaterialIndices({material:u,startDate:e,endDate:t});if(r.success&&r.data){const e={};r.data.forEach(t=>{const r=t.price_date.substring(0,7);x.includes(r)&&(e[r]=t.price_usd_per_mt)}),C(e)}}catch(e){console.error("Error fetching existing prices:",e)}finally{o(!1)}}},[u,x]);(0,a.useEffect)(()=>{V()},[V]);const W=(0,a.useCallback)(()=>{const e=x.map(e=>parseFloat(k[e])||0).filter(e=>e>0);if(3===e.length){const t=Aa.calculatePrice("3_month_rolling",e);if(t.success){if(E(t.result),A&&A>0){const e=(t.result-A)/A*100;L(parseFloat(e.toFixed(2)))}return t.result}}return null},[x,k,A]);(0,a.useEffect)(()=>{W()},[W]);const $=async()=>{if(U){d(!0);try{const e=await Ca.createPricingAdjustment(U);if(!e.success)throw new Error(e.error);const t=await Ca.applyPricingAdjustment(e.data.id);if(!t.success)throw new Error(t.error);q(t.data),r.success("Pricing adjustment applied successfully! ".concat(t.data.partsUpdated," parts updated.")),s()}catch(e){console.error("Error applying pricing adjustment:",e),r.error(e.message||"Failed to apply pricing adjustment")}finally{d(!1)}}else r.error("No adjustment data available")},X=e=>{let{label:t,value:r,onChange:s,className:a=""}=e;const n=(new Date).getFullYear(),i=Array.from({length:10},(e,t)=>n-2+t);return(0,ts.jsxs)("div",{className:"space-y-2 ".concat(a),children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),(0,ts.jsxs)("div",{className:"flex space-x-2",children:[(0,ts.jsx)("select",{value:r.month,onChange:e=>s((0,Oe.A)((0,Oe.A)({},r),{},{month:parseInt(e.target.value)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>(0,ts.jsx)("option",{value:t,children:e},t))}),(0,ts.jsx)("select",{value:r.year,onChange:e=>s((0,Oe.A)((0,Oe.A)({},r),{},{year:parseInt(e.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:i.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))})]})]})},K=(e,t)=>{switch(e){case"dataMonth1":v(e=>[t,e[1],e[2]]);break;case"dataMonth2":v(e=>[e[0],t,e[2]]);break;case"dataMonth3":v(e=>[e[0],e[1],t]);break;case"communicationMonth":N(t);break;case"effectiveMonth":_(t);break;default:console.warn("Unknown timeline field: ".concat(e))}},G=()=>(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Material"}),(0,ts.jsx)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:H.map(e=>(0,ts.jsx)("option",{value:e.value,children:e.label},e.value))})]}),h&&(0,ts.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Pricing Timeline"}),(0,ts.jsx)("p",{className:"text-sm text-blue-800 mb-3",children:h.description}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Data Months:"}),(0,ts.jsxs)("div",{className:"text-gray-600",children:[h.dataMonths.map(e=>e.monthName).join(", ")," ",h.dataMonths[0].year]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Communication:"}),(0,ts.jsx)("div",{className:"text-gray-600",children:h.communicationMonth.fullName})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"font-medium text-gray-700",children:"Effective:"}),(0,ts.jsx)("div",{className:"text-gray-600",children:h.effectiveMonth.fullName})]})]})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("input",{type:"checkbox",id:"custom-timeline",checked:f,onChange:e=>g(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"custom-timeline",className:"text-sm text-gray-700",children:"Use custom timeline (advanced)"})]}),f&&(0,ts.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-yellow-900 mb-3",children:"Custom Timeline Configuration"}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Data Collection Months (3 months required)"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsx)(X,{label:"First Data Month",value:y[0],onChange:e=>K("dataMonth1",e)}),(0,ts.jsx)(X,{label:"Second Data Month",value:y[1],onChange:e=>K("dataMonth2",e)}),(0,ts.jsx)(X,{label:"Third Data Month",value:y[2],onChange:e=>K("dataMonth3",e)})]})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ts.jsx)(X,{label:"Communication Month (when pricing is communicated)",value:j,onChange:e=>K("communicationMonth",e)}),(0,ts.jsx)(X,{label:"Effective Month (when pricing goes live)",value:w,onChange:e=>K("effectiveMonth",e)})]}),(0,ts.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-3 text-sm",children:[(0,ts.jsx)("h6",{className:"font-medium text-gray-700 mb-2",children:"Timeline Summary:"}),(0,ts.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Data from:"})," ",y.map(e=>new Date(e.year,e.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})).join(", ")]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Communicated:"})," ",new Date(j.year,j.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Effective:"})," ",new Date(w.year,w.month).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]})]})]}),Y=()=>{var e;return(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Enter ",null===(e=H.find(e=>e.value===u))||void 0===e?void 0:e.label," Prices (USD per Metric Ton)"]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map((e,t)=>{var r;const s=(null===h||void 0===h||null===(r=h.dataMonths[t])||void 0===r?void 0:r.fullName)||e;return(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,ts.jsx)("input",{type:"number",step:"0.01",value:k[e]||"",onChange:t=>{const r=t.target.value;C(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:r}))},onBlur:t=>{const r=parseFloat(t.target.value);!isNaN(r)&&r>0&&C(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:r.toFixed(2)}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",autoComplete:"off"},"price-".concat(e,"-").concat(t))]},e)})})]}),S&&(0,ts.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Calculation Results"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-green-800",children:"3-Month Average:"}),(0,ts.jsxs)("div",{className:"font-semibold",children:[Aa.formatCurrency(S),"/MT"]})]}),A&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-green-800",children:"Change from Previous:"}),(0,ts.jsxs)("div",{className:"font-semibold ".concat(T>=0?"text-red-600":"text-green-600"),children:[T>=0?"+":"",T,"%"]})]})]})]}),l&&(0,ts.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading existing price data..."})]})]})},Z=()=>(0,ts.jsxs)("div",{className:"space-y-6",children:[R&&(0,ts.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-yellow-900 mb-3",children:"Pricing Impact Summary"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-yellow-800",children:"Parts Affected:"}),(0,ts.jsx)("div",{className:"font-semibold",children:R.data.summary.partsAffected})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-yellow-800",children:"Total Cost Impact:"}),(0,ts.jsx)("div",{className:"font-semibold",children:Aa.formatCurrency(R.data.summary.totalCostImpact)})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-yellow-800",children:"Average per Part:"}),(0,ts.jsx)("div",{className:"font-semibold",children:Aa.formatCurrency(R.data.summary.averageImpactPerPart)})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-yellow-800",children:"Price Change:"}),(0,ts.jsx)("div",{className:"font-semibold",children:Aa.formatPercentage(T)})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Affected Parts"}),(0,ts.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,ts.jsx)("div",{className:"max-h-60 overflow-y-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,ts.jsx)("input",{type:"checkbox",checked:I.length===F.length,onChange:e=>{e.target.checked?M(F.map(e=>e.id)):M([])},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,ts.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),(0,ts.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight"}),(0,ts.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Value"}),(0,ts.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impact"})]})}),(0,ts.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(e=>{const t=null===R||void 0===R?void 0:R.data.impacts.find(t=>t.partId===e.id);return(0,ts.jsxs)("tr",{className:I.includes(e.id)?"bg-blue-50":"",children:[(0,ts.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:(0,ts.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:t=>{t.target.checked?M(t=>[...t,e.id]):M(t=>t.filter(t=>t!==e.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,ts.jsxs)("td",{className:"px-4 py-2 whitespace-nowrap",children:[(0,ts.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.part_number}),(0,ts.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,ts.jsxs)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:[e.material_weight," kg"]}),(0,ts.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:Aa.formatCurrency(e.standard_value)}),(0,ts.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:t&&(0,ts.jsxs)("div",{className:"text-sm",children:[(0,ts.jsxs)("div",{className:"font-medium ".concat(t.priceImpactPerPart>=0?"text-red-600":"text-green-600"),children:[t.priceImpactPerPart>=0?"+":"",Aa.formatCurrency(t.priceImpactPerPart)]}),(0,ts.jsxs)("div",{className:"text-gray-500",children:["(",t.percentChange>=0?"+":"",t.percentChange,"%)"]})]})})]},e.id)})})]})})})]})]}),J=()=>{var e;return(0,ts.jsxs)("div",{className:"space-y-6",children:[U&&(0,ts.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-blue-900 mb-3",children:"Pricing Adjustment Summary"}),(0,ts.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Name:"})," ",U.adjustment_name]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Material:"})," ",null===(e=H.find(e=>e.value===U.material))||void 0===e?void 0:e.label]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Data Period:"})," ",U.data_months.join(", ")]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"New Average Price:"})," ",Aa.formatCurrency(U.new_average_price),"/MT"]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Price Change:"})," ",U.price_change_percent>=0?"+":"",U.price_change_percent,"%"]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Parts Affected:"})," ",U.parts_affected]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Total Cost Impact:"})," ",Aa.formatCurrency(U.total_cost_impact)]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Effective Month:"})," ",U.effective_month]})]})]}),B?(0,ts.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"\u2705 Application Successful"}),(0,ts.jsxs)("div",{className:"text-sm text-green-800 space-y-1",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Parts Updated:"})," ",B.partsUpdated]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Total Cost Impact:"})," ",Aa.formatCurrency(B.totalCostImpact)]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("strong",{children:"Price Changes Recorded:"})," ",B.priceChanges]})]})]}):(0,ts.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ts.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Ready to Apply"}),(0,ts.jsx)("p",{className:"text-sm text-yellow-800 mb-4",children:"This action will create a pricing adjustment record and update the selected parts with new material pricing. This action cannot be undone."}),(0,ts.jsx)("button",{onClick:$,disabled:c,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:c?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Applying Adjustment..."]}):"Apply Pricing Adjustment"})]})]})};return(0,ts.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ts.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,ts.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold",children:"Quarterly Pricing Update"}),(0,ts.jsx)("p",{className:"text-blue-100",children:"Material pricing adjustment wizard"})]}),(0,ts.jsx)("button",{onClick:t,className:"text-blue-200 hover:text-white transition-colors",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ts.jsx)("div",{className:"flex items-center justify-between mt-6",children:Q.map(e=>(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 ".concat(n>=e.id?"bg-white text-blue-600 border-white":"border-blue-300 text-blue-300"),children:n>e.id?(0,ts.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.id}),(0,ts.jsxs)("div",{className:"ml-3 text-left",children:[(0,ts.jsx)("div",{className:"text-sm font-medium",children:e.title}),(0,ts.jsx)("div",{className:"text-xs text-blue-200",children:e.description})]}),e.id<4&&(0,ts.jsx)("div",{className:"flex-1 h-px bg-blue-400 mx-4"})]},e.id))})]}),(0,ts.jsxs)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[1===n&&(0,ts.jsx)(G,{}),2===n&&(0,ts.jsx)(Y,{}),3===n&&(0,ts.jsx)(Z,{}),4===n&&(0,ts.jsx)(J,{})]}),(0,ts.jsxs)("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,ts.jsx)("button",{onClick:()=>{i(e=>Math.max(e-1,1))},disabled:1===n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 rounded-lg transition-colors duration-200",children:"Previous"}),(0,ts.jsxs)("div",{className:"text-sm text-gray-500",children:["Step ",n," of ",Q.length]}),n<4?(0,ts.jsx)("button",{onClick:async()=>{if(1!==n||u&&h){if(2===n){const e=x.map(e=>parseFloat(k[e])||0).filter(e=>e>0);if(3!==e.length)return void r.error("Please enter all three monthly prices");if(!S)return void r.error("Unable to calculate average price");o(!0);try{const e=(new Date).getFullYear()-1,t=x.map(t=>{const[,r]=t.split("-");return"".concat(e,"-").concat(r)}),r=await Ca.calculate3MonthAverage(u,t[0],t[1],t[2]);if(r.success){P(r.data.average);const e=(S-r.data.average)/r.data.average*100;L(parseFloat(e.toFixed(2)))}}catch(t){console.error("Error fetching old average:",t)}finally{o(!1)}await(async()=>{o(!0);try{const e=[{id:"1",part_number:"ALM-001",description:"Aluminum Housing Component",material:u,material_weight:2.5,standard_value:45},{id:"2",part_number:"ALM-002",description:"Aluminum Bracket Assembly",material:u,material_weight:1.8,standard_value:32.5}];if(O(e),M(e.map(e=>e.id)),S&&A){const t=Aa.calculatePartPriceImpact(e,A,S);D(t)}}catch(t){console.error("Error fetching parts for impact:",t),r.error("Failed to load parts data")}finally{o(!1)}})()}if(3===n){var e;if(!R||0===I.length)return void r.error("Please select parts to be affected by the pricing adjustment");const t={adjustment_name:"Q".concat(Math.ceil((new Date).getMonth()/3)," ").concat((new Date).getFullYear()," ").concat(null===(e=H.find(e=>e.value===u))||void 0===e?void 0:e.label," Price Adjustment"),material:u,data_months:x,communication_month:h.communicationMonth.key,effective_month:h.effectiveMonth.key,old_average_price:A,new_average_price:S,price_change_usd:S-(A||0),price_change_percent:T,parts_affected:I.length,total_cost_impact:R.data.summary.totalCostImpact,pricing_formula:"3_month_rolling",formula_config:{dataMonths:x,prices:x.map(e=>k[e])}};z(t)}i(e=>Math.min(e+1,4))}else r.error("Please select a material and timeline")},disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-lg transition-colors duration-200 flex items-center",children:l?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Next"}):(0,ts.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors duration-200",children:"Close"})]})]})})};const Ta=new class{constructor(){this.baseUrl="/api/receiving"}async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t;const r=new URLSearchParams;e.view&&r.append("view",e.view),e.status&&r.append("status",e.status),e.search&&r.append("search",e.search),e.container&&r.append("container",e.container),e.ftz_status&&r.append("ftz_status",e.ftz_status),e.ftz_urgency&&r.append("ftz_urgency",e.ftz_urgency),e.page&&r.append("page",e.page),e.limit&&r.append("limit",e.limit);const s=r.toString()?"".concat(this.baseUrl,"?").concat(r.toString()):this.baseUrl,a=await Wr.get(s);return{success:!0,preadmissions:a.preadmissions||a.data||[],total:a.total||(null===(t=a.preadmissions)||void 0===t?void 0:t.length)||0,page:a.page||1,totalPages:a.totalPages||1}}catch(r){throw console.error("Error fetching receiving data:",r),new Error(r.message||"Failed to fetch receiving data")}}async getById(e){try{const t=await Wr.get("".concat(this.baseUrl,"/").concat(e));return{success:!0,preadmission:t.preadmission||t.data}}catch(t){throw console.error("Error fetching receiving record:",t),new Error(t.message||"Failed to fetch receiving record")}}async create(e){try{const t=await Wr.post(this.baseUrl,e);return{success:!0,preadmission:t.preadmission||t.data,message:"Receiving entry created successfully"}}catch(t){throw console.error("Error creating receiving entry:",t),new Error(t.message||"Failed to create receiving entry")}}async update(e,t){try{const r=await Wr.put("".concat(this.baseUrl,"/").concat(e),t);return{success:!0,preadmission:r.preadmission||r.data,message:"Receiving record updated successfully"}}catch(r){throw console.error("Error updating receiving record:",r),new Error(r.message||"Failed to update receiving record")}}async updateStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/status"),{status:t,notes:r,updated_at:(new Date).toISOString()});return{success:!0,preadmission:s.preadmission||s.data,message:"Receiving status updated to ".concat(t)}}catch(s){throw console.error("Error updating receiving status:",s),new Error(s.message||"Failed to update receiving status")}}async completeDockAudit(e,t){try{let r,s="application/json";t instanceof FormData?(r=t,s="multipart/form-data"):r=t;const a=await Wr.request("".concat(this.baseUrl,"/").concat(e,"/dock-audit"),{method:"POST",headers:"application/json"===s?{"Content-Type":"application/json"}:{},body:"application/json"===s?JSON.stringify(r):r});return{success:!0,preadmission:a.preadmission||a.data,audit_record:a.audit_record,message:"Dock audit completed successfully"}}catch(r){throw console.error("Error completing dock audit:",r),new Error(r.message||"Failed to complete dock audit")}}async startInspection(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/inspection/start"),t);return{success:!0,preadmission:r.preadmission||r.data,inspection_id:r.inspection_id,message:"Container inspection started"}}catch(r){throw console.error("Error starting inspection:",r),new Error(r.message||"Failed to start container inspection")}}async recordArrival(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/arrival"),(0,Oe.A)((0,Oe.A)({},t),{},{arrived_at:t.arrived_at||(new Date).toISOString()}));return{success:!0,preadmission:r.preadmission||r.data,message:"Container arrival recorded successfully"}}catch(r){throw console.error("Error recording arrival:",r),new Error(r.message||"Failed to record container arrival")}}async validateFTZCompliance(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/ftz-validation"),t);return{success:!0,compliance_status:r.compliance_status,violations:r.violations||[],recommendations:r.recommendations||[],estimated_clearance:r.estimated_clearance,message:"FTZ compliance validation completed"}}catch(r){throw console.error("Error validating FTZ compliance:",r),new Error(r.message||"Failed to validate FTZ compliance")}}async getDockSchedule(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=new URLSearchParams;e&&t.append("date",e);const r=t.toString()?"".concat(this.baseUrl,"/dock/schedule?").concat(t.toString()):"".concat(this.baseUrl,"/dock/schedule"),s=await Wr.get(r);return{success:!0,schedule:s.schedule||[],capacity:s.capacity,available_slots:s.available_slots||[],current_occupancy:s.current_occupancy}}catch(t){throw console.error("Error fetching dock schedule:",t),new Error(t.message||"Failed to fetch dock schedule")}}async scheduleDockAppointment(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/appointment"),t);return{success:!0,appointment:r.appointment,confirmation_number:r.confirmation_number,message:"Dock appointment scheduled successfully"}}catch(r){throw console.error("Error scheduling appointment:",r),new Error(r.message||"Failed to schedule dock appointment")}}async getStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.period&&t.append("period",e.period),e.start_date&&t.append("start_date",e.start_date),e.end_date&&t.append("end_date",e.end_date);const r=t.toString()?"".concat(this.baseUrl,"/stats?").concat(t.toString()):"".concat(this.baseUrl,"/stats"),s=await Wr.get(r);return{success:!0,stats:s.stats||s.data}}catch(t){throw console.error("Error fetching receiving stats:",t),new Error(t.message||"Failed to fetch receiving statistics")}}async generateReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inspection";try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/report/").concat(t));return{success:!0,report_url:r.report_url,report_id:r.report_id,message:"Report generated successfully"}}catch(r){throw console.error("Error generating report:",r),new Error(r.message||"Failed to generate receiving report")}}async uploadDocuments(e,t){try{const r=new FormData;Array.isArray(t)?t.forEach((e,t)=>{r.append("documents[".concat(t,"]"),e)}):r.append("document",t);return{success:!0,uploaded_files:(await Wr.request("".concat(this.baseUrl,"/").concat(e,"/documents"),{method:"POST",body:r})).uploaded_files||[],message:"Documents uploaded successfully"}}catch(r){throw console.error("Error uploading documents:",r),new Error(r.message||"Failed to upload documents")}}async getDocuments(e){try{return{success:!0,documents:(await Wr.get("".concat(this.baseUrl,"/").concat(e,"/documents"))).documents||[]}}catch(t){throw console.error("Error fetching documents:",t),new Error(t.message||"Failed to fetch documents")}}async deleteDocument(e,t){try{return await Wr.delete("".concat(this.baseUrl,"/").concat(e,"/documents/").concat(t)),{success:!0,message:"Document deleted successfully"}}catch(r){throw console.error("Error deleting document:",r),new Error(r.message||"Failed to delete document")}}async bulkUpdateStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await Wr.patch("".concat(this.baseUrl,"/bulk/status"),{receiving_ids:e,status:t,notes:r});return{success:!0,updated_count:s.updated_count,message:"Updated ".concat(s.updated_count," receiving records to ").concat(t)}}catch(s){throw console.error("Error bulk updating status:",s),new Error(s.message||"Failed to bulk update receiving status")}}async exportData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r;const s=new URLSearchParams;e.format&&s.append("format",e.format),e.start_date&&s.append("start_date",e.start_date),e.end_date&&s.append("end_date",e.end_date),e.status&&s.append("status",e.status);const a="".concat(this.baseUrl,"/export?").concat(s.toString()),n=await fetch(a,{headers:{Authorization:"Bearer ".concat(Wr.token)}});if(!n.ok)throw new Error("Export failed");const i=await n.blob();return{success:!0,blob:i,filename:(null===(t=n.headers.get("content-disposition"))||void 0===t||null===(r=t.split("filename=")[1])||void 0===r?void 0:r.replace(/"/g,""))||"receiving.csv",message:"Data exported successfully"}}catch(s){throw console.error("Error exporting data:",s),new Error(s.message||"Failed to export receiving data")}}async getFTZWorkflowConfig(){try{const e=await Wr.get("".concat(this.baseUrl,"/ftz/workflow"));return{success:!0,ftz_zones:e.ftz_zones||[],compliance_rules:e.compliance_rules||[],inspection_requirements:e.inspection_requirements||[],documentation_requirements:e.documentation_requirements||[]}}catch(e){throw console.error("Error fetching FTZ workflow config:",e),new Error(e.message||"Failed to fetch FTZ workflow configuration")}}async validateSeal(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/seal/validate"),t);return{success:!0,seal_valid:r.seal_valid,seal_history:r.seal_history||[],discrepancies:r.discrepancies||[],message:r.seal_valid?"Seal validated successfully":"Seal validation failed"}}catch(r){throw console.error("Error validating seal:",r),new Error(r.message||"Failed to validate container seal")}}async getAuditTrail(e){try{const t=await Wr.get("".concat(this.baseUrl,"/").concat(e,"/audit-trail"));return{success:!0,audit_trail:t.audit_trail||[],total_events:t.total_events}}catch(t){throw console.error("Error fetching audit trail:",t),new Error(t.message||"Failed to fetch audit trail")}}async archiveReceiving(e){try{await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/archive"));return{success:!0,message:"Receiving record archived successfully"}}catch(t){throw console.error("Error archiving receiving record:",t),new Error(t.message||"Failed to archive receiving record")}}async restoreReceiving(e){try{const t=await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/restore"));return{success:!0,preadmission:t.preadmission||t.data,message:"Receiving record restored successfully"}}catch(t){throw console.error("Error restoring receiving record:",t),new Error(t.message||"Failed to restore receiving record")}}},La=e=>{let{isOpen:t,onClose:r,data:s}=e;const{showSuccess:n,showError:i}=Ms(),l=St(),o=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)(null),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)({container_condition:"",seal_number:"",seal_verified:!1,customs_inspection:!1,ftz_compliance:!1,temperature_check:"",weight_verification:"",documentation_complete:!1,discrepancies_noted:"",photos:[],inspector_notes:"",audit_result:"",rejection_reason:"",inspector_name:"",inspector_signature:null}),[f,g]=(0,a.useState)({}),[x,b]=(0,a.useState)(!1),y=Js(e=>Ta.completeDockAudit(s.id,e),{onSuccess:()=>{n("Dock audit completed successfully"),l.invalidateQueries(["receiving"]),v(),r()},onError:e=>{i("Failed to complete dock audit: ".concat(e.message)),b(!1)}}),v=()=>{p({container_condition:"",seal_number:"",seal_verified:!1,customs_inspection:!1,ftz_compliance:!1,temperature_check:"",weight_verification:"",documentation_complete:!1,discrepancies_noted:"",photos:[],inspector_notes:"",audit_result:"",rejection_reason:"",inspector_name:"",inspector_signature:null}),g({}),b(!1),N()},j=(e,t)=>{p(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),f[e]&&g(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},N=()=>{if(c.current&&c.current.srcObject){c.current.srcObject.getTracks().forEach(e=>e.stop()),c.current.srcObject=null,m(!1)}};return s?(0,ts.jsx)(ta,{isOpen:t,onClose:r,title:"Dock Audit - ".concat(s.container_number||s.admission_id),size:"xl",className:"max-h-screen overflow-y-auto",children:(0,ts.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return h.container_condition||(e.container_condition="Container condition is required"),h.seal_number||(e.seal_number="Seal number is required"),h.audit_result||(e.audit_result="Audit result is required"),"rejected"!==h.audit_result||h.rejection_reason||(e.rejection_reason="Rejection reason is required when rejecting"),h.inspector_name||(e.inspector_name="Inspector name is required"),g(e),0===Object.keys(e).length})())return;b(!0);const t=new FormData;Object.keys(h).forEach(e=>{"photos"===e?h.photos.forEach((e,r)=>{t.append("photos[".concat(r,"]"),e)}):"inspector_signature"===e?h.inspector_signature&&t.append("inspector_signature",h.inspector_signature):t.append(e,h[e])}),y.mutate(t)},className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Container Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Container Number"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.container_number||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"BOL Number"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.bol_number||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.customer_name||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Contents"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.description||"N/A"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Physical Inspection"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Container Condition *"}),(0,ts.jsxs)("select",{value:h.container_condition,onChange:e=>j("container_condition",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.container_condition?"border-red-300":""),children:[(0,ts.jsx)("option",{value:"",children:"Select condition..."}),(0,ts.jsx)("option",{value:"excellent",children:"Excellent"}),(0,ts.jsx)("option",{value:"good",children:"Good"}),(0,ts.jsx)("option",{value:"fair",children:"Fair"}),(0,ts.jsx)("option",{value:"poor",children:"Poor"}),(0,ts.jsx)("option",{value:"damaged",children:"Damaged"})]}),f.container_condition&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.container_condition})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Seal Number *"}),(0,ts.jsx)("input",{type:"text",value:h.seal_number,onChange:e=>j("seal_number",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.seal_number?"border-red-300":""),placeholder:"Enter seal number..."}),f.seal_number&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.seal_number})]})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Temperature (if applicable)"}),(0,ts.jsx)("input",{type:"text",value:h.temperature_check,onChange:e=>j("temperature_check",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"e.g., -18\xb0C, 72\xb0F"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Weight Verification"}),(0,ts.jsx)("input",{type:"text",value:h.weight_verification,onChange:e=>j("weight_verification",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"e.g., 25,000 lbs"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Compliance Verification"}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"seal_verified",type:"checkbox",checked:h.seal_verified,onChange:e=>j("seal_verified",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"seal_verified",className:"ml-2 block text-sm text-gray-900",children:"Seal number verified and intact"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"customs_inspection",type:"checkbox",checked:h.customs_inspection,onChange:e=>j("customs_inspection",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"customs_inspection",className:"ml-2 block text-sm text-gray-900",children:"Customs inspection completed (if required)"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"ftz_compliance",type:"checkbox",checked:h.ftz_compliance,onChange:e=>j("ftz_compliance",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"ftz_compliance",className:"ml-2 block text-sm text-gray-900",children:"FTZ compliance requirements met"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"documentation_complete",type:"checkbox",checked:h.documentation_complete,onChange:e=>j("documentation_complete",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"documentation_complete",className:"ml-2 block text-sm text-gray-900",children:"All required documentation present"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Photo Documentation"}),(0,ts.jsxs)("div",{className:"flex space-x-2",children:[u?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsxs)("button",{type:"button",onClick:()=>{if(c.current&&d.current){const e=d.current,t=c.current;e.width=t.videoWidth,e.height=t.videoHeight;e.getContext("2d").drawImage(t,0,0),e.toBlob(e=>{if(e){const t=new File([e],"dock-audit-".concat(Date.now(),".jpg"),{type:"image/jpeg"});p(e=>(0,Oe.A)((0,Oe.A)({},e),{},{photos:[...e.photos,t]})),n("Photo captured successfully")}},"image/jpeg",.8)}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-camera mr-2"}),"Capture Photo"]}),(0,ts.jsxs)("button",{type:"button",onClick:N,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-stop mr-2"}),"Stop Camera"]})]}):(0,ts.jsxs)("button",{type:"button",onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,facingMode:{ideal:"environment"}}});c.current&&(c.current.srcObject=e,m(!0))}catch(e){i("Failed to access camera: "+e.message)}},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-camera mr-2"}),"Start Camera"]}),(0,ts.jsx)("input",{ref:o,type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);p(e=>(0,Oe.A)((0,Oe.A)({},e),{},{photos:[...e.photos,...t]}))},className:"hidden"}),(0,ts.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-upload mr-2"}),"Upload Photos"]})]}),u&&(0,ts.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,ts.jsx)("video",{ref:c,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"})}),(0,ts.jsx)("canvas",{ref:d,className:"hidden"}),h.photos.length>0&&(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:["Captured Photos (",h.photos.length,")"]}),(0,ts.jsx)("div",{className:"grid grid-cols-3 gap-2",children:h.photos.map((e,t)=>(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("img",{src:e instanceof File?URL.createObjectURL(e):e,alt:"Audit photo ".concat(t+1),className:"w-full h-24 object-cover rounded-lg"}),(0,ts.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>(0,Oe.A)((0,Oe.A)({},t),{},{photos:t.photos.filter((t,r)=>r!==e)}))})(t),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-700",children:"\xd7"})]},t))})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Discrepancies Noted"}),(0,ts.jsx)("textarea",{value:h.discrepancies_noted,onChange:e=>j("discrepancies_noted",e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Note any discrepancies, damages, or issues..."})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Inspector Notes"}),(0,ts.jsx)("textarea",{value:h.inspector_notes,onChange:e=>j("inspector_notes",e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Additional notes and observations..."})]})]}),(0,ts.jsxs)("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Audit Decision"}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Audit Result *"}),(0,ts.jsxs)("select",{value:h.audit_result,onChange:e=>j("audit_result",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.audit_result?"border-red-300":""),children:[(0,ts.jsx)("option",{value:"",children:"Select result..."}),(0,ts.jsx)("option",{value:"accepted",children:"Accepted - Goods approved for admission"}),(0,ts.jsx)("option",{value:"rejected",children:"Rejected - Goods refused"}),(0,ts.jsx)("option",{value:"hold",children:"Hold - Additional review required"})]}),f.audit_result&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.audit_result})]}),"rejected"===h.audit_result&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rejection Reason *"}),(0,ts.jsx)("textarea",{value:h.rejection_reason,onChange:e=>j("rejection_reason",e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.rejection_reason?"border-red-300":""),placeholder:"Specify reason for rejection..."}),f.rejection_reason&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.rejection_reason})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Inspector Information"}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Inspector Name *"}),(0,ts.jsx)("input",{type:"text",value:h.inspector_name,onChange:e=>j("inspector_name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.inspector_name?"border-red-300":""),placeholder:"Enter inspector name..."}),f.inspector_name&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.inspector_name})]}),(0,ts.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle mr-2"}),"Digital signature will be captured upon form submission."]})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,ts.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:x,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(x?"bg-gray-400 cursor-not-allowed":"accepted"===h.audit_result?"bg-green-600 hover:bg-green-700":"rejected"===h.audit_result?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:x?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-check mr-2"}),"Complete Dock Audit"]})})]})]})}):null};const Ra=new class{constructor(){this.baseUrl="/api/shipping"}async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t;const r=new URLSearchParams;e.view&&r.append("view",e.view),e.status&&r.append("status",e.status),e.search&&r.append("search",e.search),e.customer&&r.append("customer",e.customer),e.priority&&r.append("priority",e.priority),e.page&&r.append("page",e.page),e.limit&&r.append("limit",e.limit);const s=r.toString()?"".concat(this.baseUrl,"?").concat(r.toString()):this.baseUrl,a=await Wr.get(s);return{success:!0,preshipments:a.preshipments||a.data||[],total:a.total||(null===(t=a.preshipments)||void 0===t?void 0:t.length)||0,page:a.page||1,totalPages:a.totalPages||1}}catch(r){throw console.error("Error fetching shipping data:",r),new Error(r.message||"Failed to fetch shipping data")}}async getById(e){try{const t=await Wr.get("".concat(this.baseUrl,"/").concat(e));return{success:!0,preshipment:t.preshipment||t.data}}catch(t){throw console.error("Error fetching shipping record:",t),new Error(t.message||"Failed to fetch shipping record")}}async create(e){try{const t=await Wr.post(this.baseUrl,e);return{success:!0,preshipment:t.preshipment||t.data,message:"Shipment created successfully"}}catch(t){throw console.error("Error creating shipment:",t),new Error(t.message||"Failed to create shipment")}}async update(e,t){try{const r=await Wr.put("".concat(this.baseUrl,"/").concat(e),t);return{success:!0,preshipment:r.preshipment||r.data,message:"Shipment updated successfully"}}catch(r){throw console.error("Error updating shipment:",r),new Error(r.message||"Failed to update shipment")}}async delete(e){try{return await Wr.delete("".concat(this.baseUrl,"/").concat(e)),{success:!0,message:"Shipment deleted successfully"}}catch(t){throw console.error("Error deleting shipment:",t),new Error(t.message||"Failed to delete shipment")}}async updateStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/status"),{status:t,notes:r,updated_at:(new Date).toISOString()});return{success:!0,preshipment:s.preshipment||s.data,message:"Shipment status updated to ".concat(t)}}catch(s){throw console.error("Error updating shipment status:",s),new Error(s.message||"Failed to update shipment status")}}async generateLabels(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/labels"),t);return{success:!0,labels:r.labels||[],tracking_numbers:r.tracking_numbers||[],estimated_cost:r.estimated_cost,message:"Labels generated successfully"}}catch(r){throw console.error("Error generating labels:",r),new Error(r.message||"Failed to generate shipping labels")}}async completeDriverSignoff(e,t){try{const r=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/signoff"),t);return{success:!0,preshipment:r.preshipment||r.data,signoff_record:r.signoff_record,message:"Driver signoff completed successfully"}}catch(r){throw console.error("Error completing driver signoff:",r),new Error(r.message||"Failed to complete driver signoff")}}async fileWithCBP(e){try{const t=await Wr.post("".concat(this.baseUrl,"/").concat(e,"/cbp-filing"));return{success:!0,filing_reference:t.filing_reference,filing_status:t.filing_status,estimated_clearance:t.estimated_clearance,message:"CBP filing initiated successfully"}}catch(t){throw console.error("Error filing with CBP:",t),new Error(t.message||"Failed to file with CBP")}}async getStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.period&&t.append("period",e.period),e.start_date&&t.append("start_date",e.start_date),e.end_date&&t.append("end_date",e.end_date);const r=t.toString()?"".concat(this.baseUrl,"/stats?").concat(t.toString()):"".concat(this.baseUrl,"/stats"),s=await Wr.get(r);return{success:!0,stats:s.stats||s.data}}catch(t){throw console.error("Error fetching shipping stats:",t),new Error(t.message||"Failed to fetch shipping statistics")}}async validateShipment(e){try{const t=await Wr.post("".concat(this.baseUrl,"/validate"),e);return{success:!0,is_valid:t.is_valid,validation_errors:t.validation_errors||[],warnings:t.warnings||[],estimated_cost:t.estimated_cost,estimated_delivery:t.estimated_delivery}}catch(t){throw console.error("Error validating shipment:",t),new Error(t.message||"Failed to validate shipment data")}}async getCarrierRates(e){try{const t=await Wr.post("".concat(this.baseUrl,"/rates"),e);return{success:!0,rates:t.rates||[],cheapest:t.cheapest,fastest:t.fastest}}catch(t){throw console.error("Error fetching carrier rates:",t),new Error(t.message||"Failed to fetch carrier rates")}}async trackShipment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=new URLSearchParams({tracking_number:e});t&&r.append("carrier",t);const s=await Wr.get("".concat(this.baseUrl,"/track?").concat(r.toString()));return{success:!0,tracking_info:s.tracking_info,status:s.status,events:s.events||[],estimated_delivery:s.estimated_delivery}}catch(r){throw console.error("Error tracking shipment:",r),new Error(r.message||"Failed to track shipment")}}async bulkUpdateStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await Wr.patch("".concat(this.baseUrl,"/bulk/status"),{shipment_ids:e,status:t,notes:r});return{success:!0,updated_count:s.updated_count,message:"Updated ".concat(s.updated_count," shipments to ").concat(t)}}catch(s){throw console.error("Error bulk updating status:",s),new Error(s.message||"Failed to bulk update shipment status")}}async exportData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r;const s=new URLSearchParams;e.format&&s.append("format",e.format),e.start_date&&s.append("start_date",e.start_date),e.end_date&&s.append("end_date",e.end_date),e.status&&s.append("status",e.status);const a="".concat(this.baseUrl,"/export?").concat(s.toString()),n=await fetch(a,{headers:{Authorization:"Bearer ".concat(Wr.token)}});if(!n.ok)throw new Error("Export failed");const i=await n.blob();return{success:!0,blob:i,filename:(null===(t=n.headers.get("content-disposition"))||void 0===t||null===(r=t.split("filename=")[1])||void 0===r?void 0:r.replace(/"/g,""))||"shipments.csv",message:"Data exported successfully"}}catch(s){throw console.error("Error exporting data:",s),new Error(s.message||"Failed to export shipping data")}}async getWorkflowConfig(){try{const e=await Wr.get("".concat(this.baseUrl,"/workflow/config"));return{success:!0,workflow_stages:e.workflow_stages||[],status_transitions:e.status_transitions||{},automation_rules:e.automation_rules||[]}}catch(e){throw console.error("Error fetching workflow config:",e),new Error(e.message||"Failed to fetch workflow configuration")}}async archiveShipment(e){try{await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/archive"));return{success:!0,message:"Shipment archived successfully"}}catch(t){throw console.error("Error archiving shipment:",t),new Error(t.message||"Failed to archive shipment")}}async restoreShipment(e){try{const t=await Wr.patch("".concat(this.baseUrl,"/").concat(e,"/restore"));return{success:!0,preshipment:t.preshipment||t.data,message:"Shipment restored successfully"}}catch(t){throw console.error("Error restoring shipment:",t),new Error(t.message||"Failed to restore shipment")}}},Da=e=>{let{isOpen:t,onClose:r,data:s}=e;const{showSuccess:n,showError:i}=Ms(),l=St(),o=(0,a.useRef)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)({x:0,y:0}),[h,p]=(0,a.useState)({driver_name:"",driver_license:"",truck_number:"",trailer_number:"",pickup_time:"",delivery_notes:"",driver_signature:null,signature_timestamp:null,packages_count:"",weight_confirmed:!1,condition_verified:!1}),[f,g]=(0,a.useState)({}),[x,b]=(0,a.useState)(!1),y=Js(e=>Ra.completeDriverSignoff(s.id,e),{onSuccess:()=>{n("Driver signoff completed successfully"),l.invalidateQueries(["shipping"]),v(),r()},onError:e=>{i("Failed to complete driver signoff: ".concat(e.message)),b(!1)}});(0,a.useEffect)(()=>{if(t&&o.current){const e=o.current,t=e.getContext("2d"),r=e.getBoundingClientRect();e.width=r.width*window.devicePixelRatio,e.height=r.height*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio),t.lineCap="round",t.lineJoin="round",t.strokeStyle="#000000",t.lineWidth=2,t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height)}},[t]);const v=()=>{p({driver_name:"",driver_license:"",truck_number:"",trailer_number:"",pickup_time:"",delivery_notes:"",driver_signature:null,signature_timestamp:null,packages_count:"",weight_confirmed:!1,condition_verified:!1}),g({}),b(!1),S()},j=(e,t)=>{p(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t})),f[e]&&g(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},N=e=>{const t=o.current.getBoundingClientRect(),r=e.clientX||(e.touches&&e.touches[0]?e.touches[0].clientX:0),s=e.clientY||(e.touches&&e.touches[0]?e.touches[0].clientY:0);return{x:r-t.left,y:s-t.top}},w=e=>{e.preventDefault();const t=N(e);d(!0),m(t)},_=e=>{if(!c)return;e.preventDefault();const t=o.current.getContext("2d"),r=N(e);t.beginPath(),t.moveTo(u.x,u.y),t.lineTo(r.x,r.y),t.stroke(),m(r)},k=e=>{c&&(e.preventDefault(),d(!1),C())},C=()=>{o.current.toBlob(e=>{if(e){const t=new File([e],"driver-signature-".concat(Date.now(),".png"),{type:"image/png"});p(e=>(0,Oe.A)((0,Oe.A)({},e),{},{driver_signature:t,signature_timestamp:(new Date).toISOString()})),f.driver_signature&&g(e=>(0,Oe.A)((0,Oe.A)({},e),{},{driver_signature:null}))}},"image/png")},S=()=>{const e=o.current;if(e){const t=e.getContext("2d");t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),p(e=>(0,Oe.A)((0,Oe.A)({},e),{},{driver_signature:null,signature_timestamp:null}))}};return(0,a.useEffect)(()=>{if(t&&!h.pickup_time){const e=(new Date).toISOString().slice(0,16);p(t=>(0,Oe.A)((0,Oe.A)({},t),{},{pickup_time:e}))}},[t,h.pickup_time]),s?(0,ts.jsx)(ta,{isOpen:t,onClose:r,title:"Driver Signoff - ".concat(s.shipment_id||s.id),size:"lg",preventCloseOnOverlay:!0,children:(0,ts.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return h.driver_name||(e.driver_name="Driver name is required"),h.driver_license||(e.driver_license="Driver license number is required"),h.truck_number||(e.truck_number="Truck number is required"),h.pickup_time||(e.pickup_time="Pickup time is required"),h.packages_count||(e.packages_count="Package count is required"),h.driver_signature||(e.driver_signature="Driver signature is required"),g(e),0===Object.keys(e).length})())return;b(!0);const t=new FormData;Object.keys(h).forEach(e=>{"driver_signature"===e&&h.driver_signature?t.append("driver_signature",h.driver_signature):t.append(e,h[e])}),y.mutate(t)},className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Shipment Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Shipment ID"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.shipment_id||s.id})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.customer_name||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Destination"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.destination_address||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Weight"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:s.total_weight||"N/A"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Driver Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Driver Name *"}),(0,ts.jsx)("input",{type:"text",value:h.driver_name,onChange:e=>j("driver_name",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.driver_name?"border-red-300":""),placeholder:"Enter driver full name..."}),f.driver_name&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.driver_name})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Driver License # *"}),(0,ts.jsx)("input",{type:"text",value:h.driver_license,onChange:e=>j("driver_license",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.driver_license?"border-red-300":""),placeholder:"Enter driver license number..."}),f.driver_license&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.driver_license})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Vehicle Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Truck Number *"}),(0,ts.jsx)("input",{type:"text",value:h.truck_number,onChange:e=>j("truck_number",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.truck_number?"border-red-300":""),placeholder:"Enter truck number..."}),f.truck_number&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.truck_number})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Trailer Number"}),(0,ts.jsx)("input",{type:"text",value:h.trailer_number,onChange:e=>j("trailer_number",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter trailer number (if applicable)..."})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Pickup Details"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pickup Time *"}),(0,ts.jsx)("input",{type:"datetime-local",value:h.pickup_time,onChange:e=>j("pickup_time",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.pickup_time?"border-red-300":"")}),f.pickup_time&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.pickup_time})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Package Count *"}),(0,ts.jsx)("input",{type:"number",min:"1",value:h.packages_count,onChange:e=>j("packages_count",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(f.packages_count?"border-red-300":""),placeholder:"Enter number of packages..."}),f.packages_count&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.packages_count})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Verification"}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"weight_confirmed",type:"checkbox",checked:h.weight_confirmed,onChange:e=>j("weight_confirmed",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"weight_confirmed",className:"ml-2 block text-sm text-gray-900",children:"Total weight verified and matches shipping documents"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"condition_verified",type:"checkbox",checked:h.condition_verified,onChange:e=>j("condition_verified",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"condition_verified",className:"ml-2 block text-sm text-gray-900",children:"Packages inspected - no visible damage or issues"})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Notes"}),(0,ts.jsx)("textarea",{value:h.delivery_notes,onChange:e=>j("delivery_notes",e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Special delivery instructions, route notes, or other comments..."})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Digital Signature *"}),(0,ts.jsxs)("div",{className:"space-y-2",children:[(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Driver, please sign below to confirm receipt of shipment:"}),(0,ts.jsx)("div",{className:"border-2 border-gray-300 rounded-lg p-2",children:(0,ts.jsx)("canvas",{ref:o,className:"w-full h-32 bg-white rounded cursor-crosshair touch-none",onMouseDown:w,onMouseMove:_,onMouseUp:k,onMouseLeave:k,onTouchStart:w,onTouchMove:_,onTouchEnd:k})}),(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsxs)("button",{type:"button",onClick:S,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-eraser mr-2"}),"Clear Signature"]}),(0,ts.jsx)("div",{className:"text-xs text-gray-500",children:h.driver_signature?(0,ts.jsxs)("span",{className:"text-green-600",children:[(0,ts.jsx)("i",{className:"fas fa-check mr-1"}),"Signature captured"]}):"Sign above to proceed"})]}),f.driver_signature&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.driver_signature})]}),(0,ts.jsx)("div",{className:"text-xs text-gray-500",children:"By signing above, the driver acknowledges receipt of the shipment in good condition and agrees to deliver as instructed."})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,ts.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:x,children:"Cancel"}),(0,ts.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(x?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:x?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-truck mr-2"}),"Complete Driver Signoff"]})})]})]})}):null},Fa=e=>{var t;let{isOpen:r,onClose:s,data:n}=e;const{showSuccess:i,showError:l}=Ms(),o=St(),[c,d]=(0,a.useState)({carrier:"UPS",service_type:"Ground",package_type:"Package",dimensions:{length:"",width:"",height:"",weight:""},insurance_value:"",delivery_confirmation:!0,signature_required:!1,reference_numbers:[""],special_instructions:""}),[u,m]=(0,a.useState)({label_format:"4x6",print_receipt:!0,print_customs_form:!1,copies:1}),[h,p]=(0,a.useState)({}),[f,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)([]),y=Js(e=>Ra.generateLabels(n.id,e),{onSuccess:e=>{i("Shipping labels generated successfully"),b(e.labels||[]),o.invalidateQueries(["shipping"]),setTimeout(()=>{v.mutate({id:n.id,status:"Ready for Pickup",notes:"Labels generated and printed"})},1e3)},onError:e=>{l("Failed to generate labels: ".concat(e.message)),g(!1)}}),v=Js(e=>{let{id:t,status:r,notes:s}=e;return Ra.updateStatus(t,r,s)},{onSuccess:()=>{o.invalidateQueries(["shipping"])},onError:e=>{l("Failed to update shipment status: ".concat(e.message))}}),j=(e,t)=>{if(e.includes(".")){const[r,s]=e.split(".");d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[r]:(0,Oe.A)((0,Oe.A)({},e[r]),{},{[s]:t})}))}else d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}));h[e]&&p(t=>(0,Oe.A)((0,Oe.A)({},t),{},{[e]:null}))},N=(e,t)=>{m(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))};if((0,a.useEffect)(()=>{r&&n&&d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{dimensions:(0,Oe.A)((0,Oe.A)({},e.dimensions),{},{weight:n.total_weight||""}),insurance_value:n.insurance_value||"",reference_numbers:[n.reference_number||""].filter(Boolean)}))},[r,n]),!n)return null;return(0,ts.jsx)(ta,{isOpen:r,onClose:s,title:"Generate Shipping Labels - ".concat(n.shipment_id||n.id),size:"xl",className:"max-h-screen overflow-y-auto",children:(0,ts.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return c.carrier||(e.carrier="Carrier is required"),c.service_type||(e.service_type="Service type is required"),c.dimensions.weight||(e.weight="Package weight is required"),c.dimensions.length&&c.dimensions.width&&c.dimensions.height||(e.dimensions="Package dimensions are required"),c.insurance_value&&isNaN(parseFloat(c.insurance_value))&&(e.insurance_value="Insurance value must be a number"),p(e),0===Object.keys(e).length})())return;g(!0);const t=(0,Oe.A)((0,Oe.A)((0,Oe.A)({},c),u),{},{reference_numbers:c.reference_numbers.filter(e=>""!==e.trim())});y.mutate(t)},className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Shipment Information"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Shipment ID"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:n.shipment_id||n.id})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Customer"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:n.customer_name||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Destination"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:n.destination_address||"N/A"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Items"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:n.total_items||"N/A"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Carrier and Service"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Carrier *"}),(0,ts.jsxs)("select",{value:c.carrier,onChange:e=>j("carrier",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(h.carrier?"border-red-300":""),children:[(0,ts.jsx)("option",{value:"UPS",children:"UPS"}),(0,ts.jsx)("option",{value:"FedEx",children:"FedEx"}),(0,ts.jsx)("option",{value:"USPS",children:"USPS"})]}),h.carrier&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.carrier})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type *"}),(0,ts.jsxs)("select",{value:c.service_type,onChange:e=>j("service_type",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(h.service_type?"border-red-300":""),children:[(0,ts.jsx)("option",{value:"",children:"Select service..."}),null===(t={UPS:[{value:"Ground",label:"UPS Ground"},{value:"Next Day Air",label:"UPS Next Day Air"},{value:"2nd Day Air",label:"UPS 2nd Day Air"},{value:"3 Day Select",label:"UPS 3 Day Select"}],FedEx:[{value:"Ground",label:"FedEx Ground"},{value:"Express Overnight",label:"FedEx Express Overnight"},{value:"2Day",label:"FedEx 2Day"},{value:"Express Saver",label:"FedEx Express Saver"}],USPS:[{value:"Ground Advantage",label:"USPS Ground Advantage"},{value:"Priority",label:"USPS Priority Mail"},{value:"Express",label:"USPS Priority Mail Express"},{value:"First Class",label:"USPS First-Class Mail"}]}[c.carrier])||void 0===t?void 0:t.map(e=>(0,ts.jsx)("option",{value:e.value,children:e.label},e.value))]}),h.service_type&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.service_type})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Package Details"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Package Type"}),(0,ts.jsxs)("select",{value:c.package_type,onChange:e=>j("package_type",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,ts.jsx)("option",{value:"Package",children:"Package"}),(0,ts.jsx)("option",{value:"Envelope",children:"Envelope"}),(0,ts.jsx)("option",{value:"Box",children:"Box"}),(0,ts.jsx)("option",{value:"Tube",children:"Tube"}),(0,ts.jsx)("option",{value:"Pak",children:"Pak"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Weight (lbs) *"}),(0,ts.jsx)("input",{type:"number",step:"0.1",min:"0",value:c.dimensions.weight,onChange:e=>j("dimensions.weight",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(h.weight?"border-red-300":""),placeholder:"0.0"}),h.weight&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.weight})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions (inches) *"}),(0,ts.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"number",step:"0.1",min:"0",value:c.dimensions.length,onChange:e=>j("dimensions.length",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Length"})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"number",step:"0.1",min:"0",value:c.dimensions.width,onChange:e=>j("dimensions.width",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Width"})}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"number",step:"0.1",min:"0",value:c.dimensions.height,onChange:e=>j("dimensions.height",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Height"})})]}),h.dimensions&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.dimensions})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Service Options"}),(0,ts.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Insurance Value ($)"}),(0,ts.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.insurance_value,onChange:e=>j("insurance_value",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ".concat(h.insurance_value?"border-red-300":""),placeholder:"0.00"}),h.insurance_value&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.insurance_value})]})}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"delivery_confirmation",type:"checkbox",checked:c.delivery_confirmation,onChange:e=>j("delivery_confirmation",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"delivery_confirmation",className:"ml-2 block text-sm text-gray-900",children:"Delivery Confirmation"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"signature_required",type:"checkbox",checked:c.signature_required,onChange:e=>j("signature_required",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"signature_required",className:"ml-2 block text-sm text-gray-900",children:"Signature Required"})]})]})]}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Reference Numbers"}),(0,ts.jsxs)("button",{type:"button",onClick:()=>{d(e=>(0,Oe.A)((0,Oe.A)({},e),{},{reference_numbers:[...e.reference_numbers,""]}))},className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-1"}),"Add Reference"]})]}),c.reference_numbers.map((e,t)=>(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{reference_numbers:r.reference_numbers.map((r,s)=>s===e?t:r)}))})(t,e.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Reference ".concat(t+1)}),c.reference_numbers.length>1&&(0,ts.jsx)("button",{type:"button",onClick:()=>(e=>{d(t=>(0,Oe.A)((0,Oe.A)({},t),{},{reference_numbers:t.reference_numbers.filter((t,r)=>r!==e)}))})(t),className:"inline-flex items-center p-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:(0,ts.jsx)("i",{className:"fas fa-trash"})})]},t))]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Special Instructions"}),(0,ts.jsx)("textarea",{value:c.special_instructions,onChange:e=>j("special_instructions",e.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Special handling instructions, delivery notes, etc..."})]}),(0,ts.jsxs)("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Label Options"}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Label Format"}),(0,ts.jsxs)("select",{value:u.label_format,onChange:e=>N("label_format",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,ts.jsx)("option",{value:"4x6",children:'4" x 6" (Standard)'}),(0,ts.jsx)("option",{value:"8.5x11",children:'8.5" x 11" (Letter)'}),(0,ts.jsx)("option",{value:"thermal",children:"Thermal Printer"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Copies"}),(0,ts.jsx)("input",{type:"number",min:"1",max:"5",value:u.copies,onChange:e=>N("copies",parseInt(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"print_receipt",type:"checkbox",checked:u.print_receipt,onChange:e=>N("print_receipt",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"print_receipt",className:"ml-2 block text-sm text-gray-900",children:"Print Receipt"})]}),(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("input",{id:"print_customs_form",type:"checkbox",checked:u.print_customs_form,onChange:e=>N("print_customs_form",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ts.jsx)("label",{htmlFor:"print_customs_form",className:"ml-2 block text-sm text-gray-900",children:"Print Customs Form (International)"})]})]})]}),x.length>0&&(0,ts.jsxs)("div",{className:"space-y-4 bg-green-50 p-4 rounded-lg",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Generated Labels"}),(0,ts.jsx)("div",{className:"space-y-2",children:x.map((e,t)=>(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("i",{className:"fas fa-tag text-green-600 mr-3"}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("p",{className:"font-medium text-gray-900",children:["Label ",t+1]}),(0,ts.jsxs)("p",{className:"text-sm text-gray-600",children:["Tracking: ",e.tracking_number]})]})]}),(0,ts.jsxs)("div",{className:"flex space-x-2",children:[(0,ts.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=window.open(e,"_blank","width=600,height=800");null===t||void 0===t||t.focus()})(e.label_url),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-print mr-2"}),"Print"]}),(0,ts.jsxs)("button",{type:"button",onClick:()=>((e,t)=>{const r=document.createElement("a");r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)})(e.label_url,"label-".concat(e.tracking_number,".pdf")),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download"]})]})]},t))})]}),(0,ts.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,ts.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:f,children:x.length>0?"Done":"Cancel"}),0===x.length&&(0,ts.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(f?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:f?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Generating..."]}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("i",{className:"fas fa-print mr-2"}),"Generate Labels"]})})]})]})})},Oa=()=>{const{activeModal:e,modalData:t,hideModal:r,showSuccess:s,showError:a,showModal:n}=Ms(),i={EmployeeCreateModal:ra,"add-employee-modal":ra,"edit-employee-modal":ra,PartCreateModal:la,"add-part-modal":la,"edit-part-modal":la,"part-detail-modal":la,CustomerCreateModal:oa,"add-customer-modal":oa,"edit-customer-modal":oa,SupplierCreateModal:ca,"add-supplier-modal":ca,"edit-supplier-modal":ca,"create-preadmission-modal":da,"add-preadmission-modal":da,"edit-preadmission-modal":da,PreadmissionCreateModal:da,"create-preshipment-modal":_a,"add-preshipment-modal":_a,"edit-preshipment-modal":_a,PreshipmentCreateModal:_a,"enhanced-quarterly-update-modal":Pa,"quarterly-pricing-modal":Pa,"dock-audit-modal":La,DockAuditModal:La,"driver-signoff-modal":Da,DriverSignoffModal:Da,"print-labels-modal":Fa,PrintLabelsModal:Fa}[e];if(!i)return e&&console.warn("Modal component not found for type: ".concat(e)),null;return(0,ts.jsx)(i,(0,Oe.A)({},(()=>{const i={isOpen:!0,onClose:r,onSuccess:e=>{s(e),r()},onError:e=>{a(e)},showModal:n,data:t};switch(e){case"edit-employee-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{employee:t,isEdit:!0});case"edit-part-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{part:t,isEdit:!0});case"edit-customer-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{customer:t,isEdit:!0});case"edit-supplier-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{supplier:t,isEdit:!0});case"edit-preadmission-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{preadmission:t,isEdit:!0});case"edit-preshipment-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{preshipment:t,isEdit:!0});case"enhanced-quarterly-update-modal":case"quarterly-pricing-modal":return(0,Oe.A)((0,Oe.A)({},i),{},{showNotification:(e,t)=>{"success"===e?s(t):a(t)},onDataUpdate:()=>{console.log("Quarterly pricing data updated")}});default:return i}})()))},Ia=()=>{const{login:e,isAuthenticated:t,loading:r}=ps(),[s,n]=(0,a.useState)({email:"",password:""}),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({});if(t&&!r)return(0,ts.jsx)(fe,{to:"/dashboard",replace:!0});const d=e=>{const{name:t,value:r}=e.target;n(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:r})),o[t]&&c(e=>(0,Oe.A)((0,Oe.A)({},e),{},{[t]:""}))};return r?(0,ts.jsx)($s,{fullScreen:!0,message:"Checking authentication..."}):(0,ts.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,ts.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-600",children:(0,ts.jsx)("span",{className:"text-white font-bold text-lg",children:"ICRS"})}),(0,ts.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to ICRS SPARC"}),(0,ts.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Foreign Trade Zone Operations Management"})]}),(0,ts.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(e.email="Please enter a valid email"):e.email="Email is required",s.password?s.password.length<3&&(e.password="Password must be at least 3 characters"):e.password="Password is required",c(e),0===Object.keys(e).length})()){l(!0);try{await e(s.email,s.password)}catch(r){console.error("Login error:",r)}finally{l(!1)}}},children:[(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,ts.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:d,className:"mt-1 appearance-none relative block w-full px-3 py-2 border ".concat(o.email?"border-red-300":"border-gray-300"," placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"),placeholder:"Enter your email"}),o.email&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,ts.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s.password,onChange:d,className:"mt-1 appearance-none relative block w-full px-3 py-2 border ".concat(o.password?"border-red-300":"border-gray-300"," placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"),placeholder:"Enter your password"}),o.password&&(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.password})]})]}),(0,ts.jsx)("div",{children:(0,ts.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)($s,{size:"sm",color:"white"}),(0,ts.jsx)("span",{className:"ml-2",children:"Signing in..."})]}):"Sign in"})}),(0,ts.jsx)("div",{className:"text-center",children:(0,ts.jsx)("p",{className:"text-xs text-gray-500",children:"ICRS SPARC - Secure Foreign Trade Zone Operations"})})]})]})})},Ma=()=>{var e;const{user:t,getUserDisplayName:r}=ps(),{showError:s}=Ms(),{data:a,isLoading:n,error:i}=ja(["dashboardStats"],()=>Wr.dashboard.getStats(),{refetchInterval:3e4,onError:e=>{console.error("Dashboard stats error:",e),s("Failed to load dashboard statistics")}}),{data:l,isLoading:o}=ja(["recentActivity"],()=>Wr.dashboard.getRecentActivity({limit:10}),{refetchInterval:6e4,onError:e=>{console.error("Recent activity error:",e)}}),{data:c,isLoading:d}=ja(["inventorySummary"],()=>Wr.dashboard.getInventorySummary(),{refetchInterval:6e4,onError:e=>{console.error("Inventory summary error:",e)}}),u=[{name:"Total Inventory Value",value:null!==a&&void 0!==a&&a.success?"$".concat((a.data.totalInventoryValue||0).toLocaleString()):"$0",change:"+4.75%",changeType:"positive",icon:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{name:"Active Lots",value:null!==a&&void 0!==a&&a.success?(a.data.activeLots||0).toLocaleString():"0",change:"+2.02%",changeType:"positive",icon:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})},{name:"Pending Pre-Admissions",value:null!==a&&void 0!==a&&a.success?(a.data.pendingPreadmissions||0).toLocaleString():"0",change:"-1.39%",changeType:"negative",icon:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Monthly Transactions",value:null!==a&&void 0!==a&&a.success?(a.data.monthlyTransactions||0).toLocaleString():"0",change:"+12.48%",changeType:"positive",icon:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}];return i?(0,ts.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Dashboard Unavailable"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:"Unable to load dashboard data. Please try again later."}),(0,ts.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Retry"})]})}):(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",r()]}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your Foreign Trade Zone operations today."})]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:u.map((e,t)=>(0,ts.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,ts.jsx)("div",{className:"p-5",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"p-2 bg-blue-100 rounded-md",children:(0,ts.jsx)("div",{className:"text-blue-600",children:e.icon})})}),(0,ts.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,ts.jsxs)("dl",{children:[(0,ts.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,ts.jsx)("dd",{className:"flex items-baseline",children:n?(0,ts.jsx)(Qs,{rows:1,className:"w-16 h-6"}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e.value}),(0,ts.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold ".concat("positive"===e.changeType?"text-green-600":"text-red-600"),children:["positive"===e.changeType?(0,ts.jsx)("svg",{className:"self-center flex-shrink-0 h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ts.jsx)("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):(0,ts.jsx)("svg",{className:"self-center flex-shrink-0 h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ts.jsx)("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,ts.jsx)("span",{className:"ml-1",children:e.change})]})]})})]})})]})})},e.name))}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,ts.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),(0,ts.jsx)("div",{className:"p-6",children:o?(0,ts.jsx)(Qs,{rows:5}):null!==l&&void 0!==l&&l.success&&(null===(e=l.data)||void 0===e?void 0:e.length)>0?(0,ts.jsx)("div",{className:"space-y-4",children:l.data.map((e,t)=>(0,ts.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2"})}),(0,ts.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ts.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,ts.jsx)("p",{className:"text-xs text-gray-500",children:e.timestamp})]})]},t))}):(0,ts.jsx)("p",{className:"text-gray-500 text-sm",children:"No recent activity"})})]}),(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,ts.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Inventory Summary"})}),(0,ts.jsx)("div",{className:"p-6",children:d?(0,ts.jsx)(Qs,{rows:4}):null!==c&&void 0!==c&&c.success?(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("span",{className:"text-sm text-gray-600",children:"Total Parts"}),(0,ts.jsx)("span",{className:"font-semibold",children:c.data.totalParts||0})]}),(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("span",{className:"text-sm text-gray-600",children:"Total Customers"}),(0,ts.jsx)("span",{className:"font-semibold",children:c.data.totalCustomers||0})]}),(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("span",{className:"text-sm text-gray-600",children:"Storage Locations"}),(0,ts.jsx)("span",{className:"font-semibold",children:c.data.totalLocations||0})]}),(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("span",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),(0,ts.jsx)("span",{className:"font-semibold text-red-600",children:c.data.lowStockAlerts||0})]})]}):(0,ts.jsx)("p",{className:"text-gray-500 text-sm",children:"Unable to load inventory summary"})})]})]}),(0,ts.jsx)("div",{className:"mt-8",children:(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,ts.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,ts.jsx)("div",{className:"p-6",children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ts.jsxs)("a",{href:"/inventory",className:"flex items-center p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,ts.jsx)("div",{className:"text-blue-600 mr-3",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"View Inventory"})]}),(0,ts.jsxs)("a",{href:"/preadmissions",className:"flex items-center p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[(0,ts.jsx)("div",{className:"text-green-600 mr-3",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"New Pre-Admission"})]}),(0,ts.jsxs)("a",{href:"/parts",className:"flex items-center p-3 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[(0,ts.jsx)("div",{className:"text-purple-600 mr-3",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Manage Parts"})]}),(0,ts.jsxs)("a",{href:"/reports",className:"flex items-center p-3 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[(0,ts.jsx)("div",{className:"text-orange-600 mr-3",children:(0,ts.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"View Reports"})]})]})})]})})]})},Ua=()=>{const{user:e,hasPermission:t}=ps(),{customers:r,parts:s,showError:n,showSuccess:i}=Ms(),[l,o]=(0,a.useState)("lot"),[c,d]=(0,a.useState)({lotId:"",partId:"",customerId:"",status:""}),{data:u,isLoading:m,error:h,refetch:p}=ja(["inventory-lots",c],()=>Wr.inventory.getLots({limit:1e3,customer_id:c.customerId||void 0,part_id:c.partId||void 0,active_only:!0}),{refetchInterval:3e4,onError:e=>{console.error("Inventory loading error:",e),n("Failed to load inventory data")}}),f=((null===u||void 0===u?void 0:u.data)||[]).filter(e=>(!c.lotId||e.id.toLowerCase().includes(c.lotId.toLowerCase()))&&(!c.partId||e.part_id===c.partId)&&(!c.customerId||e.customer_id==c.customerId)&&(!c.status||e.status===c.status)),g=(e,t)=>{d(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},x=(e,t)=>{console.log("Modal request:",e,t),i("Opening ".concat(e," modal (functionality to be implemented)"))};return h?(0,ts.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsx)("div",{className:"flex",children:(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Inventory"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-red-700",children:h.message||"Failed to load inventory data. Please try again."})]})})})}):(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Management"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage inventory lots with transaction-based quantity tracking"})]}),(0,ts.jsxs)("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",disabled:m,children:[m?(0,ts.jsx)($s,{size:"sm",color:"white"}):(0,ts.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})}),(0,ts.jsxs)("div",{className:"mb-6 bg-white shadow rounded-lg p-6",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filters"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"filter-lot",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lot Number"}),(0,ts.jsx)("input",{type:"text",id:"filter-lot",value:c.lotId,onChange:e=>g("lotId",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Search lots..."})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"filter-part",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Number"}),(0,ts.jsxs)("select",{id:"filter-part",value:c.partId,onChange:e=>g("partId",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,ts.jsx)("option",{value:"",children:"All Parts"}),null===s||void 0===s?void 0:s.map(e=>(0,ts.jsx)("option",{value:e.id,children:e.id},e.id))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"filter-customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),(0,ts.jsxs)("select",{id:"filter-customer",value:c.customerId,onChange:e=>g("customerId",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,ts.jsx)("option",{value:"",children:"All Customers"}),null===r||void 0===r?void 0:r.map(e=>(0,ts.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{htmlFor:"filter-status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{id:"filter-status",value:c.status,onChange:e=>g("status",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,ts.jsx)("option",{value:"",children:"All Statuses"}),(0,ts.jsx)("option",{value:"In Stock",children:"In Stock"}),(0,ts.jsx)("option",{value:"Reserved",children:"Reserved"}),(0,ts.jsx)("option",{value:"Depleted",children:"Depleted"}),(0,ts.jsx)("option",{value:"On Hold",children:"On Hold"})]})]}),(0,ts.jsx)("div",{className:"flex items-end",children:(0,ts.jsx)("button",{className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{d({lotId:"",partId:"",customerId:"",status:""})},children:"Reset Filters"})})]})]}),(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,ts.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"lot"===l?"Lot View":"Part Number Summary"}),(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Lot View"}),(0,ts.jsx)("button",{className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat("part"===l?"bg-blue-600":"bg-gray-300"),onClick:()=>o("lot"===l?"part":"lot"),children:(0,ts.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat("part"===l?"translate-x-5":"translate-x-0")})}),(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Part Summary"})]})]})}),m?(0,ts.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,ts.jsx)($s,{size:"lg"}),(0,ts.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading inventory data..."})]}):(0,ts.jsx)("div",{className:"overflow-x-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50",children:"lot"===l?(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lot Number"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Number"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Qty"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]}):(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Number"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"})]})}),(0,ts.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:"lot"===l?0===f.length?(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No inventory lots found matching your criteria."})}):f.map(e=>{var r;return(0,ts.jsxs)("tr",{className:e.voided?"bg-red-50 text-gray-400 line-through":"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"px-6 py-4",children:(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",onClick:()=>x("lot-detail-modal",e.id),title:"Database ID: ".concat(e.id),children:e.manifest_number||e.id})}),(0,ts.jsx)("td",{className:"px-6 py-4 font-medium",children:e.part_id}),(0,ts.jsx)("td",{className:"px-6 py-4",children:(0,ts.jsx)("div",{className:"text-sm",children:e.location_code?(0,ts.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.location_code," (",e.current_quantity,")"]}):(0,ts.jsx)("span",{className:"text-gray-500",children:"No location assigned"})})}),(0,ts.jsx)("td",{className:"px-6 py-4",children:(0,ts.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("In Stock"===e.status?"bg-green-100 text-green-800":"Reserved"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status||"Available"})}),(0,ts.jsx)("td",{className:"px-6 py-4 text-right font-medium",children:(null===(r=e.current_quantity)||void 0===r?void 0:r.toLocaleString())||0}),(0,ts.jsx)("td",{className:"px-6 py-4 text-right",children:(0,ts.jsx)("div",{className:"flex justify-end space-x-2",children:e.voided?(0,ts.jsx)("span",{className:"text-red-600 font-bold text-sm",children:"VOIDED"}):(0,ts.jsxs)(ts.Fragment,{children:[t("manager")&&(0,ts.jsx)("button",{className:"text-gray-400 hover:text-blue-600 p-1",onClick:()=>x("manager-override-modal",{action:"edit",lotId:e.id}),title:"Edit lot",children:(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),t("admin")&&(0,ts.jsx)("button",{className:"text-gray-400 hover:text-red-600 p-1",onClick:()=>x("manager-override-modal",{action:"void",lotId:e.id}),title:"Void lot",children:(0,ts.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]},e.id)}):(()=>{const e=f.reduce((e,t)=>{if(t.voided)return e;if(!e[t.part_id]){const r=null===s||void 0===s?void 0:s.find(e=>e.id===t.part_id);e[t.part_id]={qty:0,part:r||{id:t.part_id,description:"Unknown Part",standard_value:0}}}return e[t.part_id].qty+=t.current_quantity||0,e},{}),t=Object.entries(e);return 0===t.length?(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:"No parts found matching your criteria."})}):t.map(e=>{var t,r;let[s,a]=e;return(0,ts.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"px-6 py-4 font-medium",children:s}),(0,ts.jsx)("td",{className:"px-6 py-4",children:(null===(t=a.part)||void 0===t?void 0:t.description)||"No description"}),(0,ts.jsx)("td",{className:"px-6 py-4 text-right font-bold",children:a.qty.toLocaleString()}),(0,ts.jsx)("td",{className:"px-6 py-4 text-right font-medium",children:(a.qty*((null===(r=a.part)||void 0===r?void 0:r.standard_value)||0)).toLocaleString("en-US",{style:"currency",currency:"USD"})})]},s)})})()})]})})]}),t("manager")&&(0,ts.jsxs)("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cycle & Physical Inventory"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>x("inventory-audit-modal","Daily"),children:[(0,ts.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Daily Cycle Count"]}),(0,ts.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",onClick:()=>x("inventory-audit-modal","Weekly"),children:[(0,ts.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Weekly Section Audit"]}),(0,ts.jsxs)("button",{className:"flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>x("inventory-audit-modal","Annual"),children:[(0,ts.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Annual Physical Inventory"]})]})]})]})},za={Pending:{color:"yellow",label:"Pending",icon:"fas fa-clock"},"In Transit":{color:"blue",label:"In Transit",icon:"fas fa-ship"},Arrived:{color:"green",label:"Arrived",icon:"fas fa-check-circle"},Rejected:{color:"red",label:"Rejected",icon:"fas fa-times-circle"},Processing:{color:"purple",label:"Processing",icon:"fas fa-cogs"}},Ba=()=>{const{showSuccess:e,showError:t,showModal:r}=Ms(),[s,n]=(0,a.useState)({status:"",search:""}),{data:i,isLoading:l,error:o,refetch:c}=ja(["preadmissions"],()=>Wr.preadmission.getAll(),{staleTime:12e4,cacheTime:3e5}),d=(null===i||void 0===i?void 0:i.data)||[],u=(0,a.useMemo)(()=>{let e=[...d];if(s.status&&(e=e.filter(e=>e.status===s.status)),s.search){const t=s.search.toLowerCase();e=e.filter(e=>e.admission_id&&e.admission_id.toLowerCase().includes(t)||e.container_number&&e.container_number.toLowerCase().includes(t)||e.customer_name&&e.customer_name.toLowerCase().includes(t)||e.reference_number&&e.reference_number.toLowerCase().includes(t))}return e.sort((e,t)=>{const r="Arrived"===e.status||"Rejected"===e.status;if(r===("Arrived"===t.status||"Rejected"===t.status)){return new Date(e.expected_arrival||"9999-12-31")-new Date(t.expected_arrival||"9999-12-31")}return r?1:-1}),e},[d,s]),m=(e,t)=>{n(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},h=()=>{n({status:"",search:""})},p=(0,a.useMemo)(()=>({total:d.length,pending:d.filter(e=>"Pending"===e.status).length,inTransit:d.filter(e=>"In Transit"===e.status).length,arrived:d.filter(e=>"Arrived"===e.status).length,processing:d.filter(e=>"Processing"===e.status).length}),[d]);return l?(0,ts.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading pre-admissions"}),(0,ts.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ts.jsx)("p",{children:o.message})}),(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsx)("button",{onClick:()=>c(),className:"bg-red-100 px-3 py-2 rounded-md text-sm text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,ts.jsxs)("div",{className:"sm:flex-auto",children:[(0,ts.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Pre-Admissions (Receivables)"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:"Admin function to create receivable records from e214 data before goods arrive."})]}),(0,ts.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,ts.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>r("create-preadmission-modal"),children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create New Pre-Admission"]})})]})}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-clipboard-list text-blue-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.total}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-clock text-yellow-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.pending}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-ship text-blue-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.inTransit}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"In Transit"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-cogs text-purple-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.processing}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Processing"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-check-circle text-green-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.arrived}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Arrived"})]})]})})]}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search by admission ID, container, or customer...",value:s.search,onChange:e=>m("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:s.status,onChange:e=>m("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All Statuses"}),Object.entries(za).map(e=>{let[t,r]=e;return(0,ts.jsx)("option",{value:t,children:r.label},t)})]})}),(0,ts.jsx)("div",{className:"flex items-center",children:(0,ts.jsxs)("button",{onClick:h,className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})})]}),(0,ts.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",u.length," of ",d.length," pre-admissions",(s.status||s.search)&&(0,ts.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"(filtered)"})]})]}),(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden",children:0===u.length?(0,ts.jsxs)("div",{className:"p-12 text-center",children:[(0,ts.jsx)("i",{className:"fas fa-clipboard-list text-4xl text-gray-400 mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===d.length?"No pre-admissions yet":"No matching pre-admissions"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:0===d.length?"Get started by creating your first pre-admission record.":"Try adjusting your search or filter criteria."}),0===d.length?(0,ts.jsxs)("button",{onClick:()=>r("create-preadmission-modal"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create First Pre-Admission"]}):(0,ts.jsxs)("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})]}):(0,ts.jsx)("div",{className:"overflow-x-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Admission ID"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Container / Reference"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Expected Arrival"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,ts.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:u.map(e=>{var t;const s="Arrived"===e.status||"Rejected"===e.status,a=za[e.status]||za.Pending;return(0,ts.jsxs)("tr",{className:s?"bg-gray-50":"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.admission_id||e.id}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:(0,ts.jsxs)("div",{children:[e.container_number&&(0,ts.jsx)("div",{className:"font-medium",children:e.container_number}),e.reference_number&&(0,ts.jsxs)("div",{className:"text-gray-500 text-xs",children:["Ref: ",e.reference_number]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:e.customer_name||(null===(t=e.customer)||void 0===t?void 0:t.name)||"N/A"}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:e.expected_arrival?new Date(e.expected_arrival).toLocaleDateString():"Not set"}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ".concat("green"===a.color?"bg-green-100 text-green-800":"yellow"===a.color?"bg-yellow-100 text-yellow-800":"blue"===a.color?"bg-blue-100 text-blue-800":"purple"===a.color?"bg-purple-100 text-purple-800":"red"===a.color?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[(0,ts.jsx)("i",{className:"".concat(a.icon," mr-1")}),a.label]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-right text-sm font-medium",children:(0,ts.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,ts.jsxs)("button",{className:"text-green-600 hover:text-green-900",onClick:()=>r("edit-preadmission-modal",e),title:"Edit pre-admission",children:[(0,ts.jsx)("i",{className:"fas fa-edit mr-1"}),"Edit"]}),(0,ts.jsxs)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>r("dock-audit-modal",e),title:s?"View dock audit":"Go to audit",children:[(0,ts.jsx)("i",{className:"fas fa-clipboard-check mr-1"}),s?"View Audit":"Audit"]})]})})]},e.id||e.admission_id)})})]})})})]})},qa={NOT_PREPARED:{color:"gray",label:"Not Prepared",icon:"fas fa-circle",bgClass:"bg-gray-100 text-gray-800",description:"Initial state, no work done yet"},DRAFT:{color:"yellow",label:"Draft Entry",icon:"fas fa-edit",bgClass:"bg-yellow-100 text-yellow-800",description:"Entry being prepared"},READY_TO_FILE:{color:"blue",label:"Ready to File",icon:"fas fa-check-circle",bgClass:"bg-blue-100 text-blue-800",description:"Ready for CBP filing"},FILED:{color:"purple",label:"Filed",icon:"fas fa-paper-plane",bgClass:"bg-purple-100 text-purple-800",description:"Filed with CBP, awaiting response"},ACCEPTED:{color:"green",label:"Filed/Accepted",icon:"fas fa-check-double",bgClass:"bg-green-100 text-green-800",description:"Accepted by CBP"},REJECTED:{color:"red",label:"Rejected",icon:"fas fa-times-circle",bgClass:"bg-red-100 text-red-800",description:"Rejected by CBP, needs correction"}},Ha=[{key:"all",label:"All",icon:"fas fa-list",filter:null},{key:"draft",label:"Draft Entries",icon:"fas fa-edit",filter:["DRAFT"]},{key:"ready",label:"Ready to File",icon:"fas fa-check-circle",filter:["READY_TO_FILE"]},{key:"filed",label:"Filed/Accepted",icon:"fas fa-paper-plane",filter:["FILED","ACCEPTED"]},{key:"weekly",label:"Weekly Entries",icon:"fas fa-calendar-week",filter:null,special:"weekly"},{key:"consolidated",label:"Consolidated",icon:"fas fa-layer-group",filter:null,special:"consolidated"}],Qa=()=>{const{showSuccess:e,showError:t,showModal:r}=Ms(),[s,n]=(0,a.useState)("all"),[i,l]=(0,a.useState)(new Set),[o,c]=(0,a.useState)({search:"",customer:"",dateRange:""}),{data:d,isLoading:u,error:m,refetch:h}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ja({queryKey:Na.list(e),queryFn:()=>wa.getAll(e),staleTime:12e4,cacheTime:3e5})}(),{data:p,isLoading:f}=ja({queryKey:[...Na.all,"stats"],queryFn:()=>wa.getStats(),staleTime:3e5}),g=(null===d||void 0===d?void 0:d.data)||[],x=(null===p||void 0===p?void 0:p.data)||{},b=((()=>{const e=St();Js({mutationFn:e=>{let{id:t,status:r,notes:s}=e;return wa.updateStatus(t,r,s)},onSuccess:(t,r)=>{let{id:s}=r;e.invalidateQueries(Na.lists()),e.invalidateQueries(Na.detail(s)),Qr.success("Preshipment status updated successfully")},onError:e=>{Qr.error(e.message||"Error updating preshipment status")}})})(),(()=>{const e=St();return Js({mutationFn:wa.generateEntryS,onSuccess:(t,r)=>{e.invalidateQueries(Na.detail(r)),Qr.success("Entry summary generated successfully")},onError:e=>{Qr.error(e.message||"Error generating entry summary")}})})()),y=(()=>{const e=St();return Js({mutationFn:wa.fileWithCBP,onSuccess:(t,r)=>{e.invalidateQueries(Na.lists()),e.invalidateQueries(Na.detail(r)),Qr.success("Successfully filed with CBP")},onError:e=>{Qr.error(e.message||"Error filing with CBP")}})})(),v=(0,a.useMemo)(()=>{let e=[...g];const t=Ha.find(e=>e.key===s);if(t&&(t.filter?e=e.filter(e=>t.filter.includes(e.status)):"weekly"===t.special?e=e.filter(e=>"weekly"===e.entry_type):"consolidated"===t.special&&(e=e.filter(e=>"consolidated"===e.entry_type))),o.search){const t=o.search.toLowerCase();e=e.filter(e=>e.shipment_id&&e.shipment_id.toLowerCase().includes(t)||e.entry_number&&e.entry_number.toLowerCase().includes(t)||e.customer_name&&e.customer_name.toLowerCase().includes(t)||e.bol_number&&e.bol_number.toLowerCase().includes(t))}return o.customer&&(e=e.filter(e=>e.customer_id===o.customer)),e.sort((e,t)=>{const r=["ACCEPTED","REJECTED"].includes(e.status);return r===["ACCEPTED","REJECTED"].includes(t.status)?new Date(t.created_at)-new Date(e.created_at):r?1:-1}),e},[g,s,o]),j=(e,t)=>{c(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},N=()=>{c({search:"",customer:"",dateRange:""})};return u?(0,ts.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading preshipments..."})]}):m?(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading preshipments"}),(0,ts.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ts.jsx)("p",{children:m.message})}),(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsx)("button",{onClick:()=>h(),className:"bg-red-100 px-3 py-2 rounded-md text-sm text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,ts.jsxs)("div",{className:"sm:flex-auto",children:[(0,ts.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Pre-Shipments"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:"Create and manage preshipment entries for CBP filing. Track entry status from draft to acceptance."})]}),(0,ts.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,ts.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>r("create-preshipment-modal"),children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create New Preshipment"]})})]})}),!f&&(0,ts.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-list text-blue-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.total||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Total"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-edit text-yellow-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.draft||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Draft"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-check-circle text-blue-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.ready_to_file||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Ready"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-paper-plane text-purple-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.filed||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Filed"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-check-double text-green-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.accepted||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Accepted"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-times-circle text-red-600"})})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.rejected||0}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Rejected"})]})]})})]}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg",children:[(0,ts.jsx)("div",{className:"border-b border-gray-200",children:(0,ts.jsx)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:Ha.map(e=>{const t=(e=>{const t=Ha.find(t=>t.key===e);return t?t.filter?g.filter(e=>t.filter.includes(e.status)).length:"weekly"===t.special?g.filter(e=>"weekly"===e.entry_type).length:"consolidated"===t.special?g.filter(e=>"consolidated"===e.entry_type).length:g.length:0})(e.key),r=s===e.key;return(0,ts.jsxs)("button",{onClick:()=>n(e.key),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,ts.jsx)("i",{className:"".concat(e.icon," mr-2")}),e.label,t>0&&(0,ts.jsx)("span",{className:"ml-2 py-0.5 px-2 rounded-full text-xs ".concat(r?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:t})]},e.key)})})}),(0,ts.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search by shipment ID, entry, customer...",value:o.search,onChange:e=>j("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsx)("div",{children:(0,ts.jsx)("select",{value:o.customer,onChange:e=>j("customer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:(0,ts.jsx)("option",{value:"",children:"All Customers"})})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:o.dateRange,onChange:e=>j("dateRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All Dates"}),(0,ts.jsx)("option",{value:"today",children:"Today"}),(0,ts.jsx)("option",{value:"week",children:"This Week"}),(0,ts.jsx)("option",{value:"month",children:"This Month"}),(0,ts.jsx)("option",{value:"quarter",children:"This Quarter"})]})}),(0,ts.jsx)("div",{className:"flex items-center",children:(0,ts.jsxs)("button",{onClick:N,className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})})]}),(0,ts.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",v.length," of ",g.length," preshipments",(o.search||o.customer||o.dateRange)&&(0,ts.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"(filtered)"})]})]})]}),(0,ts.jsx)("div",{className:"space-y-4",children:0===v.length?(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-12 text-center",children:[(0,ts.jsx)("i",{className:"fas fa-ship text-4xl text-gray-400 mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===g.length?"No preshipments yet":"No matching preshipments"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:0===g.length?"Get started by creating your first preshipment entry.":"Try adjusting your search or filter criteria."}),0===g.length?(0,ts.jsxs)("button",{onClick:()=>r("create-preshipment-modal"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create First Preshipment"]}):(0,ts.jsxs)("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})]}):v.map(s=>{const a=i.has(s.shipment_id),n=qa[s.status]||qa.NOT_PREPARED,o=["ACCEPTED","REJECTED"].includes(s.status);return(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden ".concat(o?"bg-gray-50":""),children:[(0,ts.jsx)("div",{className:"p-6",children:(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("div",{className:"flex items-center space-x-4",children:(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s.shipment_id}),(0,ts.jsxs)("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[(0,ts.jsx)("span",{children:s.customer_name}),s.entry_number&&(0,ts.jsxs)("span",{children:["Entry: ",s.entry_number]}),(0,ts.jsxs)("span",{children:["Created: ",new Date(s.created_at).toLocaleDateString()]})]})]})}),(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ".concat(n.bgClass),children:[(0,ts.jsx)("i",{className:"".concat(n.icon," mr-1")}),n.label]}),(0,ts.jsxs)("div",{className:"flex space-x-2",children:["DRAFT"===s.status&&(0,ts.jsxs)("button",{onClick:()=>(async r=>{try{await b.mutateAsync(r.id),e("Entry summary generated successfully")}catch(s){t(s.message||"Error generating entry summary")}})(s),disabled:b.isLoading,className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-file-alt mr-1"}),"Generate Entry Summary"]}),"READY_TO_FILE"===s.status&&(0,ts.jsxs)("button",{onClick:()=>(async r=>{try{await y.mutateAsync(r.id),e("Successfully filed with CBP")}catch(s){t(s.message||"Error filing with CBP")}})(s),disabled:y.isLoading,className:"text-green-600 hover:text-green-900 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-paper-plane mr-1"}),"File with CBP"]}),["FILED","ACCEPTED"].includes(s.status)&&(0,ts.jsxs)("button",{onClick:()=>r("review-entry-summary",s),className:"text-purple-600 hover:text-purple-900 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-eye mr-1"}),"Review Entry Summary"]}),(0,ts.jsxs)("button",{onClick:()=>r("edit-preshipment-modal",s),className:"text-gray-600 hover:text-gray-900 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-edit mr-1"}),"Edit"]}),(0,ts.jsxs)("button",{onClick:()=>(e=>{const t=new Set(i);t.has(e)?t.delete(e):t.add(e),l(t)})(s.shipment_id),className:"text-gray-600 hover:text-gray-900 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-chevron-".concat(a?"up":"down"," mr-1")}),a?"Collapse":"Expand"]})]})]})]})}),a&&(0,ts.jsx)("div",{className:"border-t border-gray-200 bg-gray-50",children:(0,ts.jsxs)("div",{className:"p-6",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Shipment Details"}),(0,ts.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Type:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.shipment_type||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"BOL Number:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.bol_number||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Voyage:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.voyage||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Carrier:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.carrier_code||"N/A"})]})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"ACE Entry Summary"}),(0,ts.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Filing District:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.filing_district_port||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Entry Filer:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.entry_filer_code||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"IOR Number:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.ior_number||"N/A"})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-gray-500",children:"Bond Type:"}),(0,ts.jsx)("span",{className:"text-gray-900",children:s.bond_type||"N/A"})]})]})]})]}),s.line_items&&s.line_items.length>0&&(0,ts.jsxs)("div",{className:"mt-6",children:[(0,ts.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Line Items (",s.line_items.length,")"]}),(0,ts.jsx)("div",{className:"overflow-x-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-100",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),(0,ts.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lot"}),(0,ts.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,ts.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"HTS Code"})]})}),(0,ts.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.line_items.map((e,t)=>(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.part_number}),(0,ts.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.lot_number}),(0,ts.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.quantity}),(0,ts.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.hts_code})]},t))})]})})]})]})})]},s.id||s.shipment_id)})})]})},Va={Draft:{color:"gray",label:"Draft",icon:"fas fa-edit",stage:1,description:"Initial draft - editable"},"Pending Pick":{color:"yellow",label:"Pending Pick",icon:"fas fa-clock",stage:2,description:"Awaiting inventory allocation"},Pulled:{color:"blue",label:"Pulled",icon:"fas fa-boxes",stage:3,description:"Items pulled from inventory"},"Generate Labels":{color:"purple",label:"Generate Labels",icon:"fas fa-print",stage:4,description:"Ready for label generation"},"Ready for Pickup":{color:"orange",label:"Ready for Pickup",icon:"fas fa-truck-loading",stage:5,description:"Labels printed, ready for pickup"},Shipped:{color:"green",label:"Shipped",icon:"fas fa-check-circle",stage:6,description:"Completed and shipped"},"On Hold":{color:"red",label:"On Hold",icon:"fas fa-pause-circle",stage:0,description:"Temporarily paused"}},Wa={active:{label:"Active",statuses:["Draft","Pending Pick","Pulled","Generate Labels","Ready for Pickup"]},"pending-compliance":{label:"Pending Compliance",statuses:["Pending Pick","Pulled"]},"ready-dock":{label:"Ready for Dock",statuses:["Generate Labels","Ready for Pickup"]},shipped:{label:"Shipped",statuses:["Shipped"]},"on-hold":{label:"On Hold",statuses:["On Hold"]}},$a=()=>{const{showSuccess:e,showError:t,showModal:r}=Ms(),s=St(),[n,i]=(0,a.useState)("active"),[l,o]=(0,a.useState)({search:"",customer:"",priority:""}),{data:c,isLoading:d,error:u,refetch:m}=ja(["shipping",n],()=>Ra.getAll({view:n}),{staleTime:12e4,cacheTime:3e5}),h=(null===c||void 0===c?void 0:c.preshipments)||[],p=Js(e=>{let{id:t,status:r,notes:s}=e;return Ra.updateStatus(t,r,s)},{onSuccess:(t,r)=>{e("Shipment ".concat(r.status.toLowerCase()," successfully")),s.invalidateQueries(["shipping"])},onError:e=>{t("Failed to update shipment: ".concat(e.message))}}),f=(Js(e=>Ra.generateLabels(e),{onSuccess:()=>{e("Labels generated successfully"),s.invalidateQueries(["shipping"])},onError:e=>{t("Failed to generate labels: ".concat(e.message))}}),Js(e=>Ra.fileWithCBP(e),{onSuccess:()=>{e("CBP filing initiated successfully"),s.invalidateQueries(["shipping"])},onError:e=>{t("CBP filing failed: ".concat(e.message))}})),g=(0,a.useMemo)(()=>{let e=[...h];const t=Wa[n];if(t&&(e=e.filter(e=>t.statuses.includes(e.status))),l.search){const t=l.search.toLowerCase();e=e.filter(e=>e.shipment_id&&e.shipment_id.toLowerCase().includes(t)||e.customer_name&&e.customer_name.toLowerCase().includes(t)||e.reference_number&&e.reference_number.toLowerCase().includes(t)||e.tracking_number&&e.tracking_number.toLowerCase().includes(t))}return l.customer&&(e=e.filter(e=>e.customer_name&&e.customer_name.toLowerCase().includes(l.customer.toLowerCase()))),l.priority&&(e=e.filter(e=>e.priority===l.priority)),e.sort((e,t)=>{var r,s;const a=(null===(r=Va[e.status])||void 0===r?void 0:r.stage)||0,n=(null===(s=Va[t.status])||void 0===s?void 0:s.stage)||0;if(a!==n)return a-n;const i={High:3,Medium:2,Low:1},l=i[e.priority]||0;return(i[t.priority]||0)-l}),e},[h,n,l]),x=(e,t)=>{o(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},b=()=>{o({search:"",customer:"",priority:""})},y=(0,a.useMemo)(()=>{const e=Wa[n];if(!e)return{total:0};const t=h.filter(t=>e.statuses.includes(t.status));return{total:t.length,high_priority:t.filter(e=>"High"===e.priority).length,compliance_pending:t.filter(e=>"Pending Pick"===e.status&&!e.cbp_filed).length,ready_today:t.filter(e=>"Ready for Pickup"===e.status&&new Date(e.pickup_date).toDateString()===(new Date).toDateString()).length}},[h,n]),v=(e,t)=>{p.mutate({id:e.id,status:t,notes:"Status updated to ".concat(t," via workflow")})};return d?(0,ts.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u?(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading shipping data"}),(0,ts.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ts.jsx)("p",{children:u.message})}),(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsx)("button",{onClick:()=>m(),className:"bg-red-100 px-3 py-2 rounded-md text-sm text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,ts.jsxs)("div",{className:"sm:flex-auto",children:[(0,ts.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Shipping Management"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:"5-stage shipping workflow: Draft \u2192 Pending Pick \u2192 Pulled \u2192 Generate Labels \u2192 Ready for Pickup \u2192 Shipped"})]}),(0,ts.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,ts.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>r("create-preshipment-modal"),children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create New Shipment"]})})]})}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4",children:[(0,ts.jsx)("div",{className:"border-b border-gray-200",children:(0,ts.jsx)("nav",{className:"-mb-px flex space-x-8",children:Object.entries(Wa).map(e=>{let[t,r]=e;return(0,ts.jsx)("button",{onClick:()=>i(t),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat(n===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:r.label},t)})})}),(0,ts.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:y.total}),(0,ts.jsx)("div",{className:"text-sm text-blue-800",children:"Total Items"})]}),(0,ts.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-red-600",children:y.high_priority}),(0,ts.jsx)("div",{className:"text-sm text-red-800",children:"High Priority"})]}),(0,ts.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:y.compliance_pending}),(0,ts.jsx)("div",{className:"text-sm text-yellow-800",children:"Pending Compliance"})]}),(0,ts.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-green-600",children:y.ready_today}),(0,ts.jsx)("div",{className:"text-sm text-green-800",children:"Ready Today"})]})]})]}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search shipments...",value:l.search,onChange:e=>x("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",placeholder:"Filter by customer...",value:l.customer,onChange:e=>x("customer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:l.priority,onChange:e=>x("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All Priorities"}),(0,ts.jsx)("option",{value:"High",children:"High Priority"}),(0,ts.jsx)("option",{value:"Medium",children:"Medium Priority"}),(0,ts.jsx)("option",{value:"Low",children:"Low Priority"})]})}),(0,ts.jsx)("div",{className:"flex items-center",children:(0,ts.jsxs)("button",{onClick:b,className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})})]}),(0,ts.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",g.length," of ",h.length," shipments in ",Wa[n].label.toLowerCase()," view",(l.search||l.customer||l.priority)&&(0,ts.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"(filtered)"})]})]}),(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden",children:0===g.length?(0,ts.jsxs)("div",{className:"p-12 text-center",children:[(0,ts.jsx)("i",{className:"fas fa-shipping-fast text-4xl text-gray-400 mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===h.length?"No shipments yet":"No matching shipments"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:0===h.length?"Create your first shipment to get started.":"Try adjusting your view or filter criteria."}),0===h.length?(0,ts.jsxs)("button",{onClick:()=>r("create-preshipment-modal"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create First Shipment"]}):(0,ts.jsxs)("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})]}):(0,ts.jsx)("div",{className:"overflow-x-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Shipment ID"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer / Reference"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status / Stage"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Priority"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Pickup Date"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"CBP Status"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,ts.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:g.map(e=>{const t=Va[e.status]||Va.Draft,s="Shipped"===e.status,a="On Hold"===e.status;return(0,ts.jsxs)("tr",{className:"".concat(s?"bg-gray-50":a?"bg-red-50":"hover:bg-gray-50"),children:[(0,ts.jsx)("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium",children:e.shipment_id||e.id}),e.tracking_number&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["Track: ",e.tracking_number]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium",children:e.customer_name||"N/A"}),e.reference_number&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["Ref: ",e.reference_number]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ".concat("green"===t.color?"bg-green-100 text-green-800":"yellow"===t.color?"bg-yellow-100 text-yellow-800":"blue"===t.color?"bg-blue-100 text-blue-800":"purple"===t.color?"bg-purple-100 text-purple-800":"orange"===t.color?"bg-orange-100 text-orange-800":"red"===t.color?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[(0,ts.jsx)("i",{className:"".concat(t.icon," mr-1")}),t.label]}),(0,ts.jsxs)("div",{className:"ml-2 text-xs text-gray-500",children:["Stage ",t.stage]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat("High"===e.priority?"bg-red-100 text-red-800":"Medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority||"Medium"})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:e.pickup_date?new Date(e.pickup_date).toLocaleDateString():"Not scheduled"}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat(e.cbp_filed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:[(0,ts.jsx)("i",{className:"".concat(e.cbp_filed?"fas fa-check":"fas fa-clock"," mr-1")}),e.cbp_filed?"Filed":"Pending"]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-right text-sm font-medium",children:(0,ts.jsxs)("div",{className:"flex space-x-2 justify-end",children:["Draft"===e.status&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("button",{className:"text-green-600 hover:text-green-900",onClick:()=>r("edit-preshipment-modal",e),title:"Edit shipment",children:(0,ts.jsx)("i",{className:"fas fa-edit"})}),(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>v(e,"Pending Pick"),title:"Submit for picking",children:(0,ts.jsx)("i",{className:"fas fa-arrow-right"})})]}),"Pending Pick"===e.status&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("button",{className:"text-purple-600 hover:text-purple-900",onClick:()=>(e=>{f.mutate(e.id)})(e),title:"File with CBP",disabled:e.cbp_filed,children:(0,ts.jsx)("i",{className:"fas fa-file-export"})}),(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>v(e,"Pulled"),title:"Mark as pulled",children:(0,ts.jsx)("i",{className:"fas fa-boxes"})})]}),"Pulled"===e.status&&(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>v(e,"Generate Labels"),title:"Ready for labels",children:(0,ts.jsx)("i",{className:"fas fa-print"})}),"Generate Labels"===e.status&&(0,ts.jsxs)("button",{className:"text-purple-600 hover:text-purple-900",onClick:()=>(e=>{r("print-labels-modal",e)})(e),title:"Generate shipping labels",children:[(0,ts.jsx)("i",{className:"fas fa-print mr-1"}),"Labels"]}),"Ready for Pickup"===e.status&&(0,ts.jsxs)("button",{className:"text-green-600 hover:text-green-900",onClick:()=>(e=>{r("driver-signoff-modal",e)})(e),title:"Driver signoff",children:[(0,ts.jsx)("i",{className:"fas fa-signature mr-1"}),"Signoff"]}),(0,ts.jsx)("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>r("view-preshipment-modal",e),title:"View details",children:(0,ts.jsx)("i",{className:"fas fa-eye"})})]})})]},e.id)})})]})})})]})},Xa={Pending:{color:"yellow",label:"Pending Arrival",icon:"fas fa-clock",description:"Awaiting dock arrival"},Arrived:{color:"blue",label:"Arrived at Dock",icon:"fas fa-truck",description:"Container/shipment at dock"},Inspecting:{color:"purple",label:"Under Inspection",icon:"fas fa-search",description:"FTZ compliance inspection in progress"},Accepted:{color:"green",label:"Accepted",icon:"fas fa-check-circle",description:"Inspection passed, goods accepted"},Rejected:{color:"red",label:"Rejected",icon:"fas fa-times-circle",description:"Failed inspection, goods rejected"},"On Hold":{color:"orange",label:"On Hold",icon:"fas fa-pause-circle",description:"Additional documentation required"}},Ka={"dock-audit":{label:"Awaiting Dock Audit",statuses:["Arrived","Inspecting"]},pending:{label:"Pending Arrival",statuses:["Pending"]},completed:{label:"Completed",statuses:["Accepted","Rejected"]},"on-hold":{label:"On Hold",statuses:["On Hold"]},all:{label:"All",statuses:Object.keys(Xa)}},Ga=()=>{const{showSuccess:e,showError:t,showModal:r}=Ms(),s=St(),[n,i]=(0,a.useState)("dock-audit"),[l,o]=(0,a.useState)({search:"",container:"",ftz_status:""}),{data:c,isLoading:d,error:u,refetch:m}=ja(["receiving",n],()=>Ta.getAll({view:n}),{staleTime:6e4,cacheTime:18e4}),h=(null===c||void 0===c?void 0:c.preadmissions)||[],p=Js(e=>{let{id:t,status:r,notes:s}=e;return Ta.updateStatus(t,r,s)},{onSuccess:(t,r)=>{e("Shipment ".concat(r.status.toLowerCase()," successfully")),s.invalidateQueries(["receiving"])},onError:e=>{t("Failed to update shipment: ".concat(e.message))}}),f=(Js(e=>{let{id:t,auditData:r}=e;return Ta.completeDockAudit(t,r)},{onSuccess:()=>{e("Dock audit completed successfully"),s.invalidateQueries(["receiving"])},onError:e=>{t("Failed to complete dock audit: ".concat(e.message))}}),(0,a.useMemo)(()=>{let e=[...h];const t=Ka[n];if(t&&(e=e.filter(e=>t.statuses.includes(e.status))),l.search){const t=l.search.toLowerCase();e=e.filter(e=>e.admission_id&&e.admission_id.toLowerCase().includes(t)||e.container_number&&e.container_number.toLowerCase().includes(t)||e.customer_name&&e.customer_name.toLowerCase().includes(t)||e.bol_number&&e.bol_number.toLowerCase().includes(t)||e.reference_number&&e.reference_number.toLowerCase().includes(t))}return l.container&&(e=e.filter(e=>e.container_number&&e.container_number.toLowerCase().includes(l.container.toLowerCase()))),l.ftz_status&&(e=e.filter(e=>e.ftz_status===l.ftz_status)),e.sort((e,t)=>{const r={Arrived:3,Inspecting:2},s=r[e.status]||1,a=r[t.status]||1;if(s!==a)return a-s;if("Arrived"===e.status&&"Arrived"===t.status){const r=new Date(e.arrived_at||e.expected_arrival);return new Date(t.arrived_at||t.expected_arrival)-r}const n={Urgent:3,Normal:2,Low:1},i=n[e.ftz_urgency]||2;return(n[t.ftz_urgency]||2)-i}),e},[h,n,l])),g=(e,t)=>{o(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},x=()=>{o({search:"",container:"",ftz_status:""})},b=(0,a.useMemo)(()=>{const e=Ka[n];if(!e)return{total:0};const t=h.filter(t=>e.statuses.includes(t.status));return{total:t.length,arrived_today:t.filter(e=>"Arrived"===e.status&&e.arrived_at&&new Date(e.arrived_at).toDateString()===(new Date).toDateString()).length,ftz_urgent:t.filter(e=>"Urgent"===e.ftz_urgency).length,awaiting_audit:t.filter(e=>"Arrived"===e.status).length,in_progress:t.filter(e=>"Inspecting"===e.status).length}},[h,n]),y=(e,t)=>{p.mutate({id:e.id,status:t,notes:"Status updated to ".concat(t," via dock operations")})},v=e=>{r("dock-audit-modal",e)};return d?(0,ts.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u?(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading receiving data"}),(0,ts.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ts.jsx)("p",{children:u.message})}),(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsx)("button",{onClick:()=>m(),className:"bg-red-100 px-3 py-2 rounded-md text-sm text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,ts.jsxs)("div",{className:"sm:flex-auto",children:[(0,ts.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Receiving Management"}),(0,ts.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:"FTZ-compliant receiving workflow: Pending \u2192 Arrived \u2192 Inspecting \u2192 Accepted/Rejected"})]}),(0,ts.jsxs)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none space-x-2",children:[(0,ts.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>m(),children:[(0,ts.jsx)("i",{className:"fas fa-sync-alt mr-2"}),"Refresh Dock Status"]}),(0,ts.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>r("create-receiving-entry-modal"),children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Dock Arrival"]})]})]})}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4",children:[(0,ts.jsx)("div",{className:"border-b border-gray-200",children:(0,ts.jsx)("nav",{className:"-mb-px flex space-x-8",children:Object.entries(Ka).map(e=>{let[t,r]=e;return(0,ts.jsx)("button",{onClick:()=>i(t),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ".concat(n===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:r.label},t)})})}),(0,ts.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,ts.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:b.total}),(0,ts.jsx)("div",{className:"text-sm text-blue-800",children:"Total Items"})]}),(0,ts.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-green-600",children:b.arrived_today}),(0,ts.jsx)("div",{className:"text-sm text-green-800",children:"Arrived Today"})]}),(0,ts.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-red-600",children:b.ftz_urgent}),(0,ts.jsx)("div",{className:"text-sm text-red-800",children:"FTZ Urgent"})]}),(0,ts.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:b.awaiting_audit}),(0,ts.jsx)("div",{className:"text-sm text-yellow-800",children:"Awaiting Audit"})]}),(0,ts.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,ts.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:b.in_progress}),(0,ts.jsx)("div",{className:"text-sm text-purple-800",children:"In Progress"})]})]})]}),(0,ts.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search containers, BOL, customer...",value:l.search,onChange:e=>g("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsx)("div",{children:(0,ts.jsx)("input",{type:"text",placeholder:"Filter by container...",value:l.container,onChange:e=>g("container",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:l.ftz_status,onChange:e=>g("ftz_status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All FTZ Status"}),(0,ts.jsx)("option",{value:"Compliant",children:"FTZ Compliant"}),(0,ts.jsx)("option",{value:"Pending",children:"FTZ Pending"}),(0,ts.jsx)("option",{value:"Non-Compliant",children:"Non-Compliant"}),(0,ts.jsx)("option",{value:"Exempt",children:"Exempt"})]})}),(0,ts.jsx)("div",{className:"flex items-center",children:(0,ts.jsxs)("button",{onClick:x,className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})})]}),(0,ts.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",f.length," of ",h.length," items in ",Ka[n].label.toLowerCase(),(l.search||l.container||l.ftz_status)&&(0,ts.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"(filtered)"})]})]}),(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden",children:0===f.length?(0,ts.jsxs)("div",{className:"p-12 text-center",children:[(0,ts.jsx)("i",{className:"fas fa-truck-loading text-4xl text-gray-400 mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===h.length?"No items in receiving":"No matching items"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:0===h.length?"Items will appear here when they arrive at the dock.":"Try adjusting your view or filter criteria."}),0===f.length&&h.length>0&&(0,ts.jsxs)("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})]}):(0,ts.jsx)("div",{className:"overflow-x-auto",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Container / BOL"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Customer / Reference"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"FTZ Status"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Arrival Time"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Urgency"}),(0,ts.jsx)("th",{className:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,ts.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:f.map(e=>{const t=Xa[e.status]||Xa.Pending,s=["Accepted","Rejected"].includes(e.status),a="Urgent"===e.ftz_urgency,n="Arrived"===e.status;return(0,ts.jsxs)("tr",{className:"".concat(s?"bg-gray-50":n?"bg-yellow-50":a?"bg-red-50":"hover:bg-gray-50"),children:[(0,ts.jsx)("td",{className:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:(0,ts.jsxs)("div",{children:[e.container_number&&(0,ts.jsx)("div",{className:"font-medium",children:e.container_number}),e.bol_number&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["BOL: ",e.bol_number]}),e.admission_id&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.admission_id]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium",children:e.customer_name||"N/A"}),e.reference_number&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["Ref: ",e.reference_number]})]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ".concat("green"===t.color?"bg-green-100 text-green-800":"yellow"===t.color?"bg-yellow-100 text-yellow-800":"blue"===t.color?"bg-blue-100 text-blue-800":"purple"===t.color?"bg-purple-100 text-purple-800":"orange"===t.color?"bg-orange-100 text-orange-800":"red"===t.color?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:[(0,ts.jsx)("i",{className:"".concat(t.icon," mr-1")}),t.label]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat("Compliant"===e.ftz_status?"bg-green-100 text-green-800":"Non-Compliant"===e.ftz_status?"bg-red-100 text-red-800":"Exempt"===e.ftz_status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:[(0,ts.jsx)("i",{className:"".concat("Compliant"===e.ftz_status?"fas fa-check":"Non-Compliant"===e.ftz_status?"fas fa-times":"Exempt"===e.ftz_status?"fas fa-shield-alt":"fas fa-clock"," mr-1")}),e.ftz_status||"Pending"]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm text-gray-900",children:e.arrived_at?(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{children:new Date(e.arrived_at).toLocaleDateString()}),(0,ts.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.arrived_at).toLocaleTimeString()})]}):e.expected_arrival?(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"text-gray-500",children:"Expected:"}),(0,ts.jsx)("div",{className:"text-xs",children:new Date(e.expected_arrival).toLocaleDateString()})]}):"Not set"}),(0,ts.jsx)("td",{className:"px-3 py-4 text-sm",children:(0,ts.jsxs)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ".concat("Urgent"===e.ftz_urgency?"bg-red-100 text-red-800":"Normal"===e.ftz_urgency?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["Urgent"===e.ftz_urgency&&(0,ts.jsx)("i",{className:"fas fa-exclamation-triangle mr-1"}),e.ftz_urgency||"Normal"]})}),(0,ts.jsx)("td",{className:"px-3 py-4 text-right text-sm font-medium",children:(0,ts.jsxs)("div",{className:"flex space-x-2 justify-end",children:["Pending"===e.status&&(0,ts.jsxs)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>y(e,"Arrived"),title:"Mark as arrived at dock",children:[(0,ts.jsx)("i",{className:"fas fa-truck mr-1"}),"Arrived"]}),"Arrived"===e.status&&(0,ts.jsxs)("button",{className:"text-purple-600 hover:text-purple-900",onClick:()=>v(e),title:"Start dock audit inspection",children:[(0,ts.jsx)("i",{className:"fas fa-clipboard-check mr-1"}),"Start Audit"]}),"Inspecting"===e.status&&(0,ts.jsxs)("button",{className:"text-green-600 hover:text-green-900",onClick:()=>v(e),title:"Complete dock audit",children:[(0,ts.jsx)("i",{className:"fas fa-check mr-1"}),"Complete"]}),(0,ts.jsx)("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>r("view-preadmission-modal",e),title:"View details",children:(0,ts.jsx)("i",{className:"fas fa-eye"})}),s&&(0,ts.jsx)("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>r("view-dock-audit-report",e),title:"View audit report",children:(0,ts.jsx)("i",{className:"fas fa-file-alt"})})]})})]},e.id)})})]})})})]})};const Ya=new class{constructor(){this.cache=new Map,this.cacheExpiry=9e5,this.isInitializing=!1,this.initPromise=null,this.countries=[],this.popularCodes=[]}async initialize(){if(this.isInitializing&&this.initPromise)return await this.initPromise;if(this.countries.length>0)return{success:!0,source:"already_loaded"};this.isInitializing=!0,this.initPromise=this._doInitialize();try{const e=await this.initPromise;return this.isInitializing=!1,this.initPromise=null,e}catch(e){throw this.isInitializing=!1,this.initPromise=null,e}}async _doInitialize(){try{const[e,t]=await Promise.all([this.getCountries(),this.getPopularCodes()]);return e.success&&(this.countries=e.data),t.success&&(this.popularCodes=t.data),{success:!0,source:"network",countriesLoaded:this.countries.length,popularCodesLoaded:this.popularCodes.length}}catch(e){return console.error("HTS service initialization failed:",e),{success:!1,error:e.message}}}_createCacheKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Object.keys(t).sort().map(e=>"".concat(e,"=").concat(t[e])).join("&");return"".concat(e).concat(r?"?"+r:"")}_getCachedData(e){const t=this.cache.get(e);if(!t)return null;return Date.now()-t.timestamp>this.cacheExpiry?(this.cache.delete(e),null):t.data}_setCachedData(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}async search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"description",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e.trim().length<2)return{success:!0,data:[]};const{limit:s=100,countryOfOrigin:a=null}=r,n=(0,Oe.A)({q:e.trim(),type:t,limit:s},a&&{countryOfOrigin:a}),i=this._createCacheKey("/api/hts/search",n),l=this._getCachedData(i);if(l)return l;try{const e=await Wr.get("/api/hts/search",{params:n}),t={success:!0,data:e.data.data||[],meta:e.data.meta||{}};return this._setCachedData(i,t),t}catch(d){var o,c;return console.error("HTS search error:",d),{success:!1,error:(null===(o=d.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.error)||d.message||"Search failed"}}}async searchByDescription(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.search(e,"description",{limit:t,countryOfOrigin:r})}async searchByCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.search(e,"code",{limit:t,countryOfOrigin:r})}async getByHtsCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return{success:!1,error:"HTS code is required"};const r=t?{countryOfOrigin:t}:{},s=this._createCacheKey("/api/hts/code/".concat(e),r),a=this._getCachedData(s);if(a)return a;try{const t={success:!0,data:(await Wr.get("/hts/code/".concat(e),{params:r})).data.data};return this._setCachedData(s,t),t}catch(l){var n,i;return console.error("HTS code lookup error:",l),{success:!1,error:(null===(n=l.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.error)||l.message||"HTS code not found"}}}async calculateDutyRate(e,t){if(!e||!t)return{success:!1,error:"HTS code and country of origin are required"};const r=this._createCacheKey("/api/hts/duty-rate",{htsCode:e,countryOfOrigin:t}),s=this._getCachedData(r);if(s)return s;try{const s={success:!0,data:(await Wr.post("/api/hts/duty-rate",{htsCode:e,countryOfOrigin:t})).data.data};return this._setCachedData(r,s),s}catch(i){var a,n;return console.error("Duty rate calculation error:",i),{success:!1,error:(null===(a=i.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||i.message||"Duty rate calculation failed"}}}async getPopularCodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const t=this._createCacheKey("/api/hts/popular",{limit:e}),r=this._getCachedData(t);if(r)return r;try{const r={success:!0,data:(await Wr.get("/api/hts/popular",{params:{limit:e}})).data.data||[]};return this._setCachedData(t,r),r}catch(n){var s,a;return console.error("Popular codes error:",n),{success:!1,error:(null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||n.message||"Failed to load popular codes"}}}async getCountries(){const e=this._createCacheKey("/api/hts/countries"),t=this._getCachedData(e);if(t)return t;try{const t={success:!0,data:(await Wr.get("/api/hts/countries")).data.data||[]};return this._setCachedData(e,t),t}catch(a){var r,s;return console.error("Countries list error:",a),{success:!1,error:(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||a.message||"Failed to load countries"}}}async browse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{offset:t=0,limit:r=50,includeHeaders:s=!0}=e,a={offset:t,limit:r,includeHeaders:s},n=this._createCacheKey("/api/hts/browse",a),i=this._getCachedData(n);if(i)return i;try{const e=await Wr.get("/api/hts/browse",{params:a}),t={success:!0,data:e.data.data||[],meta:e.data.meta||{}};return this._setCachedData(n,t),t}catch(c){var l,o;return console.error("HTS browse error:",c),{success:!1,error:(null===(l=c.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||c.message||"Browse failed"}}}async getStatus(){try{return{success:!0,data:(await Wr.get("/api/hts/status")).data.data}}catch(r){var e,t;return console.error("HTS status error:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||r.message||"Status check failed"}}}async refreshData(){try{const e=await Wr.post("/api/hts/refresh");return this.cache.clear(),{success:!0,data:e.data.data}}catch(r){var e,t;return console.error("HTS refresh error:",r),{success:!1,error:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||r.message||"Refresh failed"}}}getCachedCountries(){return this.countries}getCachedPopularCodes(){return this.popularCodes}findCountryByCode(e){return this.countries.find(t=>t.code===e)}clearCache(){this.cache.clear()}getCacheSize(){return this.cache.size}getCacheStats(){const e=Date.now();let t=0,r=0;for(const[s,a]of this.cache.entries())e-a.timestamp>this.cacheExpiry?r++:t++;return{total:this.cache.size,valid:t,expired:r,expiryMinutes:this.cacheExpiry/6e4}}},Za=Ya;function Ja(e,t){if(!e||!t)return e;const r=new RegExp("(".concat(t,")"),"gi");return e.replace(r,'<mark class="bg-yellow-200">$1</mark>')}const en=e=>{var t;let{onClose:r,onSelect:s,currentHtsCode:n="",currentCountryOfOrigin:i=""}=e;const[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("description"),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(i),[f,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[S,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{g(!0);try{const e=await Za.initialize();if(e.success){b(!0),C(Za.getCountryList()),"network"===e.source&&Qr.success("HTS data loaded successfully");const t=await Za.getPopularHtsCodes();if(t.success&&_(t.data),n&&n.trim()){const e=await Za.getByHtsNumber(n);if(e.success&&(v(e.data),N(!0),i)){const t=Za.getDutyRate(e.data,i);E(t)}}}else Qr.error("Failed to load HTS data: ".concat(e.error))}catch(e){Qr.error("Error initializing HTS service: ".concat(e.message))}finally{g(!1)}})()},[n,i]);const A=(0,a.useCallback)(function(e,t){let r;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];const i=()=>{clearTimeout(r),e(...a)};clearTimeout(r),r=setTimeout(i,t)}}(async(e,t)=>{if(!e||e.length<2)m([]);else{g(!0);try{let r;r="description"===t?await Za.searchByDescription(e,50):await Za.searchByHtsNumber(e,50),r.success?m(r.data):(Qr.error("Search failed: ".concat(r.error)),m([]))}catch(r){Qr.error("Search error: ".concat(r.message)),m([])}finally{g(!1)}}},300),[]);(0,a.useEffect)(()=>{x&&l.length>=2?A(l,c):m([])},[l,c,x,A]);const P=e=>{if(v(e),N(!0),h){const t=Za.getDutyRate(e,h);E(t)}},T=(0,a.useMemo)(()=>l&&0!==u.length?u.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{highlightedDescription:Ja(e.description,l),highlightedHtsno:Ja(e.htsno,l)})):u,[u,l]);return!x&&f?(0,ts.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-50",children:(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-semibold",children:"Loading HTS Database..."}),(0,ts.jsx)("p",{className:"text-gray-600 mt-2",children:"This may take a moment on first use"})]})})}):(0,ts.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-50",children:(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[(0,ts.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"HTS Code Lookup"}),(0,ts.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl focus:outline-none","aria-label":"Close modal",children:"\xd7"})]}),(0,ts.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[(0,ts.jsx)("div",{className:"lg:col-span-5",children:(0,ts.jsx)("input",{type:"text",placeholder:"description"===c?'Search by description (e.g., "electronic circuits")':'Search by HTS code (e.g., "8542")',value:l,onChange:e=>o(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:f})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsxs)("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[(0,ts.jsx)("button",{onClick:()=>d("description"),className:"flex-1 px-4 py-3 text-sm font-medium transition-colors ".concat("description"===c?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Description"}),(0,ts.jsx)("button",{onClick:()=>d("code"),className:"flex-1 px-4 py-3 text-sm font-medium border-l border-gray-300 transition-colors ".concat("code"===c?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"HTS Code"})]})}),(0,ts.jsx)("div",{className:"lg:col-span-4",children:(0,ts.jsxs)("select",{value:h,onChange:e=>(e=>{if(p(e),y){const t=Za.getDutyRate(y,e);E(t)}})(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ts.jsx)("option",{value:"",children:"Select Country of Origin *"}),k.map(e=>(0,ts.jsx)("option",{value:e.code,children:e.name},e.code))]})})]}),!h&&(0,ts.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:(0,ts.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,ts.jsx)("i",{className:"fas fa-exclamation-triangle mr-2"}),"Please select a country of origin to see applicable duty rates and complete HTS selection."]})}),w.length>0&&l.length<2&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Popular HTS Categories:"}),(0,ts.jsx)("div",{className:"flex flex-wrap gap-2",children:w.slice(0,6).map(e=>(0,ts.jsxs)("button",{onClick:()=>(async e=>{g(!0);try{const t=await Za.searchByHtsNumber(e.htsno,20);if(t.success&&t.data.length>0){const r=t.data.find(t=>t.htsno===e.htsno);r?P(r):(m(t.data),d("code"),o(e.htsno))}}catch(t){Qr.error("Error loading HTS code: ".concat(t.message))}finally{g(!1)}})(e),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",disabled:f,children:[e.htsno," - ",e.description.substring(0,30),"..."]},e.htsno))})]})]})]}),(0,ts.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,ts.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[f&&(0,ts.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-3 text-gray-600",children:"Searching..."})]}),!f&&l.length>=2&&0===u.length&&(0,ts.jsxs)("div",{className:"text-center py-8 text-gray-500",children:['No HTS codes found for "',l,'"']}),!f&&l.length<2&&0===w.length&&(0,ts.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Enter at least 2 characters to search HTS codes"}),!f&&T.length>0&&(0,ts.jsx)("div",{className:"space-y-2",children:T.map((e,t)=>{const r=h?Za.getDutyRate(e,h):null;return(0,ts.jsx)("div",{onClick:()=>P(e),className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat((null===y||void 0===y?void 0:y.htsno)===e.htsno?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,ts.jsx)("div",{className:"flex justify-between items-start",children:(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("div",{className:"font-mono text-sm font-semibold text-blue-600 mb-1",children:(0,ts.jsx)("span",{dangerouslySetInnerHTML:{__html:e.highlightedHtsno||e.htsno}})}),(0,ts.jsx)("div",{className:"text-gray-900",style:{marginLeft:"".concat(20*(e.indent||0),"px")},children:(0,ts.jsx)("span",{dangerouslySetInnerHTML:{__html:e.highlightedDescription||e.description}})}),r&&(0,ts.jsxs)("div",{className:"mt-2 text-xs space-y-1 bg-gray-50 rounded p-2",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ts.jsx)("span",{className:"text-gray-600",children:"General:"}),(0,ts.jsx)("span",{className:"font-medium",children:r.general||"N/A"}),r.applicable!==r.general&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("span",{className:"text-green-600",children:"\u2192 Applicable:"}),(0,ts.jsx)("span",{className:"font-medium text-green-600",children:r.applicable})]})]}),r.specialNote&&(0,ts.jsx)("div",{className:"text-green-600 italic text-xs",children:r.specialNote})]}),e.units&&e.units.length>0&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Units: ",e.units.join(", ")]})]})})},"".concat(e.htsno,"-").concat(t))})})]}),j&&y&&(0,ts.jsxs)("div",{className:"w-80 border-l border-gray-200 p-6 overflow-y-auto bg-gray-50",children:[(0,ts.jsx)("h4",{className:"font-semibold text-lg mb-4 text-gray-900",children:"HTS Code Details"}),(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HTS Number"}),(0,ts.jsx)("div",{className:"font-mono text-blue-600 font-semibold",children:y.htsno})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,ts.jsx)("div",{className:"text-gray-900",children:y.description})]}),y.units&&y.units.length>0&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units of Measure"}),(0,ts.jsx)("div",{className:"text-gray-900",children:y.units.join(", ")})]}),y.general&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"General Rate"}),(0,ts.jsx)("div",{className:"text-gray-900",children:y.general})]}),y.special&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Rate"}),(0,ts.jsx)("div",{className:"text-gray-900",children:y.special})]}),y.other&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other Rate"}),(0,ts.jsx)("div",{className:"text-gray-900",children:y.other})]}),S&&(0,ts.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mt-3",children:[(0,ts.jsxs)("div",{className:"text-sm font-medium text-blue-800 mb-2",children:["For ",null===(t=k.find(e=>e.code===h))||void 0===t?void 0:t.name,":"]}),(0,ts.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-blue-700",children:"Applicable Rate:"}),(0,ts.jsx)("span",{className:"font-medium text-blue-900",children:S.applicable})]}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{className:"text-blue-700",children:"Trade Status:"}),(0,ts.jsx)("span",{className:"text-blue-900",children:S.tradeStatus})]}),S.specialNote&&(0,ts.jsx)("div",{className:"text-green-700 font-medium",children:S.specialNote})]})]})]})]})]}),(0,ts.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-between items-center",children:[(0,ts.jsx)("div",{className:"text-sm text-gray-500",children:u.length>0&&"".concat(u.length," results found")}),(0,ts.jsxs)("div",{className:"space-x-3",children:[(0,ts.jsx)("button",{onClick:r,className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),y&&(0,ts.jsx)("button",{onClick:()=>{h?y&&(s((0,Oe.A)((0,Oe.A)({},y),{},{dutyInfo:S,countryOfOrigin:h})),r()):Qr.error("Please select a country of origin to see applicable duty rates")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Select HTS Code"})]})]})]})})})},tn={aluminum:{label:"Aluminum",color:"blue",icon:"fas fa-cube"},steel:{label:"Steel",color:"gray",icon:"fas fa-industry"},stainless_steel:{label:"Stainless Steel",color:"slate",icon:"fas fa-shield-alt"},copper:{label:"Copper",color:"orange",icon:"fas fa-bolt"},brass:{label:"Brass",color:"yellow",icon:"fas fa-coins"},plastic:{label:"Plastic",color:"green",icon:"fas fa-leaf"},rubber:{label:"Rubber",color:"purple",icon:"fas fa-circle"},composite:{label:"Composite",color:"indigo",icon:"fas fa-layer-group"},other:{label:"Other",color:"gray",icon:"fas fa-question-circle"}},rn={active:{label:"Active",color:"green",icon:"fas fa-check-circle"},inactive:{label:"Inactive",color:"gray",icon:"fas fa-pause-circle"},discontinued:{label:"Discontinued",color:"red",icon:"fas fa-times-circle"},pending:{label:"Pending Approval",color:"yellow",icon:"fas fa-clock"}},sn=e=>{let{part:t,onEdit:r,onView:s,onHTSLookup:a,onHTSUpdate:n}=e;const i=tn[t.material]||tn.other,l=rn[t.status||"active"]||rn.active;return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,ts.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.part_number||t.id})}),(0,ts.jsx)("p",{className:"text-gray-600 line-clamp-2",children:t.description||"No description"})]}),(0,ts.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,ts.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("green"===l.color?"bg-green-100 text-green-800":"gray"===l.color?"bg-gray-100 text-gray-800":"red"===l.color?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[(0,ts.jsx)("i",{className:"".concat(l.icon," mr-1")}),l.label]}),(0,ts.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("blue"===i.color?"bg-blue-100 text-blue-800":"gray"===i.color?"bg-gray-100 text-gray-800":"slate"===i.color?"bg-slate-100 text-slate-800":"orange"===i.color?"bg-orange-100 text-orange-800":"yellow"===i.color?"bg-yellow-100 text-yellow-800":"green"===i.color?"bg-green-100 text-green-800":"purple"===i.color?"bg-purple-100 text-purple-800":"indigo"===i.color?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:[(0,ts.jsx)("i",{className:"".concat(i.icon," mr-1")}),i.label]})]})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Standard Value"}),(0,ts.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["$",(t.standard_value||0).toLocaleString()]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Gross Weight"}),(0,ts.jsx)("p",{className:"font-medium text-gray-900",children:t.gross_weight?"".concat(t.gross_weight," kg"):"Not specified"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ts.jsx)("p",{className:"text-sm text-gray-500",children:"HTS Code"}),t.hts_code?(0,ts.jsx)("button",{onClick:()=>n(t),className:"text-xs text-blue-600 hover:text-blue-800 focus:outline-none",title:"Update HTS Code",children:(0,ts.jsx)("i",{className:"fas fa-edit"})}):null]}),t.hts_code?(0,ts.jsxs)("div",{className:"space-y-1",children:[(0,ts.jsx)("p",{className:"font-mono text-sm text-blue-600",children:t.hts_code}),t.hts_description&&(0,ts.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",title:t.hts_description,children:t.hts_description})]}):(0,ts.jsxs)("button",{onClick:()=>a(t),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-search mr-1"}),"Lookup HTS"]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Country of Origin"}),(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("p",{className:"font-medium text-gray-900",children:t.country_of_origin||"Not specified"}),t.hts_code&&t.country_of_origin&&(0,ts.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-calculator mr-1"}),"Duty Ready"]})]})]})]}),t.manufacturer_id&&(0,ts.jsx)("div",{className:"mb-4",children:(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("i",{className:"fas fa-industry text-gray-400"}),(0,ts.jsxs)("span",{className:"text-sm text-gray-600",children:["Manufacturer: ",(0,ts.jsx)("span",{className:"font-medium",children:t.manufacturer_id})]})]})}),(0,ts.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-4",children:[(0,ts.jsxs)("span",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]}),(0,ts.jsxs)("span",{children:["Updated: ",new Date(t.updated_at||t.created_at).toLocaleDateString()]})]}),(0,ts.jsxs)("div",{className:"flex space-x-2",children:[(0,ts.jsxs)("button",{onClick:()=>s(t),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-eye mr-2"}),"View Details"]}),(0,ts.jsxs)("button",{onClick:()=>r(t),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-edit mr-2"}),"Edit"]})]})]})},an=e=>{let{searchTerm:t,onSearchChange:r,filters:s,onFilterChange:a,onClearFilters:n}=e;return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Parts"}),(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Part number, description, HTS...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material"}),(0,ts.jsxs)("select",{value:s.material||"",onChange:e=>a("material",e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All Materials"}),Object.entries(tn).map(e=>{let[t,r]=e;return(0,ts.jsx)("option",{value:t,children:r.label},t)})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country of Origin"}),(0,ts.jsxs)("select",{value:s.country||"",onChange:e=>a("country",e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,ts.jsx)("option",{value:"",children:"All Countries"}),(0,ts.jsx)("option",{value:"US",children:"United States"}),(0,ts.jsx)("option",{value:"CN",children:"China"}),(0,ts.jsx)("option",{value:"DE",children:"Germany"}),(0,ts.jsx)("option",{value:"JP",children:"Japan"}),(0,ts.jsx)("option",{value:"MX",children:"Mexico"}),(0,ts.jsx)("option",{value:"CA",children:"Canada"})]})]}),(0,ts.jsx)("div",{className:"flex items-end",children:(0,ts.jsxs)("button",{onClick:n,className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear Filters"]})})]}),(0,ts.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Value ($)"}),(0,ts.jsx)("input",{type:"number",value:s.min_value||"",onChange:e=>a("min_value",e.target.value),placeholder:"0",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Value ($)"}),(0,ts.jsx)("input",{type:"number",value:s.max_value||"",onChange:e=>a("max_value",e.target.value),placeholder:"No limit",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HTS Chapter"}),(0,ts.jsx)("input",{type:"text",value:s.hts_chapter||"",onChange:e=>a("hts_chapter",e.target.value),placeholder:"e.g., 8708",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,ts.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,ts.jsxs)("button",{onClick:()=>a("has_hts",!0),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200",children:[(0,ts.jsx)("i",{className:"fas fa-barcode mr-1"}),"Has HTS Code"]}),(0,ts.jsxs)("button",{onClick:()=>a("has_value",!0),className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 hover:bg-green-200",children:[(0,ts.jsx)("i",{className:"fas fa-dollar-sign mr-1"}),"Has Standard Value"]})]})]})},nn=e=>{let{filteredParts:t,loading:r}=e;const s=(0,a.useMemo)(()=>{if(r||!t.length)return{total:0,totalValue:0,avgValue:0,withHTS:0,materialCounts:{}};const e=t.length,s=t.reduce((e,t)=>e+(t.standard_value||0),0);return{total:e,totalValue:s,avgValue:e>0?s/e:0,withHTS:t.filter(e=>e.hts_code).length,materialCounts:t.reduce((e,t)=>{const r=t.material||"other";return e[r]=(e[r]||0)+1,e},{})}},[t,r]);if(r)return(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:(0,ts.jsx)("div",{className:"animate-pulse",children:(0,ts.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,ts.jsx)("div",{className:"h-16 bg-gray-200 rounded"},e))})})});const n=Object.entries(s.materialCounts).sort((e,t)=>{let[,r]=e,[,s]=t;return s-r}).slice(0,3);return(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Parts Summary"}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.total}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Total Parts"})]}),(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",s.totalValue.toLocaleString()]}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Total Value"})]}),(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",s.avgValue.toLocaleString()]}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Value"})]}),(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:s.withHTS}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"With HTS Codes"})]})]}),n.length>0&&(0,ts.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Top Materials"}),(0,ts.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>{let[t,r]=e;const s=tn[t]||tn.other;return(0,ts.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("blue"===s.color?"bg-blue-100 text-blue-800":"gray"===s.color?"bg-gray-100 text-gray-800":"green"===s.color?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[s.label,": ",r]},t)})})]})]})},ln=()=>{const{showSuccess:e,showError:t}=Ms(),[r,s]=(0,a.useState)(""),[n,i]=(0,a.useState)({}),[l,o]=(0,a.useState)("created_at"),[c,d]=(0,a.useState)("desc"),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),f=(e,t)=>{console.log("Modal requested:",e,t)},{data:g,isLoading:x,error:b,refetch:y}=ja(["parts"],()=>Wr.parts.getAll(),{staleTime:3e5,cacheTime:6e5}),v=(null===g||void 0===g?void 0:g.parts)||[],j=(0,a.useMemo)(()=>{let e=[...v];if(r){const t=r.toLowerCase();e=e.filter(e=>e.part_number&&e.part_number.toLowerCase().includes(t)||e.id&&e.id.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.hts_code&&e.hts_code.toLowerCase().includes(t)||e.manufacturer_id&&e.manufacturer_id.toLowerCase().includes(t))}return Object.entries(n).forEach(t=>{let[r,s]=t;s&&(e="min_value"===r?e.filter(e=>(e.standard_value||0)>=parseFloat(s)):"max_value"===r?e.filter(e=>(e.standard_value||0)<=parseFloat(s)):"hts_chapter"===r?e.filter(e=>e.hts_code&&e.hts_code.startsWith(s)):"has_hts"===r?e.filter(e=>e.hts_code):"has_value"===r?e.filter(e=>e.standard_value&&e.standard_value>0):"country"===r?e.filter(e=>e.country_of_origin===s):e.filter(e=>e[r]===s))}),e.sort((e,t)=>{let r=e[l]||"",s=t[l]||"";const a=parseFloat(r),n=parseFloat(s);return isNaN(a)||isNaN(n)||(r=a,s=n),r<s?"asc"===c?-1:1:r>s?"asc"===c?1:-1:0}),e},[v,r,n,l,c]),N=e=>{f("part-detail-modal",e)},w=e=>{f("edit-part-modal",e)},_=()=>{f("add-part-modal")},k=e=>{p(e),m(!0)},C=e=>{p(e),m(!0)};return x?(0,ts.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b?(0,ts.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ts.jsxs)("div",{className:"flex",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"})}),(0,ts.jsxs)("div",{className:"ml-3",children:[(0,ts.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading parts"}),(0,ts.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ts.jsx)("p",{children:b.message})}),(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsx)("button",{onClick:()=>y(),className:"bg-red-100 px-3 py-2 rounded-md text-sm text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsx)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg p-6",children:(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts Management"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Material Master Data - HTS Codes, Pricing & Specifications"})]}),(0,ts.jsxs)("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"New Part"]})]})}),(0,ts.jsx)(an,{searchTerm:r,onSearchChange:s,filters:n,onFilterChange:(e,t)=>{i(r=>(0,Oe.A)((0,Oe.A)({},r),{},{[e]:t}))},onClearFilters:()=>{i({}),s("")}}),(0,ts.jsx)(nn,{filteredParts:j,loading:x}),0===j.length?(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("i",{className:"fas fa-cubes text-4xl text-gray-400 mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No parts found"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-6",children:r||Object.keys(n).length>0?"Try adjusting your search criteria or filters.":"Get started by creating your first part."}),!r&&0===Object.keys(n).length&&(0,ts.jsxs)("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Create First Part"]})]})}):(0,ts.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(e=>(0,ts.jsx)(sn,{part:e,onView:N,onEdit:w,onHTSLookup:k,onHTSUpdate:C},e.id))}),u&&h&&(0,ts.jsx)(en,{onClose:()=>{m(!1),p(null)},onSelect:async e=>{try{if(!h)return;const t={hts_code:e.htsno,hts_description:e.description,country_of_origin:e.countryOfOrigin,duty_info:e.dutyInfo};await Wr.put("/api/parts/".concat(h.id),t),Qr.success("HTS code ".concat(e.htsno," assigned to ").concat(h.part_number||h.id)),y(),m(!1),p(null)}catch(t){console.error("Failed to update part with HTS code:",t),Qr.error("Failed to assign HTS code: ".concat(t.message))}},currentHtsCode:h.hts_code||"",currentCountryOfOrigin:h.country_of_origin||""})]})},on=()=>(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Analytics and reporting dashboard"})]}),(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reports Migration Pending"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Component will be migrated from original ICRS."})]})]}),cn=e=>{let{title:t,children:r,icon:s,defaultOpen:n=!1,headerActions:i=null,badge:l=null,description:o=null,variant:c="default"}=e;const[d,u]=(0,a.useState)(n);return(0,ts.jsxs)("div",{className:qs("rounded-xl shadow-sm overflow-hidden transition-all duration-300 hover:shadow-md",{default:"bg-white border border-gray-200",primary:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",success:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200",warning:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200",danger:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200"}[c]),children:[(0,ts.jsx)("div",{className:"px-6 py-4 cursor-pointer select-none transition-all duration-200 hover:bg-black/5",onClick:()=>u(!d),children:(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[s&&(0,ts.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-white/80 flex items-center justify-center shadow-sm",children:(0,ts.jsx)("i",{className:qs(s,"text-lg","primary"===c?"text-blue-600":"success"===c?"text-green-600":"warning"===c?"text-yellow-600":"danger"===c?"text-red-600":"text-gray-600")})}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ts.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),l&&(0,ts.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l})]}),o&&(0,ts.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:o})]})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[i&&(0,ts.jsx)("div",{className:"flex items-center space-x-2",children:i}),(0,ts.jsx)("div",{className:qs("transition-transform duration-200",d?"rotate-180":""),children:(0,ts.jsx)("i",{className:"fas fa-chevron-down text-gray-400"})})]})]})}),(0,ts.jsx)("div",{className:qs("transition-all duration-300 ease-in-out overflow-hidden",d?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:(0,ts.jsx)("div",{className:"px-6 pb-6 border-t border-black/10",children:(0,ts.jsx)("div",{className:"pt-4",children:r})})})]})},dn=e=>{let{title:t,value:r,icon:s,variant:a="default",subtitle:n=null,loading:i=!1,onClick:l=null,className:o=""}=e;const c=l?"button":"div";return(0,ts.jsx)(c,{className:qs("border rounded-lg p-6 transition-all duration-200",{default:"bg-white border-gray-200",primary:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",success:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",warning:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",danger:"bg-gradient-to-r from-red-50 to-pink-50 border-red-200"}[a],l&&"cursor-pointer hover:shadow-md hover:scale-[1.02]",o),onClick:l,children:(0,ts.jsxs)("div",{className:"flex items-center",children:[s&&(0,ts.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,ts.jsx)("div",{className:"w-12 h-12 rounded-lg bg-white/80 flex items-center justify-center shadow-sm",children:(0,ts.jsx)("i",{className:qs(s,"text-xl",{default:"text-gray-600",primary:"text-blue-600",success:"text-green-600",warning:"text-yellow-600",danger:"text-red-600"}[a])})})}),(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("div",{className:"flex items-baseline space-x-2",children:i?(0,ts.jsx)("div",{className:"animate-pulse",children:(0,ts.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"})}):(0,ts.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:r})}),(0,ts.jsx)("div",{className:"mt-1",children:i?(0,ts.jsx)("div",{className:"animate-pulse",children:(0,ts.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})}):(0,ts.jsx)("div",{className:"text-sm font-medium text-gray-600",children:t})}),n&&!i&&(0,ts.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:n})]})]})})},un=e=>{let{uploadType:t,templateUrl:r,onUploadSuccess:s,allowedTypes:n=[".csv"],maxSize:i=5242880}=e;const[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(0),h=(0,a.useRef)(null),{showSuccess:p,showError:f}=Ms(),g=St(),x=Js({mutationFn:async e=>Wr.post("/api/admin/batch-upload/".concat(t),e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);m(t)}}),onSuccess:e=>{e.success?(p("Successfully uploaded ".concat(e.data.processed," records")),d(null),m(0),g.invalidateQueries(["admin",t]),s&&s(e.data)):f(e.error||"Upload failed")},onError:e=>{f(e.message||"Upload failed"),m(0)}}),b=e=>{const t=(e=>{if(!e)return"No file selected";const t="."+e.name.split(".").pop().toLowerCase();return n.includes(t)?e.size>i?"File too large. Maximum size: ".concat((i/1024/1024).toFixed(1),"MB"):null:"Invalid file type. Allowed: ".concat(n.join(", "))})(e);t?f(t):d(e)},y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},v=x.isPending;return(0,ts.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ts.jsxs)("div",{className:"mb-4",children:[(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Batch Upload"}),(0,ts.jsxs)("p",{className:"text-sm text-gray-600",children:["Upload CSV files to bulk import ",t," data"]})]}),r&&(0,ts.jsx)("div",{className:"mb-4",children:(0,ts.jsxs)("a",{href:r,download:!0,className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download Template"]})}),(0,ts.jsxs)("div",{className:qs("relative border-2 border-dashed rounded-lg p-6 text-center transition-colors",l?"border-blue-400 bg-blue-50":"border-gray-300",c?"border-green-400 bg-green-50":"",v&&"pointer-events-none opacity-50"),onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&b(e.dataTransfer.files[0])},children:[(0,ts.jsx)("input",{ref:h,type:"file",accept:n.join(","),onChange:e=>{e.target.files&&e.target.files[0]&&b(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:v}),c?(0,ts.jsxs)("div",{children:[(0,ts.jsx)("i",{className:"fas fa-file-csv text-4xl text-green-600 mb-4"}),(0,ts.jsx)("p",{className:"text-gray-900 font-medium mb-1",children:c.name}),(0,ts.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[(c.size/1024).toFixed(1)," KB"]})]}):(0,ts.jsxs)("div",{children:[(0,ts.jsx)("i",{className:"fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"}),(0,ts.jsxs)("p",{className:"text-gray-600 mb-2",children:["Drag and drop your CSV file here, or"," ",(0,ts.jsx)("span",{className:"text-blue-600 font-medium",children:"browse"})]}),(0,ts.jsxs)("p",{className:"text-xs text-gray-500",children:["Supported formats: ",n.join(", ")," (max ",(i/1024/1024).toFixed(1),"MB)"]})]})]}),v&&(0,ts.jsxs)("div",{className:"mt-4",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ts.jsx)("span",{className:"text-sm text-gray-600",children:"Uploading..."}),(0,ts.jsxs)("span",{className:"text-sm text-gray-600",children:[u,"%"]})]}),(0,ts.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ts.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(u,"%")}})})]}),c&&!v&&(0,ts.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,ts.jsxs)("button",{onClick:()=>{if(!c)return;const e=new FormData;e.append("file",c),x.mutate(e)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ts.jsx)("i",{className:"fas fa-upload mr-2"}),"Upload File"]}),(0,ts.jsx)("button",{onClick:()=>{d(null),m(0),h.current&&(h.current.value="")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})]}),v&&(0,ts.jsx)("div",{className:"mt-4",children:(0,ts.jsxs)("button",{disabled:!0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md opacity-50 cursor-not-allowed",children:[(0,ts.jsx)(Vs,{size:"sm"}),"Uploading..."]})})]})},mn=e=>{let{partData:t,compact:r=!1,showDetails:s=!1,className:n=""}=e;const[i,l]=(0,a.useState)(!1),{data:o,isLoading:c,error:d}=ja({queryKey:["tariff",null===t||void 0===t?void 0:t.hts_code,null===t||void 0===t?void 0:t.country_of_origin],queryFn:()=>Wr.get("/api/tariff/lookup",{hts_code:null===t||void 0===t?void 0:t.hts_code,country:null===t||void 0===t?void 0:t.country_of_origin}),enabled:!(null===t||void 0===t||!t.hts_code||null===t||void 0===t||!t.country_of_origin),staleTime:864e5}),u=(0,a.useMemo)(()=>{if(null===o||void 0===o||!o.success||null===t||void 0===t||!t.standard_value)return null;const e=parseFloat(t.standard_value)||0,r=o.data;return{mfn:{rate:r.mfn_rate||0,amount:e*(r.mfn_rate||0)/100},column2:{rate:r.column2_rate||0,amount:e*(r.column2_rate||0)/100},antidumping:{rate:r.antidumping_rate||0,amount:e*(r.antidumping_rate||0)/100},total:0}},[o,null===t||void 0===t?void 0:t.standard_value]);if(u&&(u.total=u.mfn.amount+u.column2.amount+u.antidumping.amount),null===t||void 0===t||!t.hts_code)return r?(0,ts.jsx)("span",{className:"text-xs text-gray-400",children:"No HTS"}):(0,ts.jsx)("div",{className:qs("text-sm text-gray-500",n),children:"No HTS code specified"});if(c)return r?(0,ts.jsxs)("div",{className:"inline-flex items-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-1 text-xs text-gray-500",children:"Loading..."})]}):(0,ts.jsxs)("div",{className:qs("flex items-center",n),children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Loading tariff data..."})]});if(d||null===o||void 0===o||!o.success)return r?(0,ts.jsx)("span",{className:"text-xs text-red-500",children:"Tariff error"}):(0,ts.jsx)("div",{className:qs("text-sm text-red-500",n),children:"Unable to load tariff data"});if(r){const e=o.data;return e.mfn_rate>0||e.column2_rate>0||e.antidumping_rate>0?(0,ts.jsxs)("div",{className:"relative inline-block",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[(0,ts.jsxs)("div",{className:"inline-flex items-center space-x-1",children:[e.mfn_rate>0&&(0,ts.jsxs)("span",{className:"inline-flex px-1.5 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:[e.mfn_rate,"%"]}),e.column2_rate>0&&(0,ts.jsxs)("span",{className:"inline-flex px-1.5 py-0.5 rounded text-xs bg-yellow-100 text-yellow-800",children:["+",e.column2_rate,"%"]}),e.antidumping_rate>0&&(0,ts.jsxs)("span",{className:"inline-flex px-1.5 py-0.5 rounded text-xs bg-red-100 text-red-800",children:["AD: ",e.antidumping_rate,"%"]})]}),i&&(0,ts.jsx)("div",{className:"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 p-3 bg-white border border-gray-300 rounded-lg shadow-lg",children:(0,ts.jsxs)("div",{className:"text-xs space-y-1",children:[(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:"Tariff Breakdown"}),(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{children:"MFN Rate:"}),(0,ts.jsxs)("span",{children:[e.mfn_rate||0,"%"]})]}),e.column2_rate>0&&(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{children:"Column 2:"}),(0,ts.jsxs)("span",{children:[e.column2_rate,"%"]})]}),e.antidumping_rate>0&&(0,ts.jsxs)("div",{className:"flex justify-between",children:[(0,ts.jsx)("span",{children:"Anti-dumping:"}),(0,ts.jsxs)("span",{children:[e.antidumping_rate,"%"]})]}),u&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("hr",{className:"my-1"}),(0,ts.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,ts.jsx)("span",{children:"Total Tariff:"}),(0,ts.jsxs)("span",{children:["$",u.total.toFixed(2)]})]})]})]})})]}):(0,ts.jsx)("span",{className:"text-xs text-gray-500",children:"Free"})}const m=o.data;return(0,ts.jsxs)("div",{className:qs("bg-white border border-gray-200 rounded-lg p-4",n),children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ts.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Tariff Information"}),(0,ts.jsxs)("span",{className:"text-xs text-gray-500",children:["HTS: ",t.hts_code]})]}),(0,ts.jsxs)("div",{className:"space-y-3",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("span",{className:"inline-flex w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,ts.jsx)("span",{className:"text-sm text-gray-700",children:"MFN Rate"})]}),(0,ts.jsxs)("div",{className:"text-right",children:[(0,ts.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[m.mfn_rate||0,"%"]}),u&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["$",u.mfn.amount.toFixed(2)]})]})]}),m.column2_rate>0&&(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("span",{className:"inline-flex w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,ts.jsx)("span",{className:"text-sm text-gray-700",children:"Column 2"})]}),(0,ts.jsxs)("div",{className:"text-right",children:[(0,ts.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[m.column2_rate,"%"]}),u&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["$",u.column2.amount.toFixed(2)]})]})]}),m.antidumping_rate>0&&(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{className:"flex items-center",children:[(0,ts.jsx)("span",{className:"inline-flex w-2 h-2 bg-red-500 rounded-full mr-2"}),(0,ts.jsx)("span",{className:"text-sm text-gray-700",children:"Anti-dumping"})]}),(0,ts.jsxs)("div",{className:"text-right",children:[(0,ts.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[m.antidumping_rate,"%"]}),u&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["$",u.antidumping.amount.toFixed(2)]})]})]}),u&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("hr",{className:"border-gray-200"}),(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Total Tariff"}),(0,ts.jsxs)("div",{className:"text-right",children:[(0,ts.jsxs)("div",{className:"text-sm font-bold text-gray-900",children:["$",u.total.toFixed(2)]}),(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:[(u.total/parseFloat(t.standard_value)*100).toFixed(1),"% of value"]})]})]})]}),s&&m.effective_date&&(0,ts.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,ts.jsxs)("div",{className:"text-xs text-gray-500",children:["Rates effective: ",new Date(m.effective_date).toLocaleDateString()]})})]})]})},hn=e=>{const t={parts:{headers:["id","description","hts_code","country_of_origin","standard_value","material_price","labor_price","unit_of_measure","manufacturer_id","gross_weight","material"],instructions:["INSTRUCTIONS: Delete this row and the format rows below, then add your data","REQUIRED: 1-50 chars,REQUIRED: 5-500 chars,OPTIONAL: XXXX.XX.XXXX or XXXX.XX.XX,OPTIONAL: 2-letter code,OPTIONAL: total price,OPTIONAL: material cost,OPTIONAL: labor cost,OPTIONAL: text,OPTIONAL: text,OPTIONAL: decimal KG,OPTIONAL: material type"],examples:["PART001,Steel Widget Assembly,8421.39.8080,US,125.50,75.00,50.50,EA,ACME Corp,2.5,steel","PART002,Aluminum Bracket,7326.90.8550,CN,45.25,30.00,15.25,EA,Global Mfg,0.8,aluminum","PART003,Plastic Component,,US,15.75,8.50,7.25,EA,Local Supplier,0.2,plastic"]},customers:{headers:["name","ein","address","broker_name","contact_email"],instructions:["INSTRUCTIONS: Delete this row and the format row below, then add your data","REQUIRED: 2-200 chars,OPTIONAL: XX-XXXXXXX,OPTIONAL: full address,OPTIONAL: broker name,OPTIONAL: valid email"],examples:["ABC Manufacturing Inc,12-3456789,123 Main St\\, Anytown\\, ST 12345,Smith Customs LLC,contact@abcmfg.com","XYZ Trading Company,98-7654321,456 Commerce Blvd\\, Business City\\, CA 90210,Global Broker Inc,orders@xyztrading.com","Simple Customer,,,,"]},suppliers:{headers:["name","ein","address","broker_name","contact_email","phone","contact_person","supplier_type","country"],instructions:["INSTRUCTIONS: Delete this row and the format rows below, then add your data","REQUIRED: 2-200 chars,OPTIONAL: XX-XXXXXXX,OPTIONAL: full address,OPTIONAL: broker name,OPTIONAL: valid email,OPTIONAL: phone number,OPTIONAL: contact name,OPTIONAL: Manufacturer/Distributor,OPTIONAL: country code"],examples:["ACME Manufacturing,12-3456789,789 Industrial Blvd\\, Factory City\\, TX 75001,Import Solutions LLC,purchasing@acme.com,+1-555-0123,John Smith,Manufacturer,US","Global Parts Ltd,98-7654321,456 Export Ave\\, Trade City\\, CA 90210,World Customs Inc,sales@globalparts.com,+1-555-0456,Jane Doe,Distributor,US","Simple Supplier,,,,,,,Manufacturer,CN"]},users:{headers:["email","role"],instructions:["INSTRUCTIONS: Delete this row and the format row below, then add your data","REQUIRED: valid email,REQUIRED: warehouse_staff, manager, or admin"],examples:["john.doe@company.com,warehouse_staff","jane.smith@company.com,manager","admin.user@company.com,admin"]},storageLocations:{headers:["location_code","location_type","description","zone","aisle","level","position","capacity_weight_kg","capacity_volume_m3","notes"],instructions:["INSTRUCTIONS: Delete this row and the format row below, then add your data","REQUIRED: unique code,REQUIRED: type,OPTIONAL: description,OPTIONAL: zone,OPTIONAL: aisle,OPTIONAL: level,OPTIONAL: position,OPTIONAL: weight limit,OPTIONAL: volume limit,OPTIONAL: notes"],examples:["A1-1-001,rack,Rack A1 Aisle 1 Position 1,A,1,1,001,1000.0,10.0,Main warehouse rack","B2-SHELF-01,shelf,Shelf B2 Position 1,B,2,1,01,500.0,5.0,Small parts shelf","DOCK-A,dock,Receiving Dock A,RECEIVING,,,A,10000.0,100.0,Primary receiving dock"]}}[e];if(!t)return"";return[t.headers.join(","),...t.instructions,...t.examples].join("\n")},pn=(e,t)=>{const r=hn(e),s=encodeURI("data:text/csv;charset=utf-8,".concat(r)),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)},fn=()=>{var e,t,r,s,n,i,l,o,c,d;const{hasPermission:u,getUserDisplayName:m}=ps(),{showSuccess:h,showError:p,showModal:f}=Ms(),g=St(),[x,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)({employees:{department:"",role:"",status:"active"},parts:{country:"",manufacturer:"",priceRange:"",hasVariants:"",material:"",sortBy:"id"},customers:{hasEin:"all",region:"",status:"active"},suppliers:{country:"all",type:"all",status:"active"},locations:{zone:"all",type:"all",isActive:"active"}}),[w,_]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[S,E]=(0,a.useState)([]),{data:A,isLoading:P,error:T}=ja({queryKey:["admin","stats"],queryFn:()=>Wr.get("/api/admin/stats"),refetchInterval:6e4}),{data:L,isLoading:R,error:D}=ja({queryKey:["admin","employees",j.employees,x],queryFn:()=>Wr.get("/api/admin/employees",(0,Oe.A)((0,Oe.A)({},j.employees),{},{search:x})),enabled:"employees"===y||null===y}),{data:F,isLoading:O,error:I}=ja({queryKey:["admin","parts",j.parts,x],queryFn:()=>Wr.get("/api/admin/parts-master",(0,Oe.A)((0,Oe.A)({},j.parts),{},{search:x})),enabled:"parts"===y||null===y}),{data:M,isLoading:U}=ja({queryKey:["admin","customers",j.customers,x],queryFn:()=>Wr.get("/api/admin/customers-master",(0,Oe.A)((0,Oe.A)({},j.customers),{},{search:x})),enabled:"customers"===y||null===y}),{data:z,isLoading:B}=ja({queryKey:["admin","suppliers",j.suppliers,x],queryFn:()=>Wr.get("/api/admin/suppliers-master",(0,Oe.A)((0,Oe.A)({},j.suppliers),{},{search:x})),enabled:"suppliers"===y||null===y}),{data:q,isLoading:H}=ja({queryKey:["admin","locations",j.locations,x],queryFn:()=>Wr.get("/api/admin/storage-locations",(0,Oe.A)((0,Oe.A)({},j.locations),{},{search:x})),enabled:"locations"===y||null===y}),Q=Js({mutationFn:e=>Wr.delete("/api/admin/employees/".concat(e)),onSuccess:()=>{g.invalidateQueries(["admin","employees"]),g.invalidateQueries(["admin","stats"]),h("Employee deleted successfully")},onError:e=>p(e.message||"Failed to delete employee")}),V=Js({mutationFn:e=>Wr.delete("/api/admin/parts/".concat(e)),onSuccess:()=>{g.invalidateQueries(["admin","parts"]),g.invalidateQueries(["admin","stats"]),h("Part deleted successfully")},onError:e=>p(e.message||"Failed to delete part")}),W=Js({mutationFn:e=>Wr.delete("/api/admin/customers/".concat(e)),onSuccess:()=>{g.invalidateQueries(["admin","customers"]),g.invalidateQueries(["admin","stats"]),h("Customer deleted successfully")},onError:e=>p(e.message||"Failed to delete customer")}),$=Js({mutationFn:e=>Wr.delete("/api/admin/suppliers/".concat(e)),onSuccess:()=>{g.invalidateQueries(["admin","suppliers"]),g.invalidateQueries(["admin","stats"]),h("Supplier deleted successfully")},onError:e=>p(e.message||"Failed to delete supplier")}),X=Js({mutationFn:e=>{let{id:t,isActive:r}=e;return Wr.patch("/api/admin/locations/".concat(t),{is_active:!r})},onSuccess:()=>{g.invalidateQueries(["admin","locations"]),g.invalidateQueries(["admin","stats"]),h("Location status updated successfully")},onError:e=>p(e.message||"Failed to update location status")}),K=(0,a.useMemo)(()=>{var e,t,r,s,a,n,i,l;return{totalParts:null!==F&&void 0!==F&&F.success&&(null===(e=F.data)||void 0===e?void 0:e.length)||0,totalCustomers:null!==M&&void 0!==M&&M.success&&(null===(t=M.data)||void 0===t?void 0:t.length)||0,totalSuppliers:null!==z&&void 0!==z&&z.success&&(null===(r=z.data)||void 0===r?void 0:r.length)||0,totalEmployees:null!==L&&void 0!==L&&L.success&&(null===(s=L.data)||void 0===s?void 0:s.length)||0,totalLocations:null!==q&&void 0!==q&&q.success&&(null===(a=q.data)||void 0===a?void 0:a.length)||0,activeLocations:null!==q&&void 0!==q&&q.success&&(null===(n=q.data)||void 0===n?void 0:n.filter(e=>e.is_active).length)||0,activeParts:null!==F&&void 0!==F&&F.success&&(null===(i=F.data)||void 0===i?void 0:i.filter(e=>e.standard_value>0).length)||0,partsWithHTS:null!==F&&void 0!==F&&F.success&&(null===(l=F.data)||void 0===l?void 0:l.filter(e=>e.hts_code).length)||0}},[F,M,z,L,q]),G=(0,a.useMemo)(()=>[{title:"Total Parts",value:K.totalParts,icon:"fas fa-cog",variant:"primary",onClick:()=>v("parts")},{title:"Active Customers",value:K.totalCustomers,icon:"fas fa-building",variant:"success",onClick:()=>v("customers")},{title:"Total Suppliers",value:K.totalSuppliers,icon:"fas fa-truck",variant:"warning",onClick:()=>v("suppliers")},{title:"Total Employees",value:K.totalEmployees,icon:"fas fa-users",variant:"danger",onClick:()=>v("employees")},{title:"Priced Parts",value:K.activeParts,icon:"fas fa-dollar-sign",variant:"success"},{title:"HTS Coded",value:K.partsWithHTS,icon:"fas fa-tag",variant:"primary"},{title:"Storage Locations",value:K.activeLocations,icon:"fas fa-warehouse",variant:"warning",onClick:()=>v("locations")}],[K]),Y=(0,a.useMemo)(()=>{if(null===F||void 0===F||!F.success||!F.data)return[];let e=F.data.filter(e=>{var t,r;const s=!x||e.id.toLowerCase().includes(x.toLowerCase())||e.description.toLowerCase().includes(x.toLowerCase())||(null===(t=e.hts_code)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(r=e.manufacturer_id)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase())),a=!j.parts.country||e.country_of_origin===j.parts.country,n=!j.parts.manufacturer||e.manufacturer_id===j.parts.manufacturer,i=!j.parts.material||e.material===j.parts.material,l=(()=>{if(!j.parts.priceRange)return!0;const t=parseFloat(e.standard_value)||0;switch(j.parts.priceRange){case"0-10":return t>=0&&t<=10;case"10-50":return t>10&&t<=50;case"50-100":return t>50&&t<=100;case"100+":return t>100;default:return!0}})();return s&&a&&n&&i&&l});return j.parts.sortBy&&e.sort((e,t)=>{const r=e[j.parts.sortBy]||"",s=t[j.parts.sortBy]||"";return"standard_value"===j.parts.sortBy?parseFloat(r)-parseFloat(s):r.toString().localeCompare(s.toString())}),e.slice(0,50)},[F,x,j.parts]),Z=(0,a.useMemo)(()=>null!==M&&void 0!==M&&M.success&&M.data?M.data.filter(e=>{var t,r,s;const a=!x||e.name.toLowerCase().includes(x.toLowerCase())||(null===(t=e.ein)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(r=e.contact_email)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.broker_name)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase())),n="all"===j.customers.hasEin||"yes"===j.customers.hasEin&&e.ein||"no"===j.customers.hasEin&&!e.ein;return a&&n}).slice(0,20):[],[M,x,j.customers]),J=(0,a.useMemo)(()=>null!==z&&void 0!==z&&z.success&&z.data?z.data.filter(e=>{var t,r,s,a;const n=!x||e.name.toLowerCase().includes(x.toLowerCase())||(null===(t=e.ein)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(r=e.contact_email)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.broker_name)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase()))||(null===(a=e.contact_person)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase())),i="all"===j.suppliers.country||e.country===j.suppliers.country,l="all"===j.suppliers.type||e.supplier_type===j.suppliers.type;return n&&i&&l}).slice(0,20):[],[z,x,j.suppliers]),ee=(0,a.useMemo)(()=>null!==q&&void 0!==q&&q.success&&q.data?q.data.filter(e=>{var t,r,s;const a=!x||e.location_code.toLowerCase().includes(x.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(r=e.zone)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()))||(null===(s=e.location_type)||void 0===s?void 0:s.toLowerCase().includes(x.toLowerCase())),n="all"===j.locations.type||e.location_type===j.locations.type,i="all"===j.locations.zone||e.zone===j.locations.zone,l="all"===j.locations.isActive||"active"===j.locations.isActive&&e.is_active||"inactive"===j.locations.isActive&&!e.is_active;return a&&n&&i&&l}).slice(0,50):[],[q,x,j.locations]),te=(0,a.useMemo)(()=>null!==F&&void 0!==F&&F.success&&F.data?[...new Set(F.data.map(e=>e.country_of_origin).filter(Boolean))].sort():[],[F]),re=(0,a.useMemo)(()=>null!==F&&void 0!==F&&F.success&&F.data?[...new Set(F.data.map(e=>e.manufacturer_id).filter(Boolean))].sort():[],[F]),se=(0,a.useMemo)(()=>null!==F&&void 0!==F&&F.success&&F.data?[...new Set(F.data.map(e=>e.material).filter(Boolean))].sort():[],[F]),ae=(0,a.useMemo)(()=>null!==z&&void 0!==z&&z.success&&z.data?[...new Set(z.data.map(e=>e.country).filter(Boolean))].sort():[],[z]),ne=(0,a.useMemo)(()=>null!==z&&void 0!==z&&z.success&&z.data?[...new Set(z.data.map(e=>e.supplier_type).filter(Boolean))].sort():[],[z]),ie=(0,a.useMemo)(()=>null!==q&&void 0!==q&&q.success&&q.data?[...new Set(q.data.map(e=>e.location_type).filter(Boolean))].sort():[],[q]),le=(0,a.useMemo)(()=>null!==q&&void 0!==q&&q.success&&q.data?[...new Set(q.data.map(e=>e.zone).filter(Boolean))].sort():[],[q]),oe=(0,a.useCallback)((e,t)=>{f("".concat(e,"EditModal"),{item:t})},[f]),ce=(0,a.useCallback)((e,t)=>{const r="employee"===e?t.first_name+" "+t.last_name:"part"===e?t.id:"customer"===e||"supplier"===e?t.name:t.id,s="Are you sure you want to delete ".concat(e,' "').concat(r,'"?');if(window.confirm(s))switch(e){case"employee":Q.mutate(t.id);break;case"part":V.mutate(t.id);break;case"customer":W.mutate(t.id);break;case"supplier":$.mutate(t.id);break;default:p("Delete functionality not implemented for ".concat(e))}},[Q,V,W,$,p]),de=(0,a.useCallback)((e,t)=>{_(t?t=>[...t,e]:t=>t.filter(t=>t!==e))},[]),ue=(0,a.useCallback)(()=>{w.length===Y.length?_([]):_(Y.map(e=>e.id))},[w.length,Y]),me=(0,a.useCallback)(()=>{0!==w.length?f("bulk-part-operations-modal",{selectedParts:w}):p("Please select at least one part for bulk operations")},[w,f,p]),he=(0,a.useCallback)(e=>{const t=e.is_active?"deactivate":"activate",r="Are you sure you want to ".concat(t,' location "').concat(e.location_code,'"?');window.confirm(r)&&X.mutate({id:e.id,isActive:e.is_active})},[X]),pe=(0,a.useCallback)((e,t)=>{g.invalidateQueries(["admin",e]),g.invalidateQueries(["admin","stats"]),h("Successfully imported ".concat(t.processed," ").concat(e," records"))},[g,h]),fe=(0,a.useCallback)((e,t)=>{pn(e,t)},[]);return u("admin")?T?(0,ts.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin System Unavailable"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:"Unable to load admin data. Please try again later."}),(0,ts.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Retry"})]})}):(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Administration"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage employees, parts master data, customers, suppliers, and system configuration."})]}),(0,ts.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 mb-8",children:G.map((e,t)=>(0,ts.jsx)(dn,{title:e.title,value:P?"...":e.value.toLocaleString(),icon:e.icon,variant:e.variant,loading:P,onClick:e.onClick,className:"cursor-pointer hover:shadow-lg transition-all duration-200"},e.title))}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ts.jsx)("div",{className:"flex-1",children:(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search across all data...",value:x,onChange:e=>b(e.target.value)})]})}),(0,ts.jsx)("button",{onClick:()=>{b(""),v(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Clear"})]})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Employee Management",icon:"fas fa-users",variant:"primary",defaultOpen:"employees"===y,badge:null!==L&&void 0!==L&&L.success?null===(e=L.data)||void 0===e?void 0:e.length:null,description:"Manage employee records, roles, and permissions",headerActions:(0,ts.jsxs)("button",{onClick:()=>f("EmployeeCreateModal"),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-1"})," Add Employee"]}),children:R?(0,ts.jsx)(Ws,{text:"Loading employees..."}):null!==L&&void 0!==L&&L.success?(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,ts.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",value:j.employees.department,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{employees:(0,Oe.A)((0,Oe.A)({},t.employees),{},{department:e.target.value})})),children:[(0,ts.jsx)("option",{value:"",children:"All Departments"}),(0,ts.jsx)("option",{value:"warehouse",children:"Warehouse"}),(0,ts.jsx)("option",{value:"admin",children:"Administration"}),(0,ts.jsx)("option",{value:"customs",children:"Customs"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,ts.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",value:j.employees.role,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{employees:(0,Oe.A)((0,Oe.A)({},t.employees),{},{role:e.target.value})})),children:[(0,ts.jsx)("option",{value:"",children:"All Roles"}),(0,ts.jsx)("option",{value:"admin",children:"Administrator"}),(0,ts.jsx)("option",{value:"manager",children:"Manager"}),(0,ts.jsx)("option",{value:"warehouse_staff",children:"Warehouse Staff"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,ts.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",value:j.employees.status,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{employees:(0,Oe.A)((0,Oe.A)({},t.employees),{},{status:e.target.value})})),children:[(0,ts.jsx)("option",{value:"",children:"All"}),(0,ts.jsx)("option",{value:"active",children:"Active"}),(0,ts.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,ts.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,ts.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,ts.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Employee Records"})}),(0,ts.jsx)("div",{className:"divide-y divide-gray-200",children:null===(t=L.data)||void 0===t?void 0:t.map(e=>(0,ts.jsx)("div",{className:"px-4 py-4 hover:bg-gray-50",children:(0,ts.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ts.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ts.jsx)("div",{className:"flex-shrink-0",children:(0,ts.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-user text-blue-600"})})}),(0,ts.jsxs)("div",{children:[(0,ts.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,ts.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),(0,ts.jsxs)("div",{className:"text-xs text-gray-400",children:[e.role," \u2022 ",e.department]})]})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,ts.jsx)("button",{onClick:()=>oe("employee",e),className:"text-blue-600 hover:text-blue-800",children:(0,ts.jsx)("i",{className:"fas fa-edit"})}),(0,ts.jsx)("button",{onClick:()=>ce("employee",e),className:"text-red-600 hover:text-red-800",children:(0,ts.jsx)("i",{className:"fas fa-trash"})})]})]})},e.id))})]}),(0,ts.jsx)(un,{uploadType:"employees",templateUrl:"/templates/employees-template.csv",onUploadSuccess:e=>pe("employees",e)})]}):(0,ts.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No employee data available"})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Part Number Master",icon:"fas fa-cog",variant:"warning",defaultOpen:"parts"===y,badge:"".concat(K.totalParts," parts"),description:"Manage parts, variants, pricing, and bulk operations",headerActions:[w.length>0&&(0,ts.jsxs)("button",{onClick:me,className:"inline-flex items-center px-3 py-1.5 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors duration-200 shadow-sm mr-2",children:[(0,ts.jsx)("i",{className:"fas fa-layer-group mr-1.5"}),"Bulk Ops (",w.length,")"]},"bulk-ops"),(0,ts.jsxs)("button",{className:"inline-flex items-center justify-center w-36 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium",onClick:()=>f("add-part-modal"),children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Part"]},"add-part")].filter(Boolean),children:O?(0,ts.jsx)(Ws,{text:"Loading parts..."}):(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"relative mb-4",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search parts by number, description, HTS code, or manufacturer...",value:x,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm shadow-sm transition-all duration-200"}),x&&(0,ts.jsx)("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:(0,ts.jsx)("i",{className:"fas fa-times text-gray-400 hover:text-gray-600 transition-colors"})})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-4",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Country"}),(0,ts.jsxs)("select",{value:j.parts.country,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{parts:(0,Oe.A)((0,Oe.A)({},t.parts),{},{country:e.target.value})})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200",children:[(0,ts.jsx)("option",{value:"",children:"All Countries"}),te.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Manufacturer"}),(0,ts.jsxs)("select",{value:j.parts.manufacturer,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{parts:(0,Oe.A)((0,Oe.A)({},t.parts),{},{manufacturer:e.target.value})})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200",children:[(0,ts.jsx)("option",{value:"",children:"All Manufacturers"}),re.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Material"}),(0,ts.jsxs)("select",{value:j.parts.material,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{parts:(0,Oe.A)((0,Oe.A)({},t.parts),{},{material:e.target.value})})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200",children:[(0,ts.jsx)("option",{value:"",children:"All Materials"}),se.map(e=>(0,ts.jsx)("option",{value:e,children:aa(e)},e))]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Price Range"}),(0,ts.jsxs)("select",{value:j.parts.priceRange,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{parts:(0,Oe.A)((0,Oe.A)({},t.parts),{},{priceRange:e.target.value})})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200",children:[(0,ts.jsx)("option",{value:"",children:"All Prices"}),(0,ts.jsx)("option",{value:"0-10",children:"$0 - $10"}),(0,ts.jsx)("option",{value:"10-50",children:"$10 - $50"}),(0,ts.jsx)("option",{value:"50-100",children:"$50 - $100"}),(0,ts.jsx)("option",{value:"100+",children:"$100+"})]})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Sort by"}),(0,ts.jsxs)("select",{value:j.parts.sortBy||"id",onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{parts:(0,Oe.A)((0,Oe.A)({},t.parts),{},{sortBy:e.target.value})})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200",children:[(0,ts.jsx)("option",{value:"id",children:"Part Number"}),(0,ts.jsx)("option",{value:"description",children:"Description"}),(0,ts.jsx)("option",{value:"standard_value",children:"Price"}),(0,ts.jsx)("option",{value:"country_of_origin",children:"Country"})]})]}),(0,ts.jsx)("div",{className:"flex items-end",children:(0,ts.jsxs)("button",{onClick:()=>{b(""),N(e=>(0,Oe.A)((0,Oe.A)({},e),{},{parts:{country:"",manufacturer:"",material:"",priceRange:"",hasVariants:"",sortBy:"id"}}))},className:"w-full px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200",children:[(0,ts.jsx)("i",{className:"fas fa-undo mr-2"}),"Clear All"]})})]}),(0,ts.jsx)("div",{className:"flex justify-between items-center text-sm bg-gradient-to-r from-gray-50 to-blue-50 px-4 py-3 rounded-lg border border-gray-200 mb-4",children:(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle text-blue-500"}),(0,ts.jsxs)("span",{className:"font-medium text-gray-700",children:["Showing ",Y.length," of ",null!==F&&void 0!==F&&F.success&&(null===(r=F.data)||void 0===r?void 0:r.length)||0," parts",(x||j.parts.country||j.parts.manufacturer||j.parts.material||j.parts.priceRange)&&(0,ts.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"(filtered)"})]})]})}),(0,ts.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,ts.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-4 py-3 text-left",children:(0,ts.jsx)("input",{type:"checkbox",checked:w.length===Y.length&&Y.length>0,onChange:ue,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Number"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"HTS Code"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tariffs"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ts.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Y.map(e=>(0,ts.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(w.includes(e.id)?"bg-purple-50":""),children:[(0,ts.jsx)("td",{className:"px-3 py-4",children:(0,ts.jsx)("input",{type:"checkbox",checked:w.includes(e.id),onChange:t=>de(e.id,t.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,ts.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,ts.jsx)("div",{className:"max-w-xs truncate",title:e.description,children:e.description})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.hts_code||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.country_of_origin||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.material?(0,ts.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(na(e.material).color),children:aa(e.material)}):"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.standard_value?"$".concat(parseFloat(e.standard_value).toFixed(2)):"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,ts.jsx)(mn,{partData:{hts_code:e.hts_code,country_of_origin:e.country_of_origin,standard_value:e.standard_value},compact:!0})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.gross_weight?"".concat(e.gross_weight," kg"):"-"}),(0,ts.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ts.jsxs)("button",{onClick:()=>f("part-detail-modal",e),className:"text-green-600 hover:text-green-900 mr-3",title:"View detailed information, variants, and pricing history",children:[(0,ts.jsx)("i",{className:"fas fa-eye mr-1"}),"Details"]}),(0,ts.jsx)("button",{onClick:()=>oe("part",e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,ts.jsx)("button",{onClick:()=>ce("part",e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)),0===Y.length&&(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"10",className:"px-6 py-4 text-sm text-gray-500 text-center",children:null!==F&&void 0!==F&&F.success&&(null===(s=F.data)||void 0===s?void 0:s.length)>0?"No parts match your search criteria.":"No parts found. Upload parts using the batch upload below."})})]})]})})}),(0,ts.jsx)("div",{className:"mt-6",children:(0,ts.jsx)(un,{uploadType:"parts",templateUrl:"/templates/parts-template.csv",onUploadSuccess:e=>pe("parts",e)})})]})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Customer Master",icon:"fas fa-building",variant:"success",defaultOpen:"customers"===y,badge:"".concat(K.totalCustomers," customers"),description:"Manage customer accounts, contacts, and business information",headerActions:(0,ts.jsxs)("button",{onClick:()=>f("add-customer-modal"),className:"inline-flex items-center justify-center w-36 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Customer"]}),children:U?(0,ts.jsx)(Ws,{text:"Loading customers..."}):(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search customers...",value:x,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200"})]}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:j.customers.hasEin,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{customers:(0,Oe.A)((0,Oe.A)({},t.customers),{},{hasEin:e.target.value})})),className:"w-full px-3 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm",children:[(0,ts.jsx)("option",{value:"all",children:"All Customers"}),(0,ts.jsx)("option",{value:"yes",children:"With EIN"}),(0,ts.jsx)("option",{value:"no",children:"Without EIN"})]})}),(0,ts.jsxs)("div",{className:"flex items-center bg-gradient-to-r from-gray-50 to-green-50 px-4 py-3 rounded-xl border border-gray-200",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle text-green-500 mr-2"}),(0,ts.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Showing ",Z.length," of ",null!==M&&void 0!==M&&M.success&&(null===(n=M.data)||void 0===n?void 0:n.length)||0," customers"]})]})]}),(0,ts.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,ts.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"EIN"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Broker"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Email"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ts.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Z.map(e=>(0,ts.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ein||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,ts.jsx)("div",{className:"max-w-xs truncate",title:e.address,children:e.address||"-"})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.broker_name||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.contact_email||"-"}),(0,ts.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ts.jsx)("button",{onClick:()=>oe("customer",e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,ts.jsx)("button",{onClick:()=>ce("customer",e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)),0===Z.length&&(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-sm text-gray-500 text-center",children:null!==M&&void 0!==M&&M.success&&(null===(i=M.data)||void 0===i?void 0:i.length)>0?"No customers match your search criteria.":"No customers found. Upload customers using the batch upload below."})})]})]})})}),(0,ts.jsx)(un,{uploadType:"customers",templateUrl:"/templates/customers-template.csv",onUploadSuccess:e=>pe("customers",e)})]})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Supplier Master",icon:"fas fa-truck",variant:"danger",defaultOpen:"suppliers"===y,badge:"".concat(K.totalSuppliers," suppliers"),description:"Manage supplier information, contacts, and logistics details",headerActions:(0,ts.jsxs)("button",{onClick:()=>f("add-supplier-modal"),className:"inline-flex items-center justify-center w-36 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Supplier"]}),children:B?(0,ts.jsx)(Ws,{text:"Loading suppliers..."}):(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search suppliers...",value:x,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200"})]}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:j.suppliers.country,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{suppliers:(0,Oe.A)((0,Oe.A)({},t.suppliers),{},{country:e.target.value})})),className:"w-full px-3 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm",children:[(0,ts.jsx)("option",{value:"all",children:"All Countries"}),ae.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:j.suppliers.type,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{suppliers:(0,Oe.A)((0,Oe.A)({},t.suppliers),{},{type:e.target.value})})),className:"w-full px-3 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm",children:[(0,ts.jsx)("option",{value:"all",children:"All Types"}),ne.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})}),(0,ts.jsxs)("div",{className:"flex items-center bg-gradient-to-r from-gray-50 to-red-50 px-4 py-3 rounded-xl border border-gray-200",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle text-red-500 mr-2"}),(0,ts.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Showing ",J.length," of ",null!==z&&void 0!==z&&z.success&&(null===(l=z.data)||void 0===l?void 0:l.length)||0," suppliers"]})]})]}),(0,ts.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,ts.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier Name"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"EIN"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ts.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[J.map(e=>(0,ts.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.supplier_type&&(0,ts.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("Manufacturer"===e.supplier_type?"bg-blue-100 text-blue-800":"Distributor"===e.supplier_type?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.supplier_type})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ein||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.country||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,ts.jsxs)("div",{children:[e.contact_person&&(0,ts.jsx)("div",{className:"font-medium",children:e.contact_person}),e.contact_email&&(0,ts.jsx)("div",{className:"text-xs",children:e.contact_email}),e.phone&&(0,ts.jsx)("div",{className:"text-xs",children:e.phone})]})}),(0,ts.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ts.jsx)("button",{onClick:()=>oe("supplier",e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,ts.jsx)("button",{onClick:()=>ce("supplier",e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)),0===J.length&&(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-sm text-gray-500 text-center",children:null!==z&&void 0!==z&&z.success&&(null===(o=z.data)||void 0===o?void 0:o.length)>0?"No suppliers match your search criteria.":"No suppliers found. Upload suppliers using the batch upload below."})})]})]})})}),(0,ts.jsx)(un,{uploadType:"suppliers",templateUrl:"/templates/suppliers-template.csv",onUploadSuccess:e=>pe("suppliers",e)})]})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Storage Location Master",icon:"fas fa-warehouse",variant:"default",defaultOpen:"locations"===y,badge:"".concat(K.activeLocations," active locations"),description:"Manage facility storage locations including racks, shelves, bins, and other storage areas",headerActions:(0,ts.jsxs)("button",{onClick:()=>f("add-location-modal"),className:"inline-flex items-center justify-center w-36 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Location"]}),children:H?(0,ts.jsx)(Ws,{text:"Loading locations..."}):(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"relative",children:[(0,ts.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,ts.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,ts.jsx)("input",{type:"text",placeholder:"Search locations...",value:x,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm transition-all duration-200"})]}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:j.locations.type,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{locations:(0,Oe.A)((0,Oe.A)({},t.locations),{},{type:e.target.value})})),className:"w-full px-3 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm",children:[(0,ts.jsx)("option",{value:"all",children:"All Types"}),ie.map(e=>(0,ts.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})}),(0,ts.jsx)("div",{children:(0,ts.jsxs)("select",{value:j.locations.zone,onChange:e=>N(t=>(0,Oe.A)((0,Oe.A)({},t),{},{locations:(0,Oe.A)((0,Oe.A)({},t.locations),{},{zone:e.target.value})})),className:"w-full px-3 py-3 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm shadow-sm",children:[(0,ts.jsx)("option",{value:"all",children:"All Zones"}),le.map(e=>(0,ts.jsx)("option",{value:e,children:e},e))]})}),(0,ts.jsxs)("div",{className:"flex items-center bg-gradient-to-r from-gray-50 to-purple-50 px-4 py-3 rounded-xl border border-gray-200",children:[(0,ts.jsx)("i",{className:"fas fa-info-circle text-purple-500 mr-2"}),(0,ts.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Showing ",ee.length," of ",null!==q&&void 0!==q&&q.success&&(null===(c=q.data)||void 0===c?void 0:c.length)||0," locations"]})]})]}),(0,ts.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,ts.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,ts.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ts.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,ts.jsxs)("tr",{children:[(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location Code"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Zone"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ts.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ts.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[ee.map(e=>(0,ts.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.location_code}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,ts.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("rack"===e.location_type?"bg-blue-100 text-blue-800":"shelf"===e.location_type?"bg-green-100 text-green-800":"bin"===e.location_type?"bg-yellow-100 text-yellow-800":"dock"===e.location_type?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.location_type.charAt(0).toUpperCase()+e.location_type.slice(1)})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.zone||"-"}),(0,ts.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,ts.jsxs)("div",{children:[e.description&&(0,ts.jsx)("div",{className:"font-medium text-gray-900",children:e.description}),(0,ts.jsxs)("div",{className:"text-xs text-gray-500 mt-1 space-x-2",children:[e.aisle&&(0,ts.jsxs)("span",{children:["Aisle: ",e.aisle]}),e.level&&(0,ts.jsxs)("span",{children:["Level: ",e.level]}),e.position&&(0,ts.jsxs)("span",{children:["Pos: ",e.position]})]})]})}),(0,ts.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,ts.jsxs)("div",{children:[e.capacity_weight_kg&&(0,ts.jsxs)("div",{className:"text-xs",children:["Weight: ",e.capacity_weight_kg," kg"]}),e.capacity_volume_m3&&(0,ts.jsxs)("div",{className:"text-xs",children:["Volume: ",e.capacity_volume_m3," m\xb3"]}),!e.capacity_weight_kg&&!e.capacity_volume_m3&&(0,ts.jsx)("span",{className:"text-gray-400",children:"No limits"})]})}),(0,ts.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,ts.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})}),(0,ts.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,ts.jsx)("button",{onClick:()=>oe("location",e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,ts.jsx)("button",{onClick:()=>he(e),className:e.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900",children:e.is_active?"Deactivate":"Activate"})]})]},e.id)),0===ee.length&&(0,ts.jsx)("tr",{children:(0,ts.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-sm text-gray-500 text-center",children:null!==q&&void 0!==q&&q.success&&(null===(d=q.data)||void 0===d?void 0:d.length)>0?"No locations match your search criteria.":"No storage locations found. Add your first location to get started."})})]})]})})}),(0,ts.jsx)(un,{uploadType:"locations",templateUrl:"/templates/locations-template.csv",onUploadSuccess:e=>pe("locations",e)})]})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Material Index Management",icon:"fas fa-chart-line",description:"Manage Shanghai Steel Price Index data and quarterly pricing adjustments",variant:"warning",defaultOpen:!1,headerActions:(0,ts.jsxs)("button",{onClick:()=>f("enhanced-quarterly-update-modal"),className:"inline-flex items-center justify-center w-36 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-chart-line mr-2"}),"Quarterly Update"]}),children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ts.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,ts.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Latest Material Prices"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"Current SHSPI pricing data"})]}),(0,ts.jsx)("div",{className:"p-4",children:(0,ts.jsx)("div",{className:"space-y-3",children:(0,ts.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,ts.jsx)("i",{className:"fas fa-chart-line text-gray-300 text-2xl mb-2"}),(0,ts.jsx)("p",{children:"No recent pricing data found."}),(0,ts.jsx)("p",{className:"text-xs",children:"Material indices will appear here after price updates."})]})})})]}),(0,ts.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,ts.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Current Pricing Cycle"}),(0,ts.jsx)("p",{className:"text-sm text-gray-600",children:"3-Month Rolling Average Timeline"})]}),(0,ts.jsx)("div",{className:"p-4",children:(0,ts.jsxs)("div",{className:"space-y-4",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium text-blue-900",children:"Data Collection"}),(0,ts.jsx)("div",{className:"text-sm text-blue-700",children:"Q4 2024"})]}),(0,ts.jsx)("div",{className:"text-blue-600",children:(0,ts.jsx)("i",{className:"fas fa-check-circle text-lg"})})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium text-yellow-900",children:"Communication"}),(0,ts.jsx)("div",{className:"text-sm text-yellow-700",children:"January 2025"})]}),(0,ts.jsx)("div",{className:"text-yellow-600",children:(0,ts.jsx)("i",{className:"fas fa-clock text-lg"})})]}),(0,ts.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border-l-4 border-gray-300",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("div",{className:"font-medium text-gray-700",children:"Effective"}),(0,ts.jsx)("div",{className:"text-sm text-gray-600",children:"February 2025"})]}),(0,ts.jsx)("div",{className:"text-gray-400",children:(0,ts.jsx)("i",{className:"fas fa-calendar text-lg"})})]})]})})]})]})})}),(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsx)(cn,{title:"Batch Data Management",icon:"fas fa-upload",description:"Download templates, fill them out, and upload to add multiple records at once",variant:"primary",defaultOpen:!1,children:(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,ts.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Part Master"}),(0,ts.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-cog text-white text-sm"})})]}),(0,ts.jsx)("div",{className:"space-y-3",children:(0,ts.jsxs)("button",{type:"button",onClick:()=>fe("parts","part_template.csv"),className:"w-full flex items-center justify-center px-4 py-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors duration-200 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download Template"]})})]}),(0,ts.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Customer Master"}),(0,ts.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-building text-white text-sm"})})]}),(0,ts.jsx)("div",{className:"space-y-3",children:(0,ts.jsxs)("button",{type:"button",onClick:()=>fe("customers","customer_template.csv"),className:"w-full flex items-center justify-center px-4 py-2 bg-green-50 text-green-700 border border-green-200 rounded-lg hover:bg-green-100 transition-colors duration-200 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download Template"]})})]}),(0,ts.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Supplier Master"}),(0,ts.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-truck text-white text-sm"})})]}),(0,ts.jsx)("div",{className:"space-y-3",children:(0,ts.jsxs)("button",{type:"button",onClick:()=>fe("suppliers","supplier_template.csv"),className:"w-full flex items-center justify-center px-4 py-2 bg-red-50 text-red-700 border border-red-200 rounded-lg hover:bg-red-100 transition-colors duration-200 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download Template"]})})]}),(0,ts.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,ts.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ts.jsx)("h4",{className:"font-semibold text-gray-900",children:"Storage Locations"}),(0,ts.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center",children:(0,ts.jsx)("i",{className:"fas fa-warehouse text-white text-sm"})})]}),(0,ts.jsx)("div",{className:"space-y-3",children:(0,ts.jsxs)("button",{type:"button",onClick:()=>fe("storageLocations","storage_locations_template.csv"),className:"w-full flex items-center justify-center px-4 py-2 bg-purple-50 text-purple-700 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors duration-200 text-sm font-medium",children:[(0,ts.jsx)("i",{className:"fas fa-download mr-2"}),"Download Template"]})})]})]})})})]}):(0,ts.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})};function gn(e,t){if(!e||!t)return e;const r=new RegExp("(".concat(t,")"),"gi");return e.replace(r,'<mark class="bg-yellow-200">$1</mark>')}const xn=()=>{var e,t;const[r,s]=(0,a.useState)(""),[n,i]=(0,a.useState)("description"),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[w,_]=(0,a.useState)(1),[k]=(0,a.useState)(50),[C,S]=(0,a.useState)(0),[E,A]=(0,a.useState)(null),[P,T]=(0,a.useState)("search"),[L,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{m(!0);try{const[e,t]=await Promise.all([Za.initialize(),Za.getStatus()]);e.success?(p(!0),N(Za.getCachedCountries()),v(Za.getCachedPopularCodes()),"network"===e.source&&Qr.success("HTS service initialized successfully")):Qr.error("Failed to initialize HTS service: ".concat(e.error)),t.success&&A(t.data)}catch(e){Qr.error("Error initializing HTS service: ".concat(e.message))}finally{m(!1)}})()},[]);const D=(0,a.useCallback)(function(e,t){let r;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];const i=()=>{clearTimeout(r),e(...a)};clearTimeout(r),r=setTimeout(i,t)}}(async(e,t,r)=>{if(!e||e.length<2)return o([]),void S(0);m(!0);try{const a=await Za.search(e,t,{limit:k,countryOfOrigin:r||null});var s;if(a.success)o(a.data),S((null===(s=a.meta)||void 0===s?void 0:s.resultCount)||a.data.length),_(1);else Qr.error("Search failed: ".concat(a.error)),o([]),S(0)}catch(a){Qr.error("Search error: ".concat(a.message)),o([]),S(0)}finally{m(!1)}},300),[k]);(0,a.useEffect)(()=>{h&&r.length>=2?D(r,n,c):(o([]),S(0))},[r,n,c,h,D]);const F=async e=>{if(g(e),b(!0),T("details"),c){m(!0);try{const t=await Za.getByHtsCode(e.htsno,c);t.success&&g(t.data)}catch(t){console.error("Error loading HTS details:",t)}finally{m(!1)}}},O=(0,a.useMemo)(()=>r&&0!==l.length?l.map(e=>(0,Oe.A)((0,Oe.A)({},e),{},{highlightedDescription:gn(e.description,r),highlightedHtsno:gn(e.htsno,r)})):l,[l,r]);return!h&&u?(0,ts.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,ts.jsx)("h3",{className:"text-lg font-semibold",children:"Loading HTS Database..."}),(0,ts.jsx)("p",{className:"text-gray-600 mt-2",children:"This may take a moment on first use"})]})})}):(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsx)("div",{className:"mb-8",children:(0,ts.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"HTS Browser"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"Complete USITC Harmonized Tariff Schedule Database"})]}),(0,ts.jsxs)("div",{className:"flex items-center space-x-4",children:[E&&(0,ts.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,ts.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ts.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(E.loaded?"bg-green-500":"bg-yellow-500")}),(0,ts.jsxs)("div",{className:"text-sm",children:[(0,ts.jsx)("div",{className:"font-medium",children:E.loaded?"Data Loaded":"Loading..."}),(0,ts.jsxs)("div",{className:"text-gray-500",children:[(null===(e=E.entryCount)||void 0===e?void 0:e.toLocaleString())||0," entries"]})]})]})}),(0,ts.jsx)("button",{onClick:async()=>{R(!0);try{Qr.loading("Downloading latest HTS data from USITC...",{duration:2e3});const e=await Za.refreshData();if(e.success){Qr.success("HTS data refreshed successfully! Source: ".concat(e.source,", ").concat(e.count||0," entries"));const t=await Za.getStatus();t.success&&A(t.data),o([]),s("")}else Qr.error("Refresh failed: ".concat(e.error))}catch(e){Qr.error("Refresh error: ".concat(e.message))}finally{R(!1)}},disabled:L,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:L?(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,ts.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ts.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("svg",{className:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Import Latest Data"]})})]})]})}),(0,ts.jsx)("div",{className:"mb-6",children:(0,ts.jsx)("div",{className:"border-b border-gray-200",children:(0,ts.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,ts.jsx)("button",{onClick:()=>T("search"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("search"===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Search & Browse"}),f&&(0,ts.jsxs)("button",{onClick:()=>T("details"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("details"===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Details - ",f.htsno]})]})})}),"search"===P&&(0,ts.jsxs)("div",{className:"space-y-6",children:[(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,ts.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 mb-4",children:[(0,ts.jsx)("div",{className:"lg:col-span-5",children:(0,ts.jsx)("input",{type:"text",placeholder:"description"===n?'Search by description (e.g., "electronic circuits")':'Search by HTS code (e.g., "8542")',value:r,onChange:e=>s(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:u})}),(0,ts.jsx)("div",{className:"lg:col-span-3",children:(0,ts.jsxs)("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[(0,ts.jsx)("button",{onClick:()=>i("description"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("description"===n?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"Description"}),(0,ts.jsx)("button",{onClick:()=>i("code"),className:"flex-1 px-4 py-3 text-sm font-medium border-l border-gray-300 ".concat("code"===n?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:"HTS Code"})]})}),(0,ts.jsx)("div",{className:"lg:col-span-4",children:(0,ts.jsxs)("select",{value:c,onChange:e=>{return t=e.target.value,d(t),void(f&&t&&F(f));var t},className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ts.jsx)("option",{value:"",children:"Select Country of Origin (Optional)"}),j.map(e=>(0,ts.jsx)("option",{value:e.code,children:e.name},e.code))]})})]}),!c&&(0,ts.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 mb-4",children:(0,ts.jsx)("p",{className:"text-sm text-amber-800",children:"\ud83d\udca1 Select a country of origin to see applicable duty rates and trade agreement benefits."})}),y.length>0&&r.length<2&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Popular HTS Categories:"}),(0,ts.jsx)("div",{className:"flex flex-wrap gap-2",children:y.slice(0,8).map(e=>(0,ts.jsxs)("button",{onClick:()=>(async e=>{m(!0);try{const t=await Za.searchByCode(e.htsno,20,c);if(t.success&&t.data.length>0){const r=t.data.find(t=>t.htsno===e.htsno);r?F(r):(o(t.data),S(t.data.length),i("code"),s(e.htsno),T("search"))}}catch(t){Qr.error("Error loading HTS code: ".concat(t.message))}finally{m(!1)}})(e),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",disabled:u,children:[e.htsno," - ",e.description.substring(0,30),"..."]},e.htsno))})]})]}),(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,ts.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,ts.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ts.jsx)("h3",{className:"text-lg font-semibold",children:r?'Search Results for "'.concat(r,'"'):"HTS Codes"}),C>0&&(0,ts.jsxs)("span",{className:"text-sm text-gray-500",children:[C.toLocaleString()," results"]})]})}),(0,ts.jsxs)("div",{className:"p-4",children:[u&&(0,ts.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ts.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,ts.jsx)("span",{className:"ml-3 text-gray-600",children:"Searching..."})]}),!u&&r.length>=2&&0===l.length&&(0,ts.jsxs)("div",{className:"text-center py-8 text-gray-500",children:['No HTS codes found for "',r,'"']}),!u&&r.length<2&&0===y.length&&(0,ts.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Enter at least 2 characters to search HTS codes"}),!u&&O.length>0&&(0,ts.jsx)("div",{className:"space-y-2",children:O.map((e,t)=>{const r=c&&e.dutyInfo?e.dutyInfo:null;return(0,ts.jsx)("div",{onClick:()=>F(e),className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat((null===f||void 0===f?void 0:f.htsno)===e.htsno?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,ts.jsx)("div",{className:"flex justify-between items-start",children:(0,ts.jsxs)("div",{className:"flex-1",children:[(0,ts.jsx)("div",{className:"font-mono text-sm font-semibold text-blue-600 mb-1",children:(0,ts.jsx)("span",{dangerouslySetInnerHTML:{__html:e.highlightedHtsno||e.htsno}})}),(0,ts.jsx)("div",{className:"text-gray-900",style:{marginLeft:"".concat(20*(e.indent||0),"px")},children:(0,ts.jsx)("span",{dangerouslySetInnerHTML:{__html:e.highlightedDescription||e.description}})}),r&&(0,ts.jsxs)("div",{className:"mt-2 text-xs space-y-1 bg-gray-50 rounded p-2",children:[(0,ts.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ts.jsx)("span",{className:"text-gray-600",children:"General:"}),(0,ts.jsx)("span",{className:"font-medium",children:r.general||"N/A"}),r.applicable!==r.general&&(0,ts.jsxs)(ts.Fragment,{children:[(0,ts.jsx)("span",{className:"text-green-600",children:"\u2192 Applicable:"}),(0,ts.jsx)("span",{className:"font-medium text-green-600",children:r.applicable})]})]}),r.specialNote&&(0,ts.jsx)("div",{className:"text-green-600 italic text-xs",children:r.specialNote})]}),e.units&&e.units.length>0&&(0,ts.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Units: ",e.units.join(", ")]})]})})},"".concat(e.htsno,"-").concat(t))})})]})]})]}),"details"===P&&f&&(0,ts.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,ts.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ts.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ts.jsx)("h3",{className:"text-lg font-semibold",children:"HTS Code Details"}),(0,ts.jsx)("button",{onClick:()=>T("search"),className:"text-gray-400 hover:text-gray-600",children:"\u2190 Back to Search"})]})}),(0,ts.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HTS Number"}),(0,ts.jsx)("div",{className:"font-mono text-blue-600 font-semibold text-lg",children:f.htsno})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,ts.jsx)("div",{className:"text-gray-900",children:f.description})]}),f.units&&f.units.length>0&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units of Measure"}),(0,ts.jsx)("div",{className:"text-gray-900",children:f.units.join(", ")})]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.general&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"General Rate"}),(0,ts.jsx)("div",{className:"text-gray-900 font-medium",children:f.general})]}),f.special&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Rate"}),(0,ts.jsx)("div",{className:"text-gray-900 text-sm",children:f.special})]}),f.other&&(0,ts.jsxs)("div",{children:[(0,ts.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column 2 Rate"}),(0,ts.jsx)("div",{className:"text-gray-900 font-medium",children:f.other})]})]}),f.dutyInfo&&(0,ts.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ts.jsxs)("h4",{className:"text-sm font-medium text-blue-800 mb-3",children:["Duty Information for ",(null===(t=j.find(e=>e.code===c))||void 0===t?void 0:t.name)||c]}),(0,ts.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-blue-700 font-medium",children:"Applicable Rate:"}),(0,ts.jsx)("div",{className:"font-semibold text-blue-900 text-lg",children:f.dutyInfo.applicable})]}),(0,ts.jsxs)("div",{children:[(0,ts.jsx)("span",{className:"text-blue-700 font-medium",children:"Trade Status:"}),(0,ts.jsx)("div",{className:"text-blue-900",children:f.dutyInfo.tradeStatus})]})]}),f.dutyInfo.specialNote&&(0,ts.jsx)("div",{className:"mt-3 text-green-700 font-medium text-sm",children:f.dutyInfo.specialNote}),f.dutyInfo.verified&&(0,ts.jsxs)("div",{className:"mt-3 text-xs text-blue-600",children:["\u2713 CBP Verified Data - ",f.dutyInfo.source]})]})]})]})]})},bn=()=>(0,ts.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,ts.jsxs)("div",{className:"mb-8",children:[(0,ts.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Entry Summary Groups"}),(0,ts.jsx)("p",{className:"text-gray-600 mt-1",children:"CBP filing and duty calculations"})]}),(0,ts.jsxs)("div",{className:"bg-white shadow rounded-lg p-8 text-center",children:[(0,ts.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Entry Summary Groups Migration Pending"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"Component will be migrated from original ICRS."})]})]}),yn=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.queryCache=e.queryCache||new xt,this.mutationCache=e.mutationCache||new vt,this.logger=e.logger||at,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=lt.subscribe(()=>{lt.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ct.subscribe(()=>{ct.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=qe(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll((0,Oe.A)((0,Oe.A)({},e),{},{fetching:!0})).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){const s=Be(e,t,r),a=this.getQueryData(s.queryKey);return a?Promise.resolve(a):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(e=>{let{queryKey:t,state:r}=e;return[t,r.data]})}setQueryData(e,t,r){const s=this.queryCache.find(e),a=function(e,t){return"function"===typeof e?e(t):e}(t,null==s?void 0:s.state.data);if("undefined"===typeof a)return;const n=Be(e),i=this.defaultQueryOptions(n);return this.queryCache.build(this,i).setData(a,(0,Oe.A)((0,Oe.A)({},r),{},{manual:!0}))}setQueriesData(e,t,r){return nt.batch(()=>this.getQueryCache().findAll(e).map(e=>{let{queryKey:s}=e;return[s,this.setQueryData(s,t,r)]}))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){const[r]=qe(e,t),s=this.queryCache;nt.batch(()=>{s.findAll(r).forEach(e=>{s.remove(e)})})}resetQueries(e,t,r){const[s,a]=qe(e,t,r),n=this.queryCache,i=(0,Oe.A)({type:"active"},s);return nt.batch(()=>(n.findAll(s).forEach(e=>{e.reset()}),this.refetchQueries(i,a)))}cancelQueries(e,t,r){const[s,a={}]=qe(e,t,r);"undefined"===typeof a.revert&&(a.revert=!0);const n=nt.batch(()=>this.queryCache.findAll(s).map(e=>e.cancel(a)));return Promise.all(n).then(Me).catch(Me)}invalidateQueries(e,t,r){const[s,a]=qe(e,t,r);return nt.batch(()=>{var e,t;if(this.queryCache.findAll(s).forEach(e=>{e.invalidate()}),"none"===s.refetchType)return Promise.resolve();const r=(0,Oe.A)((0,Oe.A)({},s),{},{type:null!=(e=null!=(t=s.refetchType)?t:s.type)?e:"active"});return this.refetchQueries(r,a)})}refetchQueries(e,t,r){const[s,a]=qe(e,t,r),n=nt.batch(()=>this.queryCache.findAll(s).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,(0,Oe.A)((0,Oe.A)({},a),{},{cancelRefetch:null==(t=null==a?void 0:a.cancelRefetch)||t,meta:{refetchPage:s.refetchPage}}))}));let i=Promise.all(n).then(Me);return null!=a&&a.throwOnError||(i=i.catch(Me)),i}fetchQuery(e,t,r){const s=Be(e,t,r),a=this.defaultQueryOptions(s);"undefined"===typeof a.retry&&(a.retry=!1);const n=this.queryCache.build(this,a);return n.isStaleByTime(a.staleTime)?n.fetch(a):Promise.resolve(n.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(Me).catch(Me)}fetchInfiniteQuery(e,t,r){const s=Be(e,t,r);return s.behavior=jt(),this.fetchQuery(s)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(Me).catch(Me)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(t=>We(e)===We(t.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(t=>$e(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(t=>We(e)===We(t.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(t=>$e(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t=(0,Oe.A)((0,Oe.A)((0,Oe.A)((0,Oe.A)({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=Ve(t.queryKey,t)),"undefined"===typeof t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),"undefined"===typeof t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:(0,Oe.A)((0,Oe.A)((0,Oe.A)((0,Oe.A)({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}clear(){this.queryCache.clear(),this.mutationCache.clear()}}({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:(e,t)=>401!==(null===t||void 0===t?void 0:t.status)&&e<3,staleTime:3e5},mutations:{retry:(e,t)=>401!==(null===t||void 0===t?void 0:t.status)&&e<1}}}),vn=e=>{let{children:t,requiredRole:r=null}=e;const{user:s,isAuthenticated:a,loading:n,hasPermission:i}=ps();return n?(0,ts.jsx)($s,{}):a?r&&!i(r)?(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,ts.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):t:(0,ts.jsx)(fe,{to:"/login",replace:!0})},jn=e=>{let{children:t}=e;const{user:r,isAuthenticated:s}=ps(),[n,i]=(0,a.useState)(!1);return s?(0,ts.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,ts.jsx)(Ks,{isOpen:n,onClose:()=>i(!1),user:r}),(0,ts.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,ts.jsxs)("div",{className:"md:hidden flex items-center justify-between p-4 bg-white border-b",children:[(0,ts.jsx)("button",{onClick:()=>i(!0),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:(0,ts.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ts.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,ts.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"ICRS SPARC"}),(0,ts.jsx)("div",{className:"w-10"})," "]}),(0,ts.jsx)("main",{className:"flex-1 overflow-auto",children:t})]})]}):t},Nn=e=>{let{children:t}=e;const{isAuthenticated:r,user:s}=ps(),{initializeApp:n}=Ms();return(0,a.useEffect)(()=>{r&&s&&n()},[r,s,n]),t},wn=()=>(0,ts.jsx)(zs,{children:(0,ts.jsx)(Et,{client:yn,children:(0,ts.jsx)(hs,{children:(0,ts.jsx)(Is,{children:(0,ts.jsx)(Nn,{children:(0,ts.jsxs)(Ee,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[(0,ts.jsx)(jn,{children:(0,ts.jsxs)(be,{children:[(0,ts.jsx)(ge,{path:"/login",element:(0,ts.jsx)(Ia,{})}),(0,ts.jsx)(ge,{path:"/",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(fe,{to:"/dashboard",replace:!0})})}),(0,ts.jsx)(ge,{path:"/dashboard",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(Ma,{})})}),(0,ts.jsx)(ge,{path:"/inventory",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(Ua,{})})}),(0,ts.jsx)(ge,{path:"/preadmissions",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(Ba,{})})}),(0,ts.jsx)(ge,{path:"/preshipments",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(Qa,{})})}),(0,ts.jsx)(ge,{path:"/shipping",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)($a,{})})}),(0,ts.jsx)(ge,{path:"/receiving",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(Ga,{})})}),(0,ts.jsx)(ge,{path:"/parts",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(ln,{})})}),(0,ts.jsx)(ge,{path:"/hts-browser",element:(0,ts.jsx)(vn,{children:(0,ts.jsx)(xn,{})})}),(0,ts.jsx)(ge,{path:"/entry-summary-groups",element:(0,ts.jsx)(vn,{requiredRole:"manager",children:(0,ts.jsx)(bn,{})})}),(0,ts.jsx)(ge,{path:"/reports",element:(0,ts.jsx)(vn,{requiredRole:"manager",children:(0,ts.jsx)(on,{})})}),(0,ts.jsx)(ge,{path:"/admin",element:(0,ts.jsx)(vn,{requiredRole:"admin",children:(0,ts.jsx)(fn,{})})}),(0,ts.jsx)(ge,{path:"*",element:(0,ts.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,ts.jsxs)("div",{className:"text-center",children:[(0,ts.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),(0,ts.jsx)("p",{className:"text-gray-600 mb-4",children:"The page you're looking for doesn't exist."}),(0,ts.jsx)("a",{href:"/dashboard",className:"text-blue-600 hover:text-blue-500",children:"Go to Dashboard"})]})})})]})}),(0,ts.jsx)(Hr,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#059669"}},error:{duration:5e3,style:{background:"#DC2626"}}}}),(0,ts.jsx)(Oa,{})]})})})})})});({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_APP_NAME:"ICRS SPARC",REACT_APP_APP_VERSION:"1.0.0",REACT_APP_CACHE_DURATION:"300000",REACT_APP_ENABLE_ANALYTICS:"true",REACT_APP_ENABLE_DEBUG:"true",REACT_APP_ENABLE_ERROR_REPORTING:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_ENVIRONMENT:"development",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpcm5raHB5dHdmcnJkZWRjZGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NjY3MzMsImV4cCI6MjA3MjA0MjczM30.vIUhtdhKnLEPVq5PIbSvnk2EqerY7Szv7bsJsA-28mw",REACT_APP_SUPABASE_URL:"https://qirnkhpytwfrrdedcdfa.supabase.co",REACT_APP_VERCEL_ANALYTICS_ID:""}).REACT_APP_SENTRY_DSN&&r.e(760).then(r.bind(r,760)).then(e=>{e.init({dsn:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"/api",REACT_APP_APP_NAME:"ICRS SPARC",REACT_APP_APP_VERSION:"1.0.0",REACT_APP_CACHE_DURATION:"300000",REACT_APP_ENABLE_ANALYTICS:"true",REACT_APP_ENABLE_DEBUG:"true",REACT_APP_ENABLE_ERROR_REPORTING:"true",REACT_APP_ENABLE_MOCK_DATA:"false",REACT_APP_ENVIRONMENT:"development",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpcm5raHB5dHdmcnJkZWRjZGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NjY3MzMsImV4cCI6MjA3MjA0MjczM30.vIUhtdhKnLEPVq5PIbSvnk2EqerY7Szv7bsJsA-28mw",REACT_APP_SUPABASE_URL:"https://qirnkhpytwfrrdedcdfa.supabase.co",REACT_APP_VERCEL_ANALYTICS_ID:""}.REACT_APP_SENTRY_DSN,environment:"production",integrations:[new e.BrowserTracing,new e.Replay],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1})});const _n=document.getElementById("root");(0,i.H)(_n).render((0,ts.jsx)(a.StrictMode,{children:(0,ts.jsx)(wn,{})}))})();