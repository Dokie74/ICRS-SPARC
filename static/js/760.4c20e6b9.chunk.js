/*! For license information please see 760.4c20e6b9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkicrs_sparc_frontend=self.webpackChunkicrs_sparc_frontend||[]).push([[760],{138:(t,e)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function S(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case d:case i:case a:case s:case h:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case m:case c:return t;default:return e}}case o:return e}}}function w(t){return S(t)===d}e.AsyncMode=u,e.ConcurrentMode=d,e.ContextConsumer=l,e.ContextProvider=c,e.Element=r,e.ForwardRef=p,e.Fragment=i,e.Lazy=g,e.Memo=m,e.Portal=o,e.Profiler=a,e.StrictMode=s,e.Suspense=h,e.isAsyncMode=function(t){return w(t)||S(t)===u},e.isConcurrentMode=w,e.isContextConsumer=function(t){return S(t)===l},e.isContextProvider=function(t){return S(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return S(t)===p},e.isFragment=function(t){return S(t)===i},e.isLazy=function(t){return S(t)===g},e.isMemo=function(t){return S(t)===m},e.isPortal=function(t){return S(t)===o},e.isProfiler=function(t){return S(t)===a},e.isStrictMode=function(t){return S(t)===s},e.isSuspense=function(t){return S(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===i||t===d||t===a||t===s||t===h||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===y||t.$$typeof===_||t.$$typeof===b||t.$$typeof===v)},e.typeOf=S},630:(t,e,n)=>{t.exports=n(138)},760:(t,e,n)=>{n.r(e),n.d(e,{BrowserClient:()=>mc,ErrorBoundary:()=>Xv,OpenFeatureIntegrationHook:()=>Tv,Profiler:()=>Vv,SDK_VERSION:()=>a,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Zn,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Qn,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Yn,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Jn,Scope:()=>vt,WINDOW:()=>Yo,addBreadcrumb:()=>ns,addEventProcessor:()=>Vo,addIntegration:()=>Nt,breadcrumbsIntegration:()=>_l,browserApiErrorsIntegration:()=>Sl,browserProfilingIntegration:()=>kv,browserSessionIntegration:()=>xl,browserTracingIntegration:()=>Bg,buildLaunchDarklyFlagUsedHandler:()=>Cv,captureConsoleIntegration:()=>ds,captureEvent:()=>Lo,captureException:()=>Ro,captureFeedback:()=>Rt,captureMessage:()=>Oo,captureReactException:()=>Bv,captureSession:()=>Jo,chromeStackLineParser:()=>Oc,close:()=>zo,consoleLoggingIntegration:()=>hs,contextLinesIntegration:()=>tu,continueTrace:()=>Cs,createReduxEnhancer:()=>ny,createTransport:()=>Ws,createUserFeedbackEnvelope:()=>Vc,dedupeIntegration:()=>qs,defaultRequestInstrumentationOptions:()=>dg,defaultStackLineParsers:()=>zc,defaultStackParser:()=>Wc,diagnoseSdkConnectivity:()=>Ov,endSession:()=>$o,eventFiltersIntegration:()=>Js,eventFromException:()=>uc,eventFromMessage:()=>dc,exceptionFromError:()=>nc,extraErrorDataIntegration:()=>Qs,featureFlagsIntegration:()=>aa,feedbackAsyncIntegration:()=>oi,feedbackIntegration:()=>ii,feedbackSyncIntegration:()=>ii,flush:()=>Ho,forceLoad:()=>Bl,functionToStringIntegration:()=>ua,geckoStackLineParser:()=>Pc,getActiveSpan:()=>Qr,getClient:()=>It,getCurrentScope:()=>Et,getDefaultIntegrations:()=>Nl,getFeedback:()=>ye,getGlobalScope:()=>Ct,getIsolationScope:()=>xt,getReplay:()=>mm,getRootSpan:()=>Zr,getSpanDescendants:()=>Xr,getSpanStatusFromHttpCode:()=>Cr,getTraceData:()=>da,globalHandlersIntegration:()=>Cl,graphqlClientIntegration:()=>au,httpClientIntegration:()=>Gl,httpContextIntegration:()=>Il,inboundFiltersIntegration:()=>Ys,init:()=>Fv,instrumentOutgoingRequests:()=>pg,instrumentSupabaseClient:()=>wa,isEnabled:()=>qo,isInitialized:()=>Wo,lastEventId:()=>jo,launchDarklyIntegration:()=>xv,lazyLoadIntegration:()=>ri,linkedErrorsIntegration:()=>Dl,logger:()=>r,makeBrowserOfflineTransport:()=>Qg,makeFetchTransport:()=>Cc,makeMultiplexedTransport:()=>xa,moduleMetadataIntegration:()=>Ra,onLoad:()=>Ul,openFeatureIntegration:()=>Av,opera10StackLineParser:()=>Uc,opera11StackLineParser:()=>Hc,parameterize:()=>Gi,reactErrorHandler:()=>Uv,reactRouterV3BrowserTracingIntegration:()=>ry,reactRouterV4BrowserTracingIntegration:()=>ay,reactRouterV5BrowserTracingIntegration:()=>cy,reactRouterV6BrowserTracingIntegration:()=>Xy,reactRouterV7BrowserTracingIntegration:()=>n_,registerSpanErrorInstrumentation:()=>Ua,registerWebWorker:()=>Pv,replayCanvasIntegration:()=>Jm,replayIntegration:()=>pm,reportingObserverIntegration:()=>Wl,rewriteFramesIntegration:()=>Va,sendFeedback:()=>ae,setContext:()=>Do,setCurrentClient:()=>Ga,setExtra:()=>No,setExtras:()=>Po,setHttpStatus:()=>Ar,setMeasurement:()=>vs,setTag:()=>Bo,setTags:()=>Fo,setUser:()=>Uo,showReportDialog:()=>jl,spanToBaggageHeader:()=>ao,spanToJSON:()=>Vr,spanToTraceHeader:()=>Hr,spotlightBrowserIntegration:()=>Ev,startBrowserTracingNavigationSpan:()=>jg,startBrowserTracingPageLoadSpan:()=>Ug,startInactiveSpan:()=>xs,startNewTrace:()=>Is,startSession:()=>Go,startSpan:()=>ks,startSpanManual:()=>Es,statsigIntegration:()=>Rv,supabaseIntegration:()=>ka,suppressTracing:()=>Ts,tanstackRouterBrowserTracingIntegration:()=>iy,thirdPartyErrorFilterIntegration:()=>$a,unleashIntegration:()=>Iv,updateSpanName:()=>eo,useProfiler:()=>$v,webWorkerIntegration:()=>Lv,winjsStackLineParser:()=>Fc,withActiveSpan:()=>As,withErrorBoundary:()=>Zv,withIsolationScope:()=>Tt,withProfiler:()=>Gv,withScope:()=>At,withSentryReactRouterV6Routing:()=>e_,withSentryReactRouterV7Routing:()=>r_,withSentryRouting:()=>dy,wrapCreateBrowserRouterV6:()=>Qy,wrapCreateBrowserRouterV7:()=>o_,wrapCreateMemoryRouterV6:()=>t_,wrapCreateMemoryRouterV7:()=>i_,wrapUseRoutesV6:()=>Zy,wrapUseRoutesV7:()=>s_,zodErrorsIntegration:()=>Qa});var r={};n.r(r),n.d(r,{debug:()=>Yi,error:()=>Qi,fatal:()=>ts,fmt:()=>$i,info:()=>Xi,trace:()=>Ji,warn:()=>Zi});var o=n(986),i=n(51);const s=globalThis,a="10.10.0";function c(){return l(s),s}function l(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||a,e[a]=e[a]||{}}function u(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const r=n.__SENTRY__=n.__SENTRY__||{},o=r[a]=r[a]||{};return o[t]||(o[t]=e())}const d="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,p=Object.prototype.toString;function h(t){switch(p.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return k(t,Error)}}function f(t,e){return p.call(t)==="[object ".concat(e,"]")}function m(t){return f(t,"ErrorEvent")}function g(t){return f(t,"DOMError")}function v(t){return f(t,"String")}function y(t){return"object"===typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function _(t){return null===t||y(t)||"object"!==typeof t&&"function"!==typeof t}function b(t){return f(t,"Object")}function S(t){return"undefined"!==typeof Event&&k(t,Event)}function w(t){return Boolean((null===t||void 0===t?void 0:t.then)&&"function"===typeof t.then)}function k(t,e){try{return t instanceof e}catch(n){return!1}}function E(t){return!("object"!==typeof t||null===t||!t.__isVue&&!t._isVue)}function x(t){return"undefined"!==typeof Request&&k(t,Request)}const C=s,A=80;function T(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let l;const u=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||A;for(;n&&i++<r&&(l=I(n,u),!("html"===l||i>1&&s+o.length*c+l.length>=d));)o.push(l),s+=l.length,n=n.parentNode;return o.reverse().join(a)}catch(n){return"<unknown>"}}function I(t,e){const n=t,r=[];if(null===n||void 0===n||!n.tagName)return"";if(C.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=null!==e&&void 0!==e&&e.length?e.filter(t=>n.getAttribute(t)).map(t=>[t,n.getAttribute(t)]):null;if(null!==o&&void 0!==o&&o.length)o.forEach(t=>{r.push("[".concat(t[0],'="').concat(t[1],'"]'))});else{n.id&&r.push("#".concat(n.id));const t=n.className;if(t&&v(t)){const e=t.split(/\s+/);for(const t of e)r.push(".".concat(t))}}const i=["aria-label","type","name","title","alt"];for(const s of i){const t=n.getAttribute(s);t&&r.push("[".concat(s,'="').concat(t,'"]'))}return r.join("")}function M(){try{return C.document.location.href}catch(t){return""}}function R(t){if(!C.HTMLElement)return null;let e=t;for(let n=0;n<5;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}const O=["debug","info","warn","error","log","assert","trace"],L={};function D(t){if(!("console"in s))return t();const e=s.console,n={},r=Object.keys(L);r.forEach(t=>{const r=L[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(t=>{e[t]=n[t]})}}function P(){return F().enabled}function N(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];d&&P()&&D(()=>{s.console[t]("".concat("Sentry Logger ","[").concat(t,"]:"),...n)})}function F(){return d?u("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const B={enable:function(){F().enabled=!0},disable:function(){F().enabled=!1},isEnabled:P,log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];N("log",...e)},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];N("warn",...e)},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];N("error",...e)}};function U(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof t||0===e||t.length<=e?t:"".concat(t.slice(0,e),"...")}function j(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let o=Math.max(e-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} ".concat(n)),i<r&&(n+=" {snip}"),n}function H(t,e){if(!Array.isArray(t))return"";const n=[];for(let o=0;o<t.length;o++){const e=t[o];try{E(e)?n.push("[VueViewModel]"):n.push(String(e))}catch(r){n.push("[value cannot be serialized]")}}return n.join(e)}function z(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!v(t)&&(f(e,"RegExp")?e.test(t):!!v(e)&&(n?t===e:t.includes(e)))}function W(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(n=>z(t,n,e))}function q(t,e,n){if(!(e in t))return;const r=t[e];if("function"!==typeof r)return;const o=n(r);"function"===typeof o&&G(o,r);try{t[e]=o}catch(i){d&&B.log('Failed to replace method "'.concat(e,'" in object'),t)}}function V(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(r){d&&B.log('Failed to add non-enumerable property "'.concat(e,'" to object'),t)}}function G(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,V(t,"__sentry_original__",e)}catch(n){}}function $(t){return t.__sentry_original__}function K(t){if(h(t))return(0,i.A)({message:t.message,name:t.name,stack:t.stack},Y(t));if(S(t)){const e=(0,i.A)({type:t.type,target:J(t.target),currentTarget:J(t.currentTarget)},Y(t));return"undefined"!==typeof CustomEvent&&k(t,CustomEvent)&&(e.detail=t.detail),e}return t}function J(t){try{return e=t,"undefined"!==typeof Element&&k(e,Element)?T(t):Object.prototype.toString.call(t)}catch(n){return"<unknown>"}var e}function Y(t){if("object"===typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function X(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const t=s;return t.crypto||t.msCrypto}(),e=()=>16*Math.random();try{if(null!==t&&void 0!==t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");null!==t&&void 0!==t&&t.getRandomValues&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,t=>(t^(15&e())>>t/4).toString(16))}function Z(t){var e;return null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e?void 0:e[0]}function Q(t){const{message:e,event_id:n}=t;if(e)return e;const r=Z(t);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function tt(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function et(t,e){const n=Z(t);if(!n)return;const r=n.mechanism;if(n.mechanism=(0,i.A)((0,i.A)((0,i.A)({},{type:"generic",handled:!0}),r),e),e&&"data"in e){const t=(0,i.A)((0,i.A)({},null===r||void 0===r?void 0:r.data),e.data);n.mechanism.data=t}}function nt(t){if(function(t){try{return t.__sentry_captured__}catch(e){}}(t))return!0;try{V(t,"__sentry_captured__",!0)}catch(e){}return!1}const rt=1e3;function ot(){return Date.now()/rt}let it,st;function at(){return(null!==it&&void 0!==it?it:it=function(){const{performance:t}=s;if(null===t||void 0===t||!t.now||!t.timeOrigin)return ot;const e=t.timeOrigin;return()=>(e+t.now())/rt}())()}function ct(){return st||(st=function(){var t;const{performance:e}=s;if(null===e||void 0===e||!e.now)return[void 0,"none"];const n=36e5,r=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-o):n,a=i<n,c=null===(t=e.timing)||void 0===t?void 0:t.navigationStart,l="number"===typeof c?Math.abs(c+r-o):n;return a||l<n?i<=l?[e.timeOrigin,"timeOrigin"]:[c,"navigationStart"]:[o,"dateNow"]}()),st[0]}function lt(t){const e=at(),n={sid:X(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return{sid:"".concat(t.sid),init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"===typeof t.did||"string"===typeof t.did?"".concat(t.did):void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(n)};return t&&ut(n,t),n}function ut(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||at(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:X()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did="".concat(e.did)),"number"===typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"===typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"===typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function dt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e||"object"!==typeof e||n<=0)return e;if(t&&0===Object.keys(e).length)return t;const r=(0,i.A)({},t);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=dt(r[o],e[o],n-1));return r}function pt(){return X()}function ht(){return X().substring(16)}const ft="_sentrySpan";function mt(t,e){e?V(t,ft,e):delete t[ft]}function gt(t){return t[ft]}class vt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:pt(),sampleRand:Math.random()}}clone(){const t=new vt;return t._breadcrumbs=[...this._breadcrumbs],t._tags=(0,i.A)({},this._tags),t._extra=(0,i.A)({},this._extra),t._contexts=(0,i.A)({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata=(0,i.A)({},this._sdkProcessingMetadata),t._propagationContext=(0,i.A)({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,mt(t,gt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ut(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags=(0,i.A)((0,i.A)({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,e){return this._tags=(0,i.A)((0,i.A)({},this._tags),{},{[t]:e}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=(0,i.A)((0,i.A)({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,e){return this._extra=(0,i.A)((0,i.A)({},this._extra),{},{[t]:e}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"===typeof t?t(this):t,n=e instanceof vt?e.getScopeData():b(e)?t:void 0,{tags:r,extra:o,user:s,contexts:a,level:c,fingerprint:l=[],propagationContext:u}=n||{};return this._tags=(0,i.A)((0,i.A)({},this._tags),r),this._extra=(0,i.A)((0,i.A)({},this._extra),o),this._contexts=(0,i.A)((0,i.A)({},this._contexts),a),s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),l.length&&(this._fingerprint=l),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,mt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:pt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"===typeof e?e:100;if(n<=0)return this;const r=(0,i.A)((0,i.A)({timestamp:ot()},t),{},{message:t.message?U(t.message,2048):t.message});var o;(this._breadcrumbs.push(r),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(o=this._client)||void 0===o||o.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=dt(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=(null===e||void 0===e?void 0:e.event_id)||X();if(!this._client)return d&&B.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,(0,i.A)((0,i.A)({originalException:t,syntheticException:r},e),{},{event_id:n}),this),n}captureMessage(t,e,n){const r=(null===n||void 0===n?void 0:n.event_id)||X();if(!this._client)return d&&B.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,(0,i.A)((0,i.A)({originalException:t,syntheticException:o},n),{},{event_id:r}),this),r}captureEvent(t,e){const n=(null===e||void 0===e?void 0:e.event_id)||X();return this._client?(this._client.captureEvent(t,(0,i.A)((0,i.A)({},e),{},{event_id:n}),this),n):(d&&B.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}class yt{constructor(t,e){let n,r;n=t||new vt,r=e||new vt,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(cn){throw this._popScope(),cn}return w(n)?n.then(t=>(this._popScope(),t),t=>{throw this._popScope(),t}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function _t(){const t=l(c());return t.stack=t.stack||new yt(u("defaultCurrentScope",()=>new vt),u("defaultIsolationScope",()=>new vt))}function bt(t){return _t().withScope(t)}function St(t,e){const n=_t();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function wt(t){return _t().withScope(()=>t(_t().getIsolationScope()))}function kt(t){const e=l(t);return e.acs?e.acs:{withIsolationScope:wt,withScope:bt,withSetScope:St,withSetIsolationScope:(t,e)=>wt(e),getCurrentScope:()=>_t().getScope(),getIsolationScope:()=>_t().getIsolationScope()}}function Et(){return kt(c()).getCurrentScope()}function xt(){return kt(c()).getIsolationScope()}function Ct(){return u("globalScope",()=>new vt)}function At(){const t=kt(c());for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(2===n.length){const[e,r]=n;return e?t.withSetScope(e,r):t.withScope(r)}return t.withScope(n[0])}function Tt(){const t=kt(c());for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(2===n.length){const[e,r]=n;return e?t.withSetIsolationScope(e,r):t.withIsolationScope(r)}return t.withIsolationScope(n[0])}function It(){return Et().getClient()}function Mt(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=e,i={trace_id:n,span_id:o||ht()};return r&&(i.parent_span_id=r),i}function Rt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et();const{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:l}=t,u={contexts:{feedback:{contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:l},d=(null===n||void 0===n?void 0:n.getClient())||It();d&&d.emit("beforeSendFeedback",u,e);return n.captureEvent(u,e)}const Ot=[];function Lt(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;if(e.forEach(t=>{t.isDefaultInstance=!0}),Array.isArray(n))r=[...e,...n];else if("function"===typeof n){const t=n(e);r=Array.isArray(t)?t:[t]}else r=e;return function(t){const e={};return t.forEach(t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)}),Object.values(e)}(r)}function Dt(t,e){for(const n of e)null!==n&&void 0!==n&&n.afterAllSetup&&n.afterAllSetup(t)}function Pt(t,e,n){if(n[e.name])d&&B.log("Integration skipped because it was already installed: ".concat(e.name));else{if(n[e.name]=e,-1===Ot.indexOf(e.name)&&"function"===typeof e.setupOnce&&(e.setupOnce(),Ot.push(e.name)),e.setup&&"function"===typeof e.setup&&e.setup(t),"function"===typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(e,r)=>n(e,r,t))}if("function"===typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign((e,r)=>n(e,r,t),{id:e.name});t.addEventProcessor(r)}d&&B.log("Integration installed: ".concat(e.name))}}function Nt(t){const e=It();e?e.addIntegration(t):d&&B.warn('Cannot add integration "'.concat(t.name,'" because no SDK Client is available.'))}function Ft(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function Bt(){return"undefined"!==typeof window&&(!Ft()||function(){const t=s.process;return"renderer"===(null===t||void 0===t?void 0:t.type)}())}const Ut=["open","onFormSubmitted"],jt=s,Ht=jt.document,zt=jt.navigator,Wt="Report a Bug",qt="Cancel",Vt="Send Bug Report",Gt="Confirm",$t="Report a Bug",Kt="your.email@example.org",Jt="Email",Yt="What's the bug? What did you expect?",Xt="Description",Zt="Your Name",Qt="Name",te="Thank you for your report!",ee="(required)",ne="Add a screenshot",re="Remove screenshot",oe="Highlight",ie="Hide",se="Remove",ae=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeReplay:!0};if(!t.message)throw new Error("Unable to submit feedback with empty message");const n=It();if(!n)throw new Error("No client setup, cannot send feedback.");t.tags&&Object.keys(t.tags).length&&Et().setTags(t.tags);const r=Rt((0,i.A)({source:"api",url:M()},t),e);return new Promise((t,e)=>{const o=setTimeout(()=>e("Unable to determine if Feedback was correctly sent."),3e4),i=n.on("afterSendEvent",(n,s)=>{if(n.event_id===r)return clearTimeout(o),i(),null!==s&&void 0!==s&&s.statusCode&&s.statusCode>=200&&s.statusCode<300?t(r):403===(null===s||void 0===s?void 0:s.statusCode)?e("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):e("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},ce="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function le(t,e){return(0,i.A)((0,i.A)((0,i.A)({},t),e),{},{tags:(0,i.A)((0,i.A)({},t.tags),e.tags),onFormOpen:()=>{var n,r;null===(n=e.onFormOpen)||void 0===n||n.call(e),null===(r=t.onFormOpen)||void 0===r||r.call(t)},onFormClose:()=>{var n,r;null===(n=e.onFormClose)||void 0===n||n.call(e),null===(r=t.onFormClose)||void 0===r||r.call(t)},onSubmitSuccess:(n,r)=>{var o,i;null===(o=e.onSubmitSuccess)||void 0===o||o.call(e,n,r),null===(i=t.onSubmitSuccess)||void 0===i||i.call(t,n,r)},onSubmitError:n=>{var r,o;null===(r=e.onSubmitError)||void 0===r||r.call(e,n),null===(o=t.onSubmitError)||void 0===o||o.call(t,n)},onFormSubmitted:()=>{var n,r;null===(n=e.onFormSubmitted)||void 0===n||n.call(e),null===(r=t.onFormSubmitted)||void 0===r||r.call(t)},themeDark:(0,i.A)((0,i.A)({},t.themeDark),e.themeDark),themeLight:(0,i.A)((0,i.A)({},t.themeLight),e.themeLight)})}function ue(t,e){return Object.entries(e).forEach(e=>{let[n,r]=e;t.setAttributeNS(null,n,r)}),t}const de=20;function pe(t){let{triggerLabel:e,triggerAriaLabel:n,shadow:r,styleNonce:o}=t;const i=Ht.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=n||e||Wt,i.appendChild(function(){const t=t=>jt.document.createElementNS("http://www.w3.org/2000/svg",t),e=ue(t("svg"),{width:"".concat(de),height:"".concat(de),viewBox:"0 0 ".concat(de," ").concat(de),fill:"var(--actor-color, var(--foreground))"}),n=ue(t("g"),{clipPath:"url(#clip0_57_80)"}),r=ue(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const o=t("defs"),i=ue(t("clipPath"),{id:"clip0_57_80"}),s=ue(t("rect"),{width:"".concat(de),height:"".concat(de),fill:"white"});return i.appendChild(s),o.appendChild(i),e.appendChild(o).appendChild(i).appendChild(s),e}()),e){const t=Ht.createElement("span");t.appendChild(Ht.createTextNode(e)),i.appendChild(t)}const s=function(t){const e=Ht.createElement("style");return e.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',t&&e.setAttribute("nonce",t),e}(o);return{el:i,appendToDom(){r.appendChild(s),r.appendChild(i)},removeFromDom(){i.remove(),s.remove()},show(){i.ariaHidden="false"},hide(){i.ariaHidden="true"}}}const he="rgba(88, 74, 192, 1)",fe={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:he,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},me={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:he,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function ge(t){return"\n  --foreground: ".concat(t.foreground,";\n  --background: ").concat(t.background,";\n  --accent-foreground: ").concat(t.accentForeground,";\n  --accent-background: ").concat(t.accentBackground,";\n  --success-color: ").concat(t.successColor,";\n  --error-color: ").concat(t.errorColor,";\n  --border: ").concat(t.border,";\n  --box-shadow: ").concat(t.boxShadow,";\n  --outline: ").concat(t.outline,";\n  --interactive-filter: ").concat(t.interactiveFilter,";\n  ")}const ve=t=>{let{lazyLoadIntegration:e,getModalIntegration:n,getScreenshotIntegration:r}=t;return function(){let{id:t="sentry-feedback",autoInject:o=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:l=!0,showName:u=!0,enableScreenshot:d=!0,useSentryUser:p={email:"email",name:"username"},tags:h,styleNonce:f,scriptNonce:m,colorScheme:g="system",themeLight:v={},themeDark:y={},addScreenshotButtonLabel:_=ne,cancelButtonLabel:b=qt,confirmButtonLabel:S=Gt,emailLabel:w=Jt,emailPlaceholder:k=Kt,formTitle:E=$t,isRequiredLabel:x=ee,messageLabel:C=Xt,messagePlaceholder:A=Yt,nameLabel:T=Qt,namePlaceholder:I=Zt,removeScreenshotButtonLabel:M=re,submitButtonLabel:R=Vt,successMessageText:O=te,triggerLabel:L=Wt,triggerAriaLabel:D="",highlightToolText:P=oe,hideToolText:N=ie,removeHighlightText:F=se,onFormOpen:U,onFormClose:j,onSubmitSuccess:H,onSubmitError:z,onFormSubmitted:W}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const q={id:t,autoInject:o,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:l,showName:u,enableScreenshot:d,useSentryUser:p,tags:h,styleNonce:f,scriptNonce:m,colorScheme:g,themeDark:y,themeLight:v,triggerLabel:L,triggerAriaLabel:D,cancelButtonLabel:b,submitButtonLabel:R,confirmButtonLabel:S,formTitle:E,emailLabel:w,emailPlaceholder:k,messageLabel:C,messagePlaceholder:A,nameLabel:T,namePlaceholder:I,successMessageText:O,isRequiredLabel:x,addScreenshotButtonLabel:_,removeScreenshotButtonLabel:M,highlightToolText:P,hideToolText:N,removeHighlightText:F,onFormClose:j,onFormOpen:U,onSubmitError:z,onSubmitSuccess:H,onFormSubmitted:W};let V=null,G=[];const $=t=>{if(!V){const e=Ht.createElement("div");e.id=String(t.id),Ht.body.appendChild(e),V=e.attachShadow({mode:"open"}),V.appendChild(function(t){let{colorScheme:e,themeDark:n,themeLight:r,styleNonce:o}=t;const s=Ht.createElement("style");return s.textContent="\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ".concat("system"!==e?"color-scheme: only light;":"","\n\n  ").concat(ge("dark"===e?(0,i.A)((0,i.A)({},me),n):(0,i.A)((0,i.A)({},fe),r)),"\n}\n\n").concat("system"===e?"\n@media (prefers-color-scheme: dark) {\n  :host {\n    ".concat(ge((0,i.A)((0,i.A)({},me),n)),"\n  }\n}"):"","\n}\n"),o&&s.setAttribute("nonce",o),s}(t))}return V},K=async t=>{const o=t.enableScreenshot&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(zt.userAgent)&&!(/Macintosh/i.test(zt.userAgent)&&zt.maxTouchPoints&&zt.maxTouchPoints>1)&&!!isSecureContext;let s,a;try{s=(n?n():await e("feedbackModalIntegration",m))(),Nt(s)}catch(l){throw ce&&B.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const t=o?r?r():await e("feedbackScreenshotIntegration",m):void 0;t&&(a=t(),Nt(a))}catch(u){ce&&B.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const c=s.createDialog({options:(0,i.A)((0,i.A)({},t),{},{onFormClose:()=>{var e;null===c||void 0===c||c.close(),null===(e=t.onFormClose)||void 0===e||e.call(t)},onFormSubmitted:()=>{var e;null===c||void 0===c||c.close(),null===(e=t.onFormSubmitted)||void 0===e||e.call(t)}}),screenshotIntegration:a,sendFeedback:ae,shadow:$(t)});return c},J=function(t){const e=le(q,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n="string"===typeof t?Ht.querySelector(t):"function"===typeof t.addEventListener?t:null;if(!n)throw ce&&B.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let r=null;const o=async()=>{r||(r=await K((0,i.A)((0,i.A)({},e),{},{onFormSubmitted:()=>{var t,n;null===(t=r)||void 0===t||t.removeFromDom(),null===(n=e.onFormSubmitted)||void 0===n||n.call(e)}}))),r.appendToDom(),r.open()};n.addEventListener("click",o);const s=()=>{var t;G=G.filter(t=>t!==s),null===(t=r)||void 0===t||t.removeFromDom(),r=null,n.removeEventListener("click",o)};return G.push(s),s},Y=function(){const t=le(q,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e=$(t),n=pe({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:e,styleNonce:f});return J(n.el,(0,i.A)((0,i.A)({},t),{},{onFormOpen(){n.hide()},onFormClose(){n.show()},onFormSubmitted(){n.show()}})),n};return{name:"Feedback",setupOnce(){Bt()&&q.autoInject&&("loading"===Ht.readyState?Ht.addEventListener("DOMContentLoaded",()=>Y().appendToDom()):Y().appendToDom())},attachTo:J,createWidget(){const t=Y(le(q,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}));return t.appendToDom(),t},async createForm(){return K(le(q,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))},remove(){var t;V&&(null===(t=V.parentElement)||void 0===t||t.remove(),V=null);G.forEach(t=>t()),G=[]}}}};function ye(){const t=It();return null===t||void 0===t?void 0:t.getIntegrationByName("Feedback")}var _e,be,Se,we,ke,Ee,xe,Ce={},Ae=[],Te=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ie=Array.isArray;function Me(t,e){for(var n in e)t[n]=e[n];return t}function Re(t){var e=t.parentNode;e&&e.removeChild(t)}function Oe(t,e,n){var r,o,i,s={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?_e.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===s[i]&&(s[i]=t.defaultProps[i]);return Le(t,s,r,o,null)}function Le(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++Se:o,__i:-1,__u:0};return null==o&&null!=be.vnode&&be.vnode(i),i}function De(t){return t.children}function Pe(t,e){this.props=t,this.context=e}function Ne(t,e){if(null==e)return t.__?Ne(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?Ne(t):null}function Fe(t,e,n){var r,o=t.__v,i=o.__e,s=t.__P;if(s)return(r=Me({},o)).__v=o.__v+1,be.vnode&&be.vnode(r),Ke(s,r,o,t.__n,void 0!==s.ownerSVGElement,32&o.__u?[i]:null,e,null==i?Ne(o):i,!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Be(r),r}function Be(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return Be(t)}}function Ue(t){(!t.__d&&(t.__d=!0)&&we.push(t)&&!je.__r++||ke!==be.debounceRendering)&&((ke=be.debounceRendering)||Ee)(je)}function je(){var t,e,n,r=[],o=[];for(we.sort(xe);t=we.shift();)t.__d&&(n=we.length,e=Fe(t,r,o)||e,0===n||we.length>n?(Je(r,e,o),o.length=r.length=0,e=void 0,we.sort(xe)):e&&be.__c&&be.__c(e,Ae));e&&Je(r,e,o),je.__r=0}function He(t,e,n,r,o,i,s,a,c,l,u){var d,p,h,f,m,g=r&&r.__k||Ae,v=e.length;for(n.__d=c,function(t,e,n){var r,o,i,s,a,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)null!=(o=t.__k[r]=null==(o=e[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?Le(null,o,null,null,o):Ie(o)?Le(De,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?Le(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=t,o.__b=t.__b+1,a=We(o,n,s=r+d,u),o.__i=a,i=null,-1!==a&&(u--,(i=n[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&d--,"function"!=typeof o.type&&(o.__u|=65536)):a!==s&&(a===s+1?d++:a>s?u>c-s?d+=a-s:d--:d=a<s&&a==s-1?a-s:0,a!==r+d&&(o.__u|=65536))):(i=n[r])&&null==i.key&&i.__e&&(i.__e==t.__d&&(t.__d=Ne(i)),Ze(i,i,!1),n[r]=null,u--);if(u)for(r=0;r<l;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==t.__d&&(t.__d=Ne(i)),Ze(i,i))}(n,e,g),c=n.__d,d=0;d<v;d++)null!=(h=n.__k[d])&&"boolean"!=typeof h&&"function"!=typeof h&&(p=-1===h.__i?Ce:g[h.__i]||Ce,h.__i=d,Ke(t,h,p,o,i,s,a,c,l,u),f=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&Xe(p.ref,null,h),u.push(h.ref,h.__c||f,h)),null==m&&null!=f&&(m=f),65536&h.__u||p.__k===h.__k?c=ze(h,c,t):"function"==typeof h.type&&void 0!==h.__d?c=h.__d:f&&(c=f.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=m}function ze(t,e,n){var r,o;if("function"==typeof t.type){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=ze(r[o],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function We(t,e,n,r){var o=t.key,i=t.type,s=n-1,a=n+1,c=e[n];if(null===c||c&&o==c.key&&i===c.type)return n;if(r>(null!=c&&0==(131072&c.__u)?1:0))for(;s>=0||a<e.length;){if(s>=0){if((c=e[s])&&0==(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<e.length){if((c=e[a])&&0==(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function qe(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||Te.test(e)?n:n+"px"}function Ve(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||qe(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||qe(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?$e:Ge,i)):t.removeEventListener(e,i?$e:Ge,i);else{if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function Ge(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(be.event?be.event(t):t)}}function $e(t){if(this.l)return this.l[t.type+!0](be.event?be.event(t):t)}function Ke(t,e,n,r,o,i,s,a,c,l){var u,d,p,h,f,m,g,v,y,_,b,S,w,k,E,x=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=e.__e=n.__e]),(u=be.__b)&&u(e);t:if("function"==typeof x)try{if(v=e.props,y=(u=x.contextType)&&r[u.__c],_=u?y?y.props.value:u.__:r,n.__c?g=(d=e.__c=n.__c).__=d.__E:("prototype"in x&&x.prototype.render?e.__c=d=new x(v,_):(e.__c=d=new Pe(v,_),d.constructor=x,d.render=Qe),y&&y.sub(d),d.props=v,d.state||(d.state={}),d.context=_,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Me({},d.__s)),Me(d.__s,x.getDerivedStateFromProps(v,d.__s))),h=d.props,f=d.state,d.__v=e,p)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&v!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,_),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,_)||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(t){t&&(t.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,_),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,m)})}if(d.context=_,d.props=v,d.__P=t,d.__e=!1,S=be.__r,w=0,"prototype"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++w<25);d.state=d.__s,null!=d.getChildContext&&(r=Me(Me({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(h,f)),He(t,Ie(E=null!=u&&u.type===De&&null==u.key?u.props.children:u)?E:[E],e,n,r,o,i,s,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&s.push(d),g&&(d.__E=d.__=null)}catch(t){e.__v=null,c||null!=i?(e.__e=a,e.__u|=c?160:32,i[i.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),be.__e(t,e,n)}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ye(n.__e,e,n,r,o,i,s,c,l);(u=be.diffed)&&u(e)}function Je(t,e,n){for(var r=0;r<n.length;r++)Xe(n[r],n[++r],n[++r]);be.__c&&be.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){be.__e(t,e.__v)}})}function Ye(t,e,n,r,o,i,s,a,c){var l,u,d,p,h,f,m,g=n.props,v=e.props,y=e.type;if("svg"===y&&(o=!0),null!=i)for(l=0;l<i.length;l++)if((h=i[l])&&"setAttribute"in h==!!y&&(y?h.localName===y:3===h.nodeType)){t=h,i[l]=null;break}if(null==t){if(null===y)return document.createTextNode(v);t=o?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),i=null,a=!1}if(null===y)g===v||a&&t.data===v||(t.data=v);else{if(i=i&&_e.call(t.childNodes),g=n.props||Ce,!a&&null!=i)for(g={},l=0;l<t.attributes.length;l++)g[(h=t.attributes[l]).name]=h.value;for(l in g)h=g[l],"children"==l||("dangerouslySetInnerHTML"==l?d=h:"key"===l||l in v||Ve(t,l,null,h,o));for(l in v)h=v[l],"children"==l?p=h:"dangerouslySetInnerHTML"==l?u=h:"value"==l?f=h:"checked"==l?m=h:"key"===l||a&&"function"!=typeof h||g[l]===h||Ve(t,l,h,g[l],o);if(u)a||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),He(t,Ie(p)?p:[p],e,n,r,o&&"foreignObject"!==y,i,s,i?i[0]:n.__k&&Ne(n,0),a,c),null!=i)for(l=i.length;l--;)null!=i[l]&&Re(i[l]);a||(l="value",void 0!==f&&(f!==t[l]||"progress"===y&&!f||"option"===y&&f!==g[l])&&Ve(t,l,f,g[l],!1),l="checked",void 0!==m&&m!==t[l]&&Ve(t,l,m,g[l],!1))}return t}function Xe(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){be.__e(t,n)}}function Ze(t,e,n){var r,o;if(be.unmount&&be.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Xe(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){be.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Ze(r[o],e,n||"function"!=typeof t.type);n||null==t.__e||Re(t.__e),t.__=t.__e=t.__d=void 0}function Qe(t,e,n){return this.constructor(t,n)}_e=Ae.slice,be={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(e){t=e}throw t}},Se=0,Pe.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Me({},this.state),"function"==typeof t&&(t=t(Me({},n),this.props)),t&&Me(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),Ue(this))},Pe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ue(this))},Pe.prototype.render=De,we=[],Ee="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xe=function(t,e){return t.__v.__b-e.__v.__b},je.__r=0;var tn,en,nn,rn,on=0,sn=[],an=[],cn=be,ln=cn.__b,un=cn.__r,dn=cn.diffed,pn=cn.__c,hn=cn.unmount,fn=cn.__;function mn(t,e){cn.__h&&cn.__h(en,t,on||e),on=0;var n=en.__H||(en.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:an}),n.__[t]}function gn(t){return on=1,vn(An,t)}function vn(t,e,n){var r=mn(tn++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):An(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=en,!en.u)){var o=function(t,e,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(t){return!!t.__c});if(o.every(function(t){return!t.__N}))return!i||i.call(this,t,e,n);var s=!1;return o.forEach(function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(s=!0)}}),!(!s&&r.__c.props===t)&&(!i||i.call(this,t,e,n))};en.u=!0;var i=en.shouldComponentUpdate,s=en.componentWillUpdate;en.componentWillUpdate=function(t,e,n){if(this.__e){var r=i;i=void 0,o(t,e,n),i=r}s&&s.call(this,t,e,n)},en.shouldComponentUpdate=o}return r.__N||r.__}function yn(t,e){var n=mn(tn++,4);!cn.__s&&Cn(n.__H,e)&&(n.__=t,n.i=e,en.__h.push(n))}function _n(t,e){var n=mn(tn++,7);return Cn(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function bn(t,e){return on=8,_n(function(){return t},e)}function Sn(){for(var t;t=sn.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(En),t.__H.__h.forEach(xn),t.__H.__h=[]}catch(tn){t.__H.__h=[],cn.__e(tn,t.__v)}}cn.__b=function(t){en=null,ln&&ln(t)},cn.__=function(t,e){e.__k&&e.__k.__m&&(t.__m=e.__k.__m),fn&&fn(t,e)},cn.__r=function(t){un&&un(t),tn=0;var e=(en=t.__c).__H;e&&(nn===en?(e.__h=[],en.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=an,t.__N=t.i=void 0})):(e.__h.forEach(En),e.__h.forEach(xn),e.__h=[],tn=0)),nn=en},cn.diffed=function(t){dn&&dn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==sn.push(e)&&rn===cn.requestAnimationFrame||((rn=cn.requestAnimationFrame)||kn)(Sn)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==an&&(t.__=t.__V),t.i=void 0,t.__V=an})),nn=en=null},cn.__c=function(t,e){e.some(function(t){try{t.__h.forEach(En),t.__h=t.__h.filter(function(t){return!t.__||xn(t)})}catch(en){e.some(function(t){t.__h&&(t.__h=[])}),e=[],cn.__e(en,t.__v)}}),pn&&pn(t,e)},cn.unmount=function(t){hn&&hn(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{En(t)}catch(t){e=t}}),n.__H=void 0,e&&cn.__e(e,n.__v))};var wn="function"==typeof requestAnimationFrame;function kn(t){var e,n=function(){clearTimeout(r),wn&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);wn&&(e=requestAnimationFrame(n))}function En(t){var e=en,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),en=e}function xn(t){var e=en;t.__c=t.__(),en=e}function Cn(t,e){return!t||t.length!==e.length||e.some(function(e,n){return e!==t[n]})}function An(t,e){return"function"==typeof e?e(t):e}const Tn=Object.defineProperty({__proto__:null,useCallback:bn,useContext:function(t){var e=en.context[t.__c],n=mn(tn++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(en)),e.props.value):t.__},useDebugValue:function(t,e){cn.useDebugValue&&cn.useDebugValue(e?e(t):t)},useEffect:function(t,e){var n=mn(tn++,3);!cn.__s&&Cn(n.__H,e)&&(n.__=t,n.i=e,en.__H.__h.push(n))},useErrorBoundary:function(t){var e=mn(tn++,10),n=gn();return e.__=t,en.componentDidCatch||(en.componentDidCatch=function(t,r){e.__&&e.__(t,r),n[1](t)}),[n[0],function(){n[1](void 0)}]},useId:function(){var t=mn(tn++,11);if(!t.__){for(var e=en.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__},useImperativeHandle:function(t,e,n){on=6,yn(function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},null==n?n:n.concat(t))},useLayoutEffect:yn,useMemo:_n,useReducer:vn,useRef:function(t){return on=5,_n(function(){return{current:t}},[])},useState:gn},Symbol.toStringTag,{value:"Module"});function In(){const t=t=>Ht.createElementNS("http://www.w3.org/2000/svg",t),e=ue(t("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=ue(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return e.appendChild(n),e}function Mn(t){let{options:e}=t;const n=_n(()=>({__html:In().outerHTML}),[]);return Oe("h2",{class:"dialog__header"},Oe("span",{class:"dialog__title"},e.formTitle),e.showBranding?Oe("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:n}):null)}function Rn(t,e){const n=t.get(e);return"string"===typeof n?n.trim():""}function On(t){let{options:e,defaultEmail:n,defaultName:r,onFormClose:o,onSubmit:i,onSubmitSuccess:s,onSubmitError:a,showEmail:c,showName:l,screenshotInput:u}=t;const{tags:d,addScreenshotButtonLabel:p,removeScreenshotButtonLabel:h,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:g,isEmailRequired:v,isNameRequired:y,messageLabel:_,messagePlaceholder:b,nameLabel:S,namePlaceholder:w,submitButtonLabel:k,isRequiredLabel:E}=e,[x,C]=gn(!1),[A,T]=gn(null),[I,M]=gn(!1),R=null===u||void 0===u?void 0:u.input,[O,L]=gn(null),D=bn(t=>{L(t),M(!1)},[]),P=bn(t=>{const e=function(t,e){const n=[];return e.isNameRequired&&!t.name&&n.push(e.nameLabel),e.isEmailRequired&&!t.email&&n.push(e.emailLabel),t.message||n.push(e.messageLabel),n}(t,{emailLabel:m,isEmailRequired:v,isNameRequired:y,messageLabel:_,nameLabel:S});return e.length>0?T("Please enter in the following required fields: ".concat(e.join(", "))):T(null),0===e.length},[m,v,y,_,S]),N=bn(async t=>{C(!0);try{if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const e=new FormData(t.target),n=await(u&&I?u.value():void 0),r={name:Rn(e,"name"),email:Rn(e,"email"),message:Rn(e,"message"),attachments:n?[n]:void 0};if(!P(r))return;try{const t=await i({name:r.name,email:r.email,message:r.message,source:"widget",tags:d},{attachments:r.attachments});s(r,t)}catch(A){ce&&B.error(A),T(A),a(A)}}finally{C(!1)}},[u&&I,s,a]);return Oe("form",{class:"form",onSubmit:N},R&&I?Oe(R,{onError:D}):null,Oe("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:x},Oe("div",{class:"form__top"},A?Oe("div",{class:"form__error-container"},A):null,l?Oe("label",{for:"name",class:"form__label"},Oe(Ln,{label:S,isRequiredLabel:E,isRequired:y}),Oe("input",{class:"form__input",defaultValue:r,id:"name",name:"name",placeholder:w,required:y,type:"text"})):Oe("input",{"aria-hidden":!0,value:r,name:"name",type:"hidden"}),c?Oe("label",{for:"email",class:"form__label"},Oe(Ln,{label:m,isRequiredLabel:E,isRequired:v}),Oe("input",{class:"form__input",defaultValue:n,id:"email",name:"email",placeholder:g,required:v,type:"email"})):Oe("input",{"aria-hidden":!0,value:n,name:"email",type:"hidden"}),Oe("label",{for:"message",class:"form__label"},Oe(Ln,{label:_,isRequiredLabel:E,isRequired:!0}),Oe("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:b,required:!0,rows:5})),R?Oe("label",{for:"screenshot",class:"form__label"},Oe("button",{class:"btn btn--default",disabled:x,type:"button",onClick:()=>{L(null),M(t=>!t)}},I?h:p),O?Oe("div",{class:"form__error-container"},O.message):null):null),Oe("div",{class:"btn-group"},Oe("button",{class:"btn btn--primary",disabled:x,type:"submit"},k),Oe("button",{class:"btn btn--default",disabled:x,type:"button",onClick:o},f))))}function Ln(t){let{label:e,isRequired:n,isRequiredLabel:r}=t;return Oe("span",{class:"form__label__text"},e,n&&Oe("span",{class:"form__label__text--required"},r))}function Dn(){const t=t=>jt.document.createElementNS("http://www.w3.org/2000/svg",t),e=ue(t("svg"),{width:"".concat(16),height:"".concat(17),viewBox:"0 0 ".concat(16," ").concat(17),fill:"inherit"}),n=ue(t("g"),{clipPath:"url(#clip0_57_156)"}),r=ue(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=ue(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(o,r);const i=t("defs"),s=ue(t("clipPath"),{id:"clip0_57_156"}),a=ue(t("rect"),{width:"".concat(16),height:"".concat(16),fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),e.appendChild(i).appendChild(s).appendChild(a),e}function Pn(t){let{open:e,onFormSubmitted:n}=t,r=(0,o.A)(t,Ut);const s=r.options,a=_n(()=>({__html:Dn().outerHTML}),[]),[c,l]=gn(null),u=bn(()=>{c&&(clearTimeout(c),l(null)),n()},[c]),d=bn((t,e)=>{r.onSubmitSuccess(t,e),l(setTimeout(()=>{n(),l(null)},5e3))},[n]);return Oe(De,null,c?Oe("div",{class:"success__position",onClick:u},Oe("div",{class:"success__content"},s.successMessageText,Oe("span",{class:"success__icon",dangerouslySetInnerHTML:a}))):Oe("dialog",{class:"dialog",onClick:s.onFormClose,open:e},Oe("div",{class:"dialog__position"},Oe("div",{class:"dialog__content",onClick:t=>{t.stopPropagation()}},Oe(Mn,{options:s}),Oe(On,(0,i.A)((0,i.A)({},r),{},{onSubmitSuccess:d}))))))}const Nn=()=>({name:"FeedbackModal",setupOnce(){},createDialog:t=>{let{options:e,screenshotIntegration:n,sendFeedback:r,shadow:o}=t;const i=o,s=e.useSentryUser,a=function(){const t=Et().getUser(),e=xt().getUser(),n=Ct().getUser();return t&&Object.keys(t).length?t:e&&Object.keys(e).length?e:n}(),c=Ht.createElement("div"),l=function(t){const e=Ht.createElement("style");return e.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n".concat("\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n","\n").concat("\n.dialog__header {\n  display: flex;\n  gap: 4px;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n.dialog__title {\n  align-self: center;\n  width: var(--form-width, 272px);\n}\n\n@media (max-width: 600px) {\n  .dialog__title {\n    width: auto;\n  }\n}\n\n.dialog__position:has(.editor) .dialog__title {\n  width: auto;\n}\n\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n","\n").concat("\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form fieldset {\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n  width: var(--form-width, 100%);\n}\n\n.dialog__position:has(.editor) .form__right {\n  width: var(--form-width, 272px);\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n","\n").concat("\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n","\n").concat("\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n","\n"),t&&e.setAttribute("nonce",t),e}(e.styleNonce);let u="";const d={get el(){return c},appendToDom(){i.contains(l)||i.contains(c)||(i.appendChild(l),i.appendChild(c))},removeFromDom(){c.remove(),l.remove(),Ht.body.style.overflow=u},open(){var t,n;h(!0),null===(t=e.onFormOpen)||void 0===t||t.call(e),null===(n=It())||void 0===n||n.emit("openFeedbackWidget"),u=Ht.body.style.overflow,Ht.body.style.overflow="hidden"},close(){h(!1),Ht.body.style.overflow=u}},p=null===n||void 0===n?void 0:n.createInput({h:Oe,hooks:Tn,dialog:d,options:e}),h=t=>{!function(t,e){var n,r,o;be.__&&be.__(t,e),n=e.__k,r=[],o=[],Ke(e,t=e.__k=Oe(De,null,[t]),n||Ce,Ce,void 0!==e.ownerSVGElement,n?null:e.firstChild?_e.call(e.childNodes):null,r,n?n.__e:e.firstChild,!1,o),t.__d=void 0,Je(r,t,o)}(Oe(Pn,{options:e,screenshotInput:p,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:s&&(null===a||void 0===a?void 0:a[s.name])||"",defaultEmail:s&&(null===a||void 0===a?void 0:a[s.email])||"",onFormClose:()=>{var t;h(!1),null===(t=e.onFormClose)||void 0===t||t.call(e)},onSubmit:r,onSubmitSuccess:(t,n)=>{var r;h(!1),null===(r=e.onSubmitSuccess)||void 0===r||r.call(e,t,n)},onSubmitError:t=>{var n;null===(n=e.onSubmitError)||void 0===n||n.call(e,t)},onFormSubmitted:()=>{var t;null===(t=e.onFormSubmitted)||void 0===t||t.call(e)},open:t}),c)};return d}});function Fn(t){const e=Ht.createElement("style"),n="#1A141F",r="#302735";return e.textContent="\n.editor {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n}\n\n.editor__image-container {\n  justify-items: center;\n  padding: 15px;\n  position: relative;\n  height: 100%;\n  border-radius: var(--menu-border-radius, 6px);\n\n  background-color: ".concat(n,";\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ").concat(n," 8px,\n      ").concat(n," 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ").concat(r," 15px,\n      ").concat(r," 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container > * {\n  object-fit: contain;\n  position: absolute;\n}\n\n.editor__tool-container {\n  padding-top: 8px;\n  display: flex;\n  justify-content: center;\n}\n\n.editor__tool-bar {\n  display: flex;\n  gap: 8px;\n}\n\n.editor__tool {\n  display: flex;\n  padding: 8px 12px;\n  justify-content: center;\n  align-items: center;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  background: var(--button-background, var(--background));\n  color: var(--button-color, var(--foreground));\n}\n\n.editor__tool--active {\n  background: var(--button-primary-background, var(--accent-background));\n  color: var(--button-primary-color, var(--accent-foreground));\n}\n\n.editor__rect {\n  position: absolute;\n  z-index: 2;\n}\n\n.editor__rect button {\n  opacity: 0;\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  cursor: pointer;\n  padding: 0;\n  z-index: 3;\n  border: none;\n  background: none;\n}\n\n.editor__rect:hover button {\n  opacity: 1;\n}\n"),t&&e.setAttribute("nonce",t),e}function Bn(t){let{hooks:e}=t;return function(t){let{onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:o,onError:i}=t;const s=function(){var t;const[n,r]=e.useState(null!==(t=jt.devicePixelRatio)&&void 0!==t?t:1);return e.useEffect(()=>{const t=()=>{r(jt.devicePixelRatio)},e=matchMedia("(resolution: ".concat(jt.devicePixelRatio,"dppx)"));return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}},[]),n}();e.useEffect(()=>{(async()=>{n();const t=await zt.mediaDevices.getDisplayMedia({video:{width:jt.innerWidth*s,height:jt.innerHeight*s},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),e=Ht.createElement("video");await new Promise((n,o)=>{e.srcObject=t,e.onloadedmetadata=()=>{r(e,s),t.getTracks().forEach(t=>t.stop()),n()},e.play().catch(o)}),o()})().catch(i)},[])}}function Un(t,e,n){if(!t)return;const r=t.getContext("2d",e);r&&n(t,r)}function jn(t,e){Un(t,{alpha:!0},(t,n)=>{n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height)})}function Hn(t,e,n){Un(t,{alpha:!0},(t,r)=>{n.length&&(r.fillStyle="rgba(0, 0, 0, 0.25)",r.fillRect(0,0,t.width,t.height)),n.forEach(t=>{!function(t,e,n){switch(t.type){case"highlight":e.shadowColor="rgba(0, 0, 0, 0.7)",e.shadowBlur=50,e.fillStyle=n,e.fillRect(t.x-1,t.y-1,t.w+2,t.h+2),e.clearRect(t.x,t.y,t.w,t.h);break;case"hide":e.fillStyle="rgb(0, 0, 0)",e.fillRect(t.x,t.y,t.w,t.h)}}(t,r,e)})})}function zn(t){let{h:e,hooks:n,outputBuffer:r,dialog:o,options:i}=t;const s=Bn({hooks:n}),a=function(t){let{h:e}=t;return function(t){let{action:n,setAction:r,options:o}=t;return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:"editor__tool ".concat("highlight"===n?"editor__tool--active":""),onClick:()=>{r("highlight"===n?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:"editor__tool ".concat("hide"===n?"editor__tool--active":""),onClick:()=>{r("hide"===n?"":"hide")}},o.hideToolText)))}}({h:e}),c=function(t){let{h:e}=t;return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}({h:e}),l={__html:Fn(i.styleNonce).innerText},u=o.el.style,d=t=>{let{screenshot:o}=t;const[s,u]=n.useState("highlight"),[d,p]=n.useState([]),h=n.useRef(null),f=n.useRef(null),m=n.useRef(null),g=n.useRef(null),[v,y]=n.useState(1),_=n.useMemo(()=>{const t=Ht.getElementById(i.id);if(!t)return"white";const e=getComputedStyle(t);return e.getPropertyValue("--button-primary-background")||e.getPropertyValue("--accent-background")},[i.id]);n.useLayoutEffect(()=>{const t=()=>{const e=h.current;e&&(Un(o.canvas,{alpha:!1},t=>{const n=Math.min(e.clientWidth/t.width,e.clientHeight/t.height);y(n)}),0!==e.clientHeight&&0!==e.clientWidth||setTimeout(t,0))};return t(),jt.addEventListener("resize",t),()=>{jt.removeEventListener("resize",t)}},[o]);const b=n.useCallback((t,e)=>{Un(t,{alpha:!0},(t,n)=>{n.scale(e,e),t.width=o.canvas.width,t.height=o.canvas.height})},[o]);n.useEffect(()=>{b(f.current,o.dpi),jn(f.current,o.canvas)},[o]),n.useEffect(()=>{b(m.current,o.dpi),Un(m.current,{alpha:!0},(t,e)=>{e.clearRect(0,0,t.width,t.height)}),Hn(m.current,_,d)},[d,_]),n.useEffect(()=>{b(r,o.dpi),jn(r,o.canvas),Un(Ht.createElement("canvas"),{alpha:!0},(t,e)=>{e.scale(o.dpi,o.dpi),t.width=o.canvas.width,t.height=o.canvas.height,Hn(t,_,d),jn(r,t)})},[d,o,_]);const S=n.useCallback(t=>e=>{e.preventDefault(),e.stopPropagation(),p(e=>{const n=[...e];return n.splice(t,1),n})},[]),w={width:"".concat(o.canvas.width*v,"px"),height:"".concat(o.canvas.height*v,"px")},k=t=>{t.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:h},e("canvas",{ref:f,id:"background",style:w}),e("canvas",{ref:m,id:"foreground",style:w}),e("div",{ref:g,onMouseDown:t=>{if(!s||!g.current)return;const e=g.current.getBoundingClientRect(),n={type:s,x:t.offsetX/v,y:t.offsetY/v},r=(t,n)=>{const r=(n.clientX-e.x)/v,o=(n.clientY-e.y)/v;return{type:t.type,x:Math.min(t.x,r),y:Math.min(t.y,o),w:Math.abs(r-t.x),h:Math.abs(o-t.y)}},o=t=>{Un(m.current,{alpha:!0},(t,e)=>{e.clearRect(0,0,t.width,t.height)}),Hn(m.current,_,[...d,r(n,t)])},i=t=>{const e=r(n,t);e.w*v>=1&&e.h*v>=1&&p(t=>[...t,e]),Ht.removeEventListener("mousemove",o),Ht.removeEventListener("mouseup",i)};Ht.addEventListener("mousemove",o),Ht.addEventListener("mouseup",i)},style:w},d.map((t,n)=>e("div",{key:n,class:"editor__rect",style:{top:"".concat(t.y*v,"px"),left:"".concat(t.x*v,"px"),width:"".concat(t.w*v,"px"),height:"".concat(t.h*v,"px")}},e("button",{"aria-label":i.removeHighlightText,onClick:S(n),onMouseDown:k,onMouseUp:k,type:"button"},e(c,null))))))),e(a,{options:i,action:s,setAction:u}))};return function(t){let{onError:o}=t;const[i,a]=n.useState();return s({onBeforeScreenshot:n.useCallback(()=>{u.display="none"},[]),onScreenshot:n.useCallback((t,e)=>{Un(Ht.createElement("canvas"),{alpha:!1},(n,r)=>{r.scale(e,e),n.width=t.videoWidth,n.height=t.videoHeight,r.drawImage(t,0,0,n.width,n.height),a({canvas:n,dpi:e})}),r.width=t.videoWidth,r.height=t.videoHeight},[]),onAfterScreenshot:n.useCallback(()=>{u.display="block"},[]),onError:n.useCallback(t=>{u.display="block",o(t)},[])}),i?e(d,{screenshot:i}):e("div",null)}}const Wn=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:t=>{let{h:e,hooks:n,dialog:r,options:o}=t;const i=Ht.createElement("canvas");return{input:zn({h:e,hooks:n,outputBuffer:i,dialog:r,options:o}),value:async()=>{const t=await new Promise(t=>{i.toBlob(t,"image/png")});if(t){return{data:new Uint8Array(await t.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),qn="production";function Vn(t){return new $n(e=>{e(t)})}function Gn(t){return new $n((e,n)=>{n(t)})}class $n{constructor(t){this._state=0,this._handlers=[],this._runExecutor(t)}then(t,e){return new $n((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(cn){r(cn)}else n(e)},t=>{if(e)try{n(e(t))}catch(cn){r(cn)}else r(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new $n((e,n)=>{let r,o;return this.then(e=>{o=!1,r=e,t&&t()},e=>{o=!0,r=e,t&&t()}).then(()=>{o?n(r):e(r)})})}_executeHandlers(){if(0===this._state)return;const t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(1===this._state&&t[1](this._value),2===this._state&&t[2](this._value),t[0]=!0)})}_runExecutor(t){const e=(t,e)=>{0===this._state&&(w(e)?e.then(n,r):(this._state=t,this._value=e,this._executeHandlers()))},n=t=>{e(1,t)},r=t=>{e(2,t)};try{t(n,r)}catch(cn){r(cn)}}}function Kn(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new $n((o,s)=>{const a=t[r];if(null===e||"function"!==typeof a)o(e);else{const c=a((0,i.A)({},e),n);d&&a.id&&null===c&&B.log('Event processor "'.concat(a.id,'" dropped event')),w(c)?c.then(e=>Kn(t,e,n,r+1).then(o)).then(null,s):Kn(t,c,n,r+1).then(o).then(null,s)}})}const Jn="sentry.source",Yn="sentry.sample_rate",Xn="sentry.previous_trace_sample_rate",Zn="sentry.op",Qn="sentry.origin",tr="sentry.idle_span_finish_reason",er="sentry.measurement_unit",nr="sentry.measurement_value",rr="sentry.custom_span_name",or="sentry.profile_id",ir="sentry.exclusive_time",sr="http.request.method",ar="url.full",cr="sentry.link.type",lr="sentry-",ur=/^sentry-/,dr=8192;function pr(t){const e=function(t){if(!t||!v(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce((t,e)=>{const n=fr(e);return Object.entries(n).forEach(e=>{let[n,r]=e;t[n]=r}),t},{});return fr(t)}(t);if(!e)return;const n=Object.entries(e).reduce((t,e)=>{let[n,r]=e;if(n.match(ur)){t[n.slice(lr.length)]=r}return t},{});return Object.keys(n).length>0?n:void 0}function hr(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce((t,e,n)=>{let[r,o]=e;const i="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o)),s=0===n?i:"".concat(t,",").concat(i);return s.length>dr?(d&&B.warn("Not adding key: ".concat(r," with val: ").concat(o," to baggage header due to exceeding baggage size limits.")),t):s},"")}(Object.entries(t).reduce((t,e)=>{let[n,r]=e;return r&&(t["".concat(lr).concat(n)]=r),t},{}))}function fr(t){return t.split(",").map(t=>t.split("=").map(t=>{try{return decodeURIComponent(t.trim())}catch(e){return}})).reduce((t,e)=>{let[n,r]=e;return n&&r&&(t[n]=r),t},{})}const mr=/^o(\d+)\./,gr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function vr(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=t;return"".concat(a,"://").concat(c).concat(e&&o?":".concat(o):"")+"@".concat(n).concat(i?":".concat(i):"","/").concat(r?"".concat(r,"/"):r).concat(s)}function yr(t){const e=gr.exec(t);if(!e)return void D(()=>{console.error("Invalid Sentry Dsn: ".concat(t))});const[n,r,o="",i="",s="",a=""]=e.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const t=l.match(/^\d+/);t&&(l=t[0])}return _r({host:i,pass:o,path:c,projectId:l,port:s,protocol:n,publicKey:r})}function _r(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function br(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=function(t){const e=t.match(mr);return null===e||void 0===e?void 0:e[1]}(n)),r}function Sr(t){const e="string"===typeof t?yr(t):_r(t);if(e&&function(t){if(!d)return!0;const{port:e,projectId:n,protocol:r}=t;return!["protocol","publicKey","host","projectId"].find(e=>!t[e]&&(B.error("Invalid Sentry Dsn: ".concat(e," missing")),!0))&&(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?!e||!isNaN(parseInt(e,10))||(B.error("Invalid Sentry Dsn: Invalid port ".concat(e)),!1):(B.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),!1):(B.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(e))return e}function wr(t){var e;if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=t||(null===(e=It())||void 0===e?void 0:e.getOptions());return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}const kr=0,Er=1,xr=2;function Cr(t){if(t<400&&t>=100)return{code:Er};if(t>=400&&t<500)switch(t){case 401:return{code:xr,message:"unauthenticated"};case 403:return{code:xr,message:"permission_denied"};case 404:return{code:xr,message:"not_found"};case 409:return{code:xr,message:"already_exists"};case 413:return{code:xr,message:"failed_precondition"};case 429:return{code:xr,message:"resource_exhausted"};case 499:return{code:xr,message:"cancelled"};default:return{code:xr,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:xr,message:"unimplemented"};case 503:return{code:xr,message:"unavailable"};case 504:return{code:xr,message:"deadline_exceeded"};default:return{code:xr,message:"internal_error"}}return{code:xr,message:"unknown_error"}}function Ar(t,e){t.setAttribute("http.response.status_code",e);const n=Cr(e);"unknown_error"!==n.message&&t.setStatus(n)}const Tr="_sentryScope",Ir="_sentryIsolationScope";function Mr(t){return{scope:t[Tr],isolationScope:t[Ir]}}function Rr(t){if("boolean"===typeof t)return Number(t);const e="string"===typeof t?parseFloat(t):t;return"number"!==typeof e||isNaN(e)||e<0||e>1?void 0:e}const Or=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Lr(t){if(!t)return;const e=t.match(Or);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function Dr(t,e){const n=Lr(t),r=pr(e);if(null===n||void 0===n||!n.traceId)return{traceId:pt(),sampleRand:Math.random()};const o=function(t,e){const n=Rr(null===e||void 0===e?void 0:e.sample_rand);if(void 0!==n)return n;const r=Rr(null===e||void 0===e?void 0:e.sample_rate);return r&&void 0!==(null===t||void 0===t?void 0:t.parentSampled)?t.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=o.toString());const{traceId:i,parentSpanId:s,parentSampled:a}=n;return{traceId:i,parentSpanId:s,sampled:a,dsc:r||{},sampleRand:o}}function Pr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(t,"-").concat(e).concat(r)}const Nr=["spanId","traceId","traceFlags"],Fr=1;let Br=!1;function Ur(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a,links:c}=Vr(t);return{parent_span_id:i,span_id:e,trace_id:n,data:r,op:o,status:s,origin:a,links:c}}function jr(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),o=r?e:Vr(t).parent_span_id,i=Mr(t).scope;return{parent_span_id:o,span_id:r?(null===i||void 0===i?void 0:i.getPropagationContext().propagationSpanId)||ht():e,trace_id:n}}function Hr(t){const{traceId:e,spanId:n}=t.spanContext();return Pr(e,n,Gr(t))}function zr(t){return t&&t.length>0?t.map(t=>{let{context:{spanId:e,traceId:n,traceFlags:r},attributes:s}=t,a=(0,o.A)(t.context,Nr);return(0,i.A)({span_id:e,trace_id:n,sampled:r===Fr,attributes:s},a)}):void 0}function Wr(t){return"number"===typeof t?qr(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?qr(t.getTime()):at()}function qr(t){return t>9999999999?t/1e3:t}function Vr(t){if(function(t){return"function"===typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}(t)){var r;const{attributes:o,startTime:i,name:s,endTime:a,status:c,links:l}=t;return{span_id:e,trace_id:n,data:o,description:s,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?null===(r=t.parentSpanContext)||void 0===r?void 0:r.spanId:void 0,start_timestamp:Wr(i),timestamp:Wr(a)||void 0,status:$r(c),op:o[Zn],origin:o[Qn],links:zr(l)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function Gr(t){const{traceFlags:e}=t.spanContext();return e===Fr}function $r(t){if(t&&t.code!==kr)return t.code===Er?"ok":t.message||"unknown_error"}const Kr="_sentryChildSpans",Jr="_sentryRootSpan";function Yr(t,e){const n=t[Jr]||t;V(e,Jr,n),t[Kr]?t[Kr].add(e):V(t,Kr,new Set([e]))}function Xr(t){const e=new Set;return function t(n){if(!e.has(n)&&Gr(n)){e.add(n);const r=n[Kr]?Array.from(n[Kr]):[];for(const e of r)t(e)}}(t),Array.from(e)}function Zr(t){return t[Jr]||t}function Qr(){const t=kt(c());return t.getActiveSpan?t.getActiveSpan():gt(Et())}function to(){Br||(D(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Br=!0)}function eo(t,e){t.updateName(e),t.setAttributes({[Jn]:"custom",[rr]:e})}const no="_frozenDsc";function ro(t,e){V(t,no,e)}function oo(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o={environment:n.environment||qn,release:n.release,public_key:r,trace_id:t,org_id:br(e)};return e.emit("createDsc",o),o}function io(t,e){const n=e.getPropagationContext();return n.dsc||oo(n.traceId,t)}function so(t){var e,n;const r=It();if(!r)return{};const o=Zr(t),i=Vr(o),s=i.data,a=o.spanContext().traceState,c=null!==(e=null!==(n=null===a||void 0===a?void 0:a.get("sentry.sample_rate"))&&void 0!==n?n:s[Yn])&&void 0!==e?e:s[Xn];function l(t){return"number"!==typeof c&&"string"!==typeof c||(t.sample_rate="".concat(c)),t}const u=o[no];if(u)return l(u);const d=null===a||void 0===a?void 0:a.get("sentry.dsc"),p=d&&pr(d);if(p)return l(p);const h=oo(t.spanContext().traceId,r),f=s[Jn],m=i.description;var g,v;("url"!==f&&m&&(h.transaction=m),wr())&&(h.sampled=String(Gr(o)),h.sample_rand=null!==(g=null===a||void 0===a?void 0:a.get("sentry.sample_rand"))&&void 0!==g?g:null===(v=Mr(o).scope)||void 0===v?void 0:v.getPropagationContext().sampleRand.toString());return l(h),r.emit("createDsc",h,o),h}function ao(t){return hr(so(t))}function co(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:s,level:a,transactionName:c}=e;Object.keys(n).length&&(t.extra=(0,i.A)((0,i.A)({},n),t.extra));Object.keys(r).length&&(t.tags=(0,i.A)((0,i.A)({},r),t.tags));Object.keys(o).length&&(t.user=(0,i.A)((0,i.A)({},o),t.user));Object.keys(s).length&&(t.contexts=(0,i.A)((0,i.A)({},s),t.contexts));a&&(t.level=a);c&&"transaction"!==t.type&&(t.transaction=c)}(t,e),r&&function(t,e){t.contexts=(0,i.A)({trace:jr(e)},t.contexts),t.sdkProcessingMetadata=(0,i.A)({dynamicSamplingContext:so(e)},t.sdkProcessingMetadata);const n=Zr(e),r=Vr(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata=(0,i.A)((0,i.A)({},t.sdkProcessingMetadata),e)}(t,s)}function lo(t,e){const{extra:n,tags:r,user:o,contexts:s,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:p,propagationContext:h,transactionName:f,span:m}=e;uo(t,"extra",n),uo(t,"tags",r),uo(t,"user",o),uo(t,"contexts",s),t.sdkProcessingMetadata=dt(t.sdkProcessingMetadata,c,2),a&&(t.level=a),f&&(t.transactionName=f),m&&(t.span=m),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),d.length&&(t.eventProcessors=[...t.eventProcessors,...d]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext=(0,i.A)((0,i.A)({},t.propagationContext),h)}function uo(t,e,n){t[e]=dt(t[e],n,1)}let po,ho,fo;function mo(t){const e=s._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return fo&&n.length===ho||(ho=n.length,fo=n.reduce((n,r)=>{po||(po={});const o=po[r];if(o)n[o[0]]=o[1];else{const o=t(r);for(let t=o.length-1;t>=0;t--){const i=o[t],s=null===i||void 0===i?void 0:i.filename,a=e[r];if(s&&a){n[s]=a,po[r]=[s,a];break}}}return n},{})),fo}const go=50,vo="?",yo=/\(error: (.*)\)/,_o=/captureMessage|captureException/;function bo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.sort((t,e)=>t[0]-e[0]).map(t=>t[1]);return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=[],s=t.split("\n");for(let i=e;i<s.length;i++){let t=s[i];t.length>1024&&(t=t.slice(0,1024));const e=yo.test(t)?t.replace(yo,"$1"):t;if(!e.match(/\S*Error: /)){for(const t of r){const n=t(e);if(n){o.push(n);break}}if(o.length>=go+n)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(So(e).function||"")&&e.pop();e.reverse(),_o.test(So(e).function||"")&&(e.pop(),_o.test(So(e).function||"")&&e.pop());return e.slice(0,go).map(t=>(0,i.A)((0,i.A)({},t),{},{filename:t.filename||So(e).filename,function:t.function||vo}))}(o.slice(n))}}function So(t){return t[t.length-1]||{}}const wo="<anonymous>";function ko(t){try{return t&&"function"===typeof t&&t.name||wo}catch(e){return wo}}function Eo(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach(e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)}),t}catch(n){return}}}function xo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return Ao("",t,e,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function Co(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const r=xo(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?Co(t,e-1,n):r;var o}function Ao(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function n(e){t.delete(e)}return[e,n]}();const[i,s]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"===typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"===typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!==typeof global&&e===global)return"[Global]";if("undefined"!==typeof window&&e===window)return"[Window]";if("undefined"!==typeof document&&e===document)return"[Document]";if(E(e))return"[VueViewModel]";if(b(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"===typeof e&&!Number.isFinite(e))return"[".concat(e,"]");if("function"===typeof e)return"[Function: ".concat(ko(e),"]");if("symbol"===typeof e)return"[".concat(String(e),"]");if("bigint"===typeof e)return"[BigInt: ".concat(String(e),"]");const r=function(t){const e=Object.getPrototypeOf(t);return null!==e&&void 0!==e&&e.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?"[HTMLElement: ".concat(r,"]"):"[object ".concat(r,"]")}catch(r){return"**non-serializable** (".concat(r,")")}var n}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"===typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(e))return"[Circular ~]";const l=e;if(l&&"function"===typeof l.toJSON)try{return Ao("",l.toJSON(),c-1,r,o)}catch(h){}const u=Array.isArray(e)?[]:{};let d=0;const p=K(e);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const t=p[f];u[f]=Ao(f,t,c-1,r,o),d++}return s(e),u}function To(t,e,n,r,o,s){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,l=(0,i.A)((0,i.A)({},e),{},{event_id:e.event_id||n.event_id||X(),timestamp:e.timestamp||ot()}),u=n.integrations||t.integrations.map(t=>t.name);!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;t.environment=t.environment||n||qn,!t.release&&r&&(t.release=r);!t.dist&&o&&(t.dist=o);const s=t.request;null!==s&&void 0!==s&&s.url&&(s.url=U(s.url,i))}(l,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(l,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){var n;const r=mo(e);null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach(t=>{var e;null===(e=t.stacktrace)||void 0===e||null===(e=e.frames)||void 0===e||e.forEach(t=>{t.filename&&(t.debug_id=r[t.filename])})})}(l,t.stackParser);const d=function(t,e){if(!e)return t;const n=t?t.clone():new vt;return n.update(e),n}(r,n.captureContext);n.mechanism&&et(l,n.mechanism);const p=o?o.getEventProcessors():[],h=Ct().getScopeData();if(s){lo(h,s.getScopeData())}if(d){lo(h,d.getScopeData())}const f=[...n.attachments||[],...h.attachments];f.length&&(n.attachments=f),co(l,h);return Kn([...p,...h.eventProcessors],l,n).then(t=>(t&&function(t){var e;const n={};if(null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e||e.forEach(t=>{var e;null===(e=t.stacktrace)||void 0===e||null===(e=e.frames)||void 0===e||e.forEach(t=>{t.debug_id&&(t.abs_path?n[t.abs_path]=t.debug_id:t.filename&&(n[t.filename]=t.debug_id),delete t.debug_id)})}),0===Object.keys(n).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(n).forEach(t=>{let[e,n]=t;r.push({type:"sourcemap",code_file:e,debug_id:n})})}(t),"number"===typeof a&&a>0?function(t,e,n){var r,o;if(!t)return null;const s=(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>(0,i.A)((0,i.A)({},t),t.data&&{data:xo(t.data,e,n)}))}),t.user&&{user:xo(t.user,e,n)}),t.contexts&&{contexts:xo(t.contexts,e,n)}),t.extra&&{extra:xo(t.extra,e,n)});null!==(r=t.contexts)&&void 0!==r&&r.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=xo(t.contexts.trace.data,e,n)));t.spans&&(s.spans=t.spans.map(t=>(0,i.A)((0,i.A)({},t),t.data&&{data:xo(t.data,e,n)})));null!==(o=t.contexts)&&void 0!==o&&o.flags&&s.contexts&&(s.contexts.flags=xo(t.contexts.flags,3,n));return s}(t,a,c):t))}function Io(t){if(t)return function(t){return t instanceof vt||"function"===typeof t}(t)||function(t){return Object.keys(t).some(t=>Mo.includes(t))}(t)?{captureContext:t}:t}const Mo=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Ro(t,e){return Et().captureException(t,Io(e))}function Oo(t,e){const n="string"===typeof e?e:void 0,r="string"!==typeof e?{captureContext:e}:void 0;return Et().captureMessage(t,n,r)}function Lo(t,e){return Et().captureEvent(t,e)}function Do(t,e){xt().setContext(t,e)}function Po(t){xt().setExtras(t)}function No(t,e){xt().setExtra(t,e)}function Fo(t){xt().setTags(t)}function Bo(t,e){xt().setTag(t,e)}function Uo(t){xt().setUser(t)}function jo(){return xt().lastEventId()}async function Ho(t){const e=It();return e?e.flush(t):(d&&B.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function zo(t){const e=It();return e?e.close(t):(d&&B.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Wo(){return!!It()}function qo(){const t=It();return!1!==(null===t||void 0===t?void 0:t.getOptions().enabled)&&!(null===t||void 0===t||!t.getTransport())}function Vo(t){xt().addEventProcessor(t)}function Go(t){const e=xt(),n=Et(),{userAgent:r}=s.navigator||{},o=lt((0,i.A)((0,i.A)({user:n.getUser()||e.getUser()},r&&{userAgent:r}),t)),a=e.getSession();return"ok"===(null===a||void 0===a?void 0:a.status)&&ut(a,{status:"exited"}),$o(),e.setSession(o),o}function $o(){const t=xt(),e=Et().getSession()||t.getSession();e&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),ut(t,n)}(e),Ko(),t.setSession()}function Ko(){const t=xt(),e=It(),n=t.getSession();n&&e&&e.captureSession(n)}function Jo(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?$o():Ko()}const Yo=s;let Xo=0;function Zo(){return Xo>0}function Qo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(t){return"function"===typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"===typeof e?e:t;if($(t))return t}catch(r){return t}const n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];try{const n=r.map(t=>Qo(t,e));return t.apply(this,n)}catch(s){throw Xo++,setTimeout(()=>{Xo--}),At(t=>{t.addEventProcessor(t=>(e.mechanism&&(tt(t,void 0,void 0),et(t,e.mechanism)),t.extra=(0,i.A)((0,i.A)({},t.extra),{},{arguments:r}),t)),Ro(s)}),s}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch(o){}G(n,t),V(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch(s){}return n}function ti(){const t=M(),{referrer:e}=Yo.document||{},{userAgent:n}=Yo.navigator||{};return{url:t,headers:(0,i.A)((0,i.A)({},e&&{Referer:e}),n&&{"User-Agent":n})}}const ei={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},ni=Yo;async function ri(t,e){const n=ei[t],r=ni.Sentry=ni.Sentry||{};if(!n)throw new Error("Cannot lazy load integration: ".concat(t));const o=r[t];if("function"===typeof o&&!("_isShim"in o))return o;const i=function(t){var e;const n=It(),r=(null===n||void 0===n||null===(e=n.getOptions())||void 0===e?void 0:e.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL("/".concat(a,"/").concat(t,".min.js"),r).toString()}(n),s=Yo.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",e&&s.setAttribute("nonce",e);const c=new Promise((t,e)=>{s.addEventListener("load",()=>t()),s.addEventListener("error",e)}),l=Yo.document.currentScript,u=Yo.document.body||Yo.document.head||(null===l||void 0===l?void 0:l.parentElement);if(!u)throw new Error("Could not find parent element to insert lazy-loaded ".concat(t," script"));u.appendChild(s);try{await c}catch(p){throw new Error("Error when loading integration: ".concat(t))}const d=r[t];if("function"!==typeof d)throw new Error("Could not load integration: ".concat(t));return d}const oi=ve({lazyLoadIntegration:ri}),ii=ve({getModalIntegration:()=>Nn,getScreenshotIntegration:()=>Wn}),si="7";function ai(t){const e=t.protocol?"".concat(t.protocol,":"):"",n=t.port?":".concat(t.port):"";return"".concat(e,"//").concat(t.host).concat(n).concat(t.path?"/".concat(t.path):"","/api/")}function ci(t,e,n){return e||"".concat(function(t){return"".concat(ai(t)).concat(t.projectId,"/envelope/")}(t),"?").concat(function(t,e){const n={sentry_version:si};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client="".concat(e.name,"/").concat(e.version)),new URLSearchParams(n).toString()}(t,n))}function li(t){return[t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function ui(t,e){const[n,r]=t;return[n,[...r,e]]}function di(t,e){const n=t[1];for(const r of n){if(e(r,r[0].type))return!0}return!1}function pi(t,e){return di(t,(t,n)=>e.includes(n))}function hi(t){const e=l(s);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function fi(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"===typeof r?r="string"===typeof t?r+t:[hi(r),t]:r.push("string"===typeof t?hi(t):t)}for(const s of n){const[t,e]=s;if(o("\n".concat(JSON.stringify(t),"\n")),"string"===typeof e||e instanceof Uint8Array)o(e);else{let t;try{t=JSON.stringify(e)}catch(i){t=JSON.stringify(xo(e))}o(t)}}return"string"===typeof r?r:function(t){const e=t.reduce((t,e)=>t+e.length,0),n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}(r)}function mi(t){let e="string"===typeof t?hi(t):t;function n(t){const n=e.subarray(0,t);return e=e.subarray(t+1),n}function r(){let t=e.indexOf(10);return t<0&&(t=e.length),JSON.parse(function(t){const e=l(s);return e.decodePolyfill?e.decodePolyfill(t):(new TextDecoder).decode(t)}(n(t)))}const o=r(),i=[];for(;e.length;){const t=r(),e="number"===typeof t.length?t.length:void 0;i.push([t,e?n(e):r()])}return[o,i]}function gi(t){return[{type:"span"},t]}function vi(t){const e="string"===typeof t.data?hi(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const yi={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function _i(t){return yi[t]}function bi(t){if(null===t||void 0===t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Si(t,e,n,r){var o;const s=null===(o=t.sdkProcessingMetadata)||void 0===o?void 0:o.dynamicSamplingContext;return(0,i.A)((0,i.A)((0,i.A)({event_id:t.event_id,sent_at:(new Date).toISOString()},e&&{sdk:e}),!!n&&r&&{dsn:vr(r)}),s&&{trace:s})}function wi(t,e){if(null===e||void 0===e||!e.length||!t.description)return!1;for(const n of e){if(Ei(n)){if(z(t.description,n))return!0;continue}if(!n.name&&!n.op)continue;const e=!n.name||z(t.description,n.name),r=!n.op||t.op&&z(t.op,n.op);if(e&&r)return!0}return!1}function ki(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const o of t)o.parent_span_id===r&&(o.parent_span_id=n)}function Ei(t){return"string"===typeof t||t instanceof RegExp}function xi(t,e,n,r){const o=bi(n),s=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){var n,r,o,s;if(!e)return t;const a=t.sdk||{};t.sdk=(0,i.A)((0,i.A)({},a),{},{name:a.name||e.name,version:a.version||e.version,integrations:[...(null===(n=t.sdk)||void 0===n?void 0:n.integrations)||[],...e.integrations||[]],packages:[...(null===(r=t.sdk)||void 0===r?void 0:r.packages)||[],...e.packages||[]],settings:null!==(o=t.sdk)&&void 0!==o&&o.settings||e.settings?(0,i.A)((0,i.A)({},null===(s=t.sdk)||void 0===s?void 0:s.settings),e.settings):void 0})}(t,null===n||void 0===n?void 0:n.sdk);const a=Si(t,o,r,e);delete t.sdkProcessingMetadata;return li(a,[[{type:s},t]])}function Ci(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];null!==n&&void 0!==n&&n.value&&(e.push(n.value),n.type&&e.push("".concat(n.type,": ").concat(n.value)))}catch(n){}return e}const Ai="Not capturing exception because it's already been captured.",Ti="Discarded session because of missing or non-string release",Ii=Symbol.for("SentryInternalError"),Mi=Symbol.for("SentryDoNotSendEventError");function Ri(t){return{message:t,[Ii]:!0}}function Oi(t){return{message:t,[Mi]:!0}}function Li(t){return!!t&&"object"===typeof t&&Ii in t}function Di(t){return!!t&&"object"===typeof t&&Mi in t}class Pi{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Sr(t.dsn):d&&B.warn("No DSN provided, client will not send events."),this._dsn){const e=ci(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport((0,i.A)((0,i.A)({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:e}))}}captureException(t,e,n){const r=X();if(nt(t))return d&&B.log(Ai),r;const o=(0,i.A)({event_id:r},e);return this._process(this.eventFromException(t,o).then(t=>this._captureEvent(t,o,n))),o.event_id}captureMessage(t,e,n,r){const o=(0,i.A)({event_id:X()},n),s=y(t)?t:String(t),a=_(t)?this.eventFromMessage(s,e,o):this.eventFromException(t,o);return this._process(a.then(t=>this._captureEvent(t,o,r))),o.event_id}captureEvent(t,e,n){const r=X();if(null!==e&&void 0!==e&&e.originalException&&nt(e.originalException))return d&&B.log(Ai),r;const o=(0,i.A)({event_id:r},e),s=t.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||n,c)),o.event_id}captureSession(t){this.sendSession(t),ut(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>e.flush(t).then(t=>n&&t))):Vn(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(t=>{let{name:e}=t;return e.startsWith("Spotlight")}))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];Pt(this,t,this._integrations),e||Dt(this,[t])}sendEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",t,e);let n=xi(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of e.attachments||[])n=ui(n,vi(o));const r=this.sendEnvelope(n);r&&r.then(e=>this.emit("afterSendEvent",t,e),null)}sendSession(t){const{release:e,environment:n=qn}=this._options;if("aggregates"in t){const r=t.attrs||{};if(!r.release&&!e)return void(d&&B.warn(Ti));r.release=r.release||e,r.environment=r.environment||n,t.attrs=r}else{if(!t.release&&!e)return void(d&&B.warn(Ti));t.release=t.release||e,t.environment=t.environment||n}this.emit("beforeSendSession",t);const r=function(t,e,n,r){const o=bi(n);return li((0,i.A)((0,i.A)({sent_at:(new Date).toISOString()},o&&{sdk:o}),!!r&&e&&{dsn:vr(e)}),["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){const r="".concat(t,":").concat(e);d&&B.log('Recording outcome: "'.concat(r,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=this._hooks[t];o&&o.forEach(t=>t(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,t=>(d&&B.error("Error while sending envelope:",t),t)):(d&&B.error("Transport disabled"),Vn({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach(e=>{e&&Pt(t,e,n)}),n}(this,t),Dt(this,t)}_updateSessionFromEvent(t,e){var n;let r="fatal"===e.level,o=!1;const s=null===(n=e.exception)||void 0===n?void 0:n.values;if(s){o=!0;for(const t of s){const e=t.mechanism;if(!1===(null===e||void 0===e?void 0:e.handled)){r=!0;break}}}const a="ok"===t.status;(a&&0===t.errors||a&&r)&&(ut(t,(0,i.A)((0,i.A)({},r&&{status:"crashed"}),{},{errors:t.errors||Number(o||r)})),this.captureSession(t))}_isClientDoneProcessing(t){return new $n(e=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){const o=this.getOptions(),s=Object.keys(this._integrations);return!e.integrations&&null!==s&&void 0!==s&&s.length&&(e.integrations=s),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),To(o,t,e,n,this,r).then(t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts=(0,i.A)({trace:Mt(n)},t.contexts);const r=io(this,n);return t.sdkProcessingMetadata=(0,i.A)({dynamicSamplingContext:r},t.sdkProcessingMetadata),t})}_captureEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xt();return d&&Ni(t)&&B.log("Captured error event `".concat(Ci(t)[0]||"<unknown>","`")),this._processEvent(t,e,n,r).then(t=>t.event_id,t=>{d&&(Di(t)?B.log(t.message):Li(t)?B.warn(t.message):B.warn(t))})}_processEvent(t,e,n,r){const o=this.getOptions(),{sampleRate:s}=o,a=Fi(t),c=Ni(t),l=t.type||"error",u="before send for type `".concat(l,"`"),d="undefined"===typeof s?void 0:Rr(s);if(c&&"number"===typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Gn(Oi("Discarding event because it's not included in the random sample (sampling rate = ".concat(s,")")));const p="replay_event"===l?"replay":l;return this._prepareEvent(t,e,n,r).then(t=>{if(null===t)throw this.recordDroppedEvent("event_processor",p),Oi("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;const n=function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:a,ignoreSpans:c}=e;let l=n;if(Ni(l)&&o)return o(l,r);if(Fi(l)){if(a||c){const e=function(t){var e,n,r;const{trace_id:o,parent_span_id:i,span_id:s,status:a,origin:c,data:l,op:u}=null!==(e=null===(n=t.contexts)||void 0===n?void 0:n.trace)&&void 0!==e?e:{};return{data:null!==l&&void 0!==l?l:{},description:t.transaction,op:u,parent_span_id:i,span_id:null!==s&&void 0!==s?s:"",start_timestamp:null!==(r=t.start_timestamp)&&void 0!==r?r:0,status:a,timestamp:t.timestamp,trace_id:null!==o&&void 0!==o?o:"",origin:c,profile_id:null===l||void 0===l?void 0:l[or],exclusive_time:null===l||void 0===l?void 0:l[ir],measurements:t.measurements,is_segment:!0}}(l);if(null!==c&&void 0!==c&&c.length&&wi(e,c))return null;if(a){const t=a(e);t?l=dt(n,{type:"transaction",timestamp:(u=t).timestamp,start_timestamp:u.start_timestamp,transaction:u.description,contexts:{trace:{trace_id:u.trace_id,span_id:u.span_id,parent_span_id:u.parent_span_id,op:u.op,status:u.status,origin:u.origin,data:(0,i.A)((0,i.A)((0,i.A)({},u.data),u.profile_id&&{[or]:u.profile_id}),u.exclusive_time&&{[ir]:u.exclusive_time})}},measurements:u.measurements}):to()}if(l.spans){const e=[],n=l.spans;for(const t of n)if(null!==c&&void 0!==c&&c.length&&wi(t,c))ki(n,t);else if(a){const n=a(t);n?e.push(n):(to(),e.push(t))}else e.push(t);const r=l.spans.length-e.length;r&&t.recordDroppedEvent("before_send","span",r),l.spans=e}}if(s){if(l.spans){const t=l.spans.length;l.sdkProcessingMetadata=(0,i.A)((0,i.A)({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:t})}return s(l,r)}}var u;return l}(this,o,t,e);return function(t,e){const n="".concat(e," must return `null` or a valid event.");if(w(t))return t.then(t=>{if(!b(t)&&null!==t)throw Ri(n);return t},t=>{throw Ri("".concat(e," rejected with ").concat(t))});if(!b(t)&&null!==t)throw Ri(n);return t}(n,u)}).then(o=>{if(null===o){if(this.recordDroppedEvent("before_send",p),a){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw Oi("".concat(u," returned `null`, will not send event."))}const s=n.getSession()||r.getSession();if(c&&s&&this._updateSessionFromEvent(s,o),a){var l;const t=((null===(l=o.sdkProcessingMetadata)||void 0===l?void 0:l.spanCountBeforeProcessing)||0)-(o.spans?o.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const d=o.transaction_info;if(a&&d&&o.transaction!==t.transaction){const t="custom";o.transaction_info=(0,i.A)((0,i.A)({},d),{},{source:t})}return this.sendEvent(o,e),o}).then(null,t=>{if(Di(t)||Li(t))throw t;throw this.captureException(t,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:t}),Ri("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(t))})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(t=>{let[e,n]=t;const[r,o]=e.split(":");return{reason:r,category:o,quantity:n}})}_flushOutcomes(){d&&B.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(d&&B.log("No outcomes to send"));if(!this._dsn)return void(d&&B.log("No dsn provided, will not send outcomes"));d&&B.log("Sending outcomes:",t);const e=(n=t,li((r=this._options.tunnel&&vr(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||ot(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(e)}}function Ni(t){return void 0===t.type}function Fi(t){return"transaction"===t.type}const Bi={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};const Ui=100;function ji(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!n||t[e]&&!r||(t[e]=n)}function Hi(t,e){const n=Vi(),r=qi(t);void 0===r?n.set(t,[e]):(n.set(t,[...r,e]),r.length>=Ui&&Wi(t,r))}function zi(t){var e,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et(),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hi;if(!r)return void(d&&B.warn("No client available to capture log."));const{release:a,environment:c,enableLogs:l=!1,beforeSendLog:u}=r.getOptions();if(!l)return void(d&&B.warn("logging option not enabled, log will not be captured."));const[,p]=function(t,e){return e?At(e,()=>{const n=Qr(),r=n?jr(n):Mt(e);return[n?so(n):io(t,e),r]}):[void 0,void 0]}(r,o),h=(0,i.A)({},t.attributes),{user:{id:f,email:m,username:g}}=function(t){const e=Ct().getScopeData();return lo(e,xt().getScopeData()),lo(e,t.getScopeData()),e}(o);ji(h,"user.id",f,!1),ji(h,"user.email",m,!1),ji(h,"user.name",g,!1),ji(h,"sentry.release",a),ji(h,"sentry.environment",c);const{name:v,version:_}=null!==(e=null===(n=r.getSdkMetadata())||void 0===n?void 0:n.sdk)&&void 0!==e?e:{};ji(h,"sentry.sdk.name",v),ji(h,"sentry.sdk.version",_);const b=t.message;if(y(b)){const{__sentry_template_string__:t,__sentry_template_values__:e=[]}=b;null!==e&&void 0!==e&&e.length&&(h["sentry.message.template"]=t),e.forEach((t,e)=>{h["sentry.message.parameter.".concat(e)]=t})}const S=gt(o);ji(h,"sentry.trace.parent_span_id",null===S||void 0===S?void 0:S.spanContext().spanId);const w=(0,i.A)((0,i.A)({},t),{},{attributes:h});r.emit("beforeCaptureLog",w);const k=u?D(()=>u(w)):w;if(!k)return r.recordDroppedEvent("before_send","log_item",1),void(d&&B.warn("beforeSendLog returned null, log will not be captured."));const{level:E,message:x,attributes:C={},severityNumber:A}=k;s(r,{timestamp:at(),level:E,body:x,trace_id:null===p||void 0===p?void 0:p.trace_id,severity_number:null!==A&&void 0!==A?A:Bi[E],attributes:Object.keys(C).reduce((t,e)=>(t[e]=function(t){switch(typeof t){case"number":return Number.isInteger(t)?{value:t,type:"integer"}:{value:t,type:"double"};case"boolean":return{value:t,type:"boolean"};case"string":return{value:t,type:"string"};default:{let r="";try{var e;r=null!==(e=JSON.stringify(t))&&void 0!==e?e:""}catch(n){}return{value:r,type:"string"}}}}(C[e]),t),{})}),r.emit("afterCaptureLog",k)}function Wi(t,e){var n;const r=null!==(n=null!==e&&void 0!==e?e:qi(t))&&void 0!==n?n:[];if(0===r.length)return;const o=t.getOptions(),i=function(t,e,n,r){const o={};return null!==e&&void 0!==e&&e.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(o.dsn=vr(r)),li(o,[(i=t,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(r,o._metadata,o.tunnel,t.getDsn());Vi().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(i)}function qi(t){return Vi().get(t)}function Vi(){return u("clientToLogBufferMap",()=>new WeakMap)}function Gi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const o=new String(String.raw(t,...n));return o.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),o.__sentry_template_values__=n,o}const $i=Gi;function Ki(t,e,n,r){zi({level:t,message:e,attributes:n,severityNumber:r})}function Ji(t,e){Ki("trace",t,e)}function Yi(t,e){Ki("debug",t,e)}function Xi(t,e){Ki("info",t,e)}function Zi(t,e){Ki("warn",t,e)}function Qi(t,e){Ki("error",t,e)}function ts(t,e){Ki("fatal",t,e)}const es=100;function ns(t,e){const n=It(),r=xt();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=es}=n.getOptions();if(s<=0)return;const a=ot(),c=(0,i.A)({timestamp:a},t),l=o?D(()=>o(c,e)):c;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),r.addBreadcrumb(l,s))}const rs={},os={};function is(t,e){rs[t]=rs[t]||[],rs[t].push(e)}function ss(t,e){if(!os[t]){os[t]=!0;try{e()}catch(cn){d&&B.error("Error while instrumenting ".concat(t),cn)}}}function as(t,e){const n=t&&rs[t];if(n)for(const r of n)try{r(e)}catch(cn){d&&B.error("Error while triggering instrumentation handler.\nType: ".concat(t,"\nName: ").concat(ko(r),"\nError:"),cn)}}function cs(t){const e="console";is(e,t),ss(e,ls)}function ls(){"console"in s&&O.forEach(function(t){t in s.console&&q(s.console,t,function(e){return L[t]=e,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];as("console",{args:n,level:t});const o=L[t];null===o||void 0===o||o.apply(s.console,n)}})})}function us(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const ds=function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.levels||O,r=null===(t=e.handled)||void 0===t||t;return{name:"CaptureConsole",setup(t){"console"in s&&cs(e=>{let{args:o,level:i}=e;It()===t&&n.includes(i)&&function(t,e,n){const r={level:us(e),extra:{arguments:t}};At(o=>{if(o.addEventProcessor(t=>(t.logger="console",et(t,{handled:n,type:"console"}),t)),"assert"===e){if(!t[0]){const e="Assertion failed: ".concat(H(t.slice(1)," ")||"console.assert");o.setExtra("arguments",t.slice(1)),Oo(e,r)}return}const i=t.find(t=>t instanceof Error);if(i)return void Ro(i,r);Oo(H(t," "),r)})}(o,i,r)})}}};const ps={[Qn]:"auto.console.logging"},hs=function(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).levels||O;return{name:"ConsoleLogs",setup(e){const{enableLogs:n,normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=e.getOptions();n?cs(n=>{let{args:i,level:s}=n;if(It()!==e||!t.includes(s))return;if("assert"===s){if(!i[0]){const t=i.slice(1);zi({level:"error",message:t.length>0?"Assertion failed: ".concat(fs(t,r,o)):"Assertion failed",attributes:ps})}return}const a="log"===s;zi({level:a?"info":s,message:fs(i,r,o),severityNumber:a?10:void 0,attributes:ps})}):d&&B.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled")}}};function fs(t,e,n){return"util"in s&&"function"===typeof s.util.format?s.util.format(...t):function(t,e,n){return t.map(t=>_(t)?String(t):JSON.stringify(xo(t,e,n))).join(" ")}(t,e,n)}function ms(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{n=t()}catch(cn){throw e(cn),r(),cn}return function(t,e,n){if(w(t))return t.then(t=>(n(),t),t=>{throw e(t),n(),t});return n(),t}(n,e,r)}class gs{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=t.traceId||pt(),this._spanId=t.spanId||ht()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,e){}}function vs(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qr();const o=r&&Zr(r);o&&(d&&B.log("[Measurement] Setting measurement on root span: ".concat(t," = ").concat(e," ").concat(n)),o.addEvent(t,{[nr]:e,[er]:n}))}function ys(t){if(!t||0===t.length)return;const e={};return t.forEach(t=>{const n=t.attributes||{},r=n[er],o=n[nr];"string"===typeof r&&"number"===typeof o&&(e[t.name]={value:o,unit:r})}),e}class _s{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=t.traceId||pt(),this._spanId=t.spanId||ht(),this._startTime=t.startTimestamp||at(),this._links=t.links,this._attributes={},this.setAttributes((0,i.A)({[Qn]:"manual",[Zn]:t.op},t.attributes)),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,e){}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?Fr:0}}setAttribute(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach(e=>this.setAttribute(e,t[e])),this}updateStartTime(t){this._startTime=Wr(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Jn,"custom"),this}end(t){this._endTime||(this._endTime=Wr(t),function(t){if(!d)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Vr(t),{spanId:r}=t.spanContext(),o=Zr(t)===t,i='[Tracing] Finishing "'.concat(n,'" ').concat(o?"root ":"",'span "').concat(e,'" with ID ').concat(r);B.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Zn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:$r(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Qn],profile_id:this._attributes[or],exclusive_time:this._attributes[ir],measurements:ys(this._events),is_segment:this._isStandaloneSpan&&Zr(this)===this||void 0,segment_id:this._isStandaloneSpan?Zr(this).spanContext().spanId:void 0,links:zr(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,e,n){d&&B.log("[Tracing] Adding an event to span:",t);const r=bs(e)?e:n||at(),o=bs(e)?{}:e||{},i={name:t,time:Wr(r),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=It();t&&t.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===Zr(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(t){const e=It();if(!e)return;const n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(function(t,e){const n=so(t[0]),r=null===e||void 0===e?void 0:e.getDsn(),o=null===e||void 0===e?void 0:e.getOptions().tunnel,s=(0,i.A)((0,i.A)({sent_at:(new Date).toISOString()},function(t){return!!t.trace_id&&!!t.public_key}(n)&&{trace:n}),!!o&&r&&{dsn:vr(r)}),{beforeSendSpan:a,ignoreSpans:c}=(null===e||void 0===e?void 0:e.getOptions())||{},l=null!==c&&void 0!==c&&c.length?t.filter(t=>!wi(Vr(t),c)):t,u=t.length-l.length;u&&(null===e||void 0===e||e.recordDroppedEvent("before_send","span",u));const d=a?t=>{const e=Vr(t);return a(e)||(to(),e)}:Vr,p=[];for(const i of l){const t=d(i);t&&p.push(gi(t))}return li(s,p)}([this],t)):(d&&B.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span")));const e=this._convertSpanToTransaction();if(e){(Mr(this).scope||Et()).captureEvent(e)}}_convertSpanToTransaction(){var t;if(!Ss(Vr(this)))return;this._name||(d&&B.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=Mr(this),r=null===e||void 0===e||null===(t=e.getScopeData().sdkProcessingMetadata)||void 0===t?void 0:t.normalizedRequest;if(!0!==this._sampled)return;const o=Xr(this).filter(t=>t!==this&&!function(t){return t instanceof _s&&t.isStandaloneSpan()}(t)).map(t=>Vr(t)).filter(Ss),s=this._attributes[Jn];delete this._attributes[rr],o.forEach(t=>{delete t.data[rr]});const a=(0,i.A)({contexts:{trace:Ur(this)},spans:o.length>1e3?o.sort((t,e)=>t.start_timestamp-e.start_timestamp).slice(0,1e3):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:so(this)},request:r},s&&{transaction_info:{source:s}}),c=ys(this._events);return c&&Object.keys(c).length&&(d&&B.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function bs(t){return t&&"number"===typeof t||t instanceof Date||Array.isArray(t)}function Ss(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}const ws="__SENTRY_SUPPRESS_TRACING__";function ks(t,e){const n=Os();if(n.startSpan)return n.startSpan(t,e);const r=Rs(t),{forceTransaction:o,parentSpan:i,scope:s}=t;return At(null===s||void 0===s?void 0:s.clone(),()=>Ps(i)(()=>{const n=Et(),s=Ds(n,i),a=t.onlyIfParent&&!s?new gs:Ms({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return mt(n,a),ms(()=>e(a),()=>{const{status:t}=Vr(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:xr,message:"internal_error"})},()=>{a.end()})}))}function Es(t,e){const n=Os();if(n.startSpanManual)return n.startSpanManual(t,e);const r=Rs(t),{forceTransaction:o,parentSpan:i,scope:s}=t;return At(null===s||void 0===s?void 0:s.clone(),()=>Ps(i)(()=>{const n=Et(),s=Ds(n,i),a=t.onlyIfParent&&!s?new gs:Ms({parentSpan:s,spanArguments:r,forceTransaction:o,scope:n});return mt(n,a),ms(()=>e(a,()=>a.end()),()=>{const{status:t}=Vr(a);!a.isRecording()||t&&"ok"!==t||a.setStatus({code:xr,message:"internal_error"})})}))}function xs(t){const e=Os();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=Rs(t),{forceTransaction:r,parentSpan:o}=t;return(t.scope?e=>At(t.scope,e):void 0!==o?t=>As(o,t):t=>t())(()=>{const e=Et(),i=Ds(e,o);return t.onlyIfParent&&!i?new gs:Ms({parentSpan:i,spanArguments:n,forceTransaction:r,scope:e})})}const Cs=(t,e)=>{const n=kt(c());if(n.continueTrace)return n.continueTrace(t,e);const{sentryTrace:r,baggage:o}=t,i=It(),s=pr(o);return i&&!function(t,e){const n=br(t);return e&&n&&e!==n?(B.log("Won't continue trace because org IDs don't match (incoming baggage: ".concat(e,", SDK options: ").concat(n,")")),!1):!t.getOptions().strictTraceContinuation||!(e&&!n||!e&&n)||(B.log("Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ".concat(e,", Sentry client: ").concat(n,")")),!1)}(i,null===s||void 0===s?void 0:s.org_id)?Is(e):At(t=>{const n=Dr(r,o);return t.setPropagationContext(n),e()})};function As(t,e){const n=Os();return n.withActiveSpan?n.withActiveSpan(t,e):At(n=>(mt(n,t||void 0),e(n)))}function Ts(t){const e=Os();return e.suppressTracing?e.suppressTracing(t):At(e=>{e.setSDKProcessingMetadata({[ws]:!0});const n=t();return e.setSDKProcessingMetadata({[ws]:void 0}),n})}function Is(t){return At(e=>(e.setPropagationContext({traceId:pt(),sampleRand:Math.random()}),d&&B.log("Starting a new trace with id ".concat(e.getPropagationContext().traceId)),As(null,t)))}function Ms(t){let{parentSpan:e,spanArguments:n,forceTransaction:r,scope:o}=t;if(!wr()){const t=new gs;if(r||!e){ro(t,(0,i.A)({sampled:"false",sample_rate:"0",transaction:n.name},so(t)))}return t}const s=xt();let a;if(e&&!r)a=function(t,e,n){const{spanId:r,traceId:o}=t.spanContext(),s=!e.getScopeData().sdkProcessingMetadata[ws]&&Gr(t),a=s?new _s((0,i.A)((0,i.A)({},n),{},{parentSpanId:r,traceId:o,sampled:s})):new gs({traceId:o});Yr(t,a);const c=It();c&&(c.emit("spanStart",a),n.endTimestamp&&c.emit("spanEnd",a));return a}(e,o,n),Yr(e,a);else if(e){const t=so(e),{traceId:r,spanId:s}=e.spanContext(),c=Gr(e);a=Ls((0,i.A)({traceId:r,parentSpanId:s},n),o,c),ro(a,t)}else{const{traceId:t,dsc:e,parentSpanId:r,sampled:c}=(0,i.A)((0,i.A)({},s.getPropagationContext()),o.getPropagationContext());a=Ls((0,i.A)({traceId:t,parentSpanId:r},n),o,c),e&&ro(a,e)}return function(t){if(!d)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Vr(t),{spanId:o}=t.spanContext(),i=Gr(t),s=Zr(t),a=s===t,c="[Tracing] Starting ".concat(i?"sampled":"unsampled"," ").concat(a?"root ":"","span"),l=["op: ".concat(n),"name: ".concat(e),"ID: ".concat(o)];if(r&&l.push("parent ID: ".concat(r)),!a){const{op:t,description:e}=Vr(s);l.push("root ID: ".concat(s.spanContext().spanId)),t&&l.push("root op: ".concat(t)),e&&l.push("root description: ".concat(e))}B.log("".concat(c,"\n  ").concat(l.join("\n  ")))}(a),function(t,e,n){t&&(V(t,Ir,n),V(t,Tr,e))}(a,o,s),a}function Rs(t){const e=t.experimental||{},n=(0,i.A)({isStandalone:e.standalone},t);if(t.startTime){const e=(0,i.A)({},n);return e.startTimestamp=Wr(t.startTime),delete e.startTime,e}return n}function Os(){return kt(c())}function Ls(t,e,n){var r,o;const s=It(),a=(null===s||void 0===s?void 0:s.getOptions())||{},{name:c=""}=t,l={spanAttributes:(0,i.A)({},t.attributes),spanName:c,parentSampled:n};null===s||void 0===s||s.emit("beforeSampling",l,{decision:!1});const u=null!==(r=l.parentSampled)&&void 0!==r?r:n,p=l.spanAttributes,h=e.getPropagationContext(),[f,m,g]=e.getScopeData().sdkProcessingMetadata[ws]?[!1]:function(t,e,n){if(!wr(t))return[!1];let r,o;"function"===typeof t.tracesSampler?(o=t.tracesSampler((0,i.A)((0,i.A)({},e),{},{inheritOrSampleWith:t=>"number"===typeof e.parentSampleRate?e.parentSampleRate:"boolean"===typeof e.parentSampled?Number(e.parentSampled):t})),r=!0):void 0!==e.parentSampled?o=e.parentSampled:"undefined"!==typeof t.tracesSampleRate&&(o=t.tracesSampleRate,r=!0);const s=Rr(o);if(void 0===s)return d&&B.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(o)," of type ").concat(JSON.stringify(typeof o),".")),[!1];if(!s)return d&&B.log("[Tracing] Discarding transaction because ".concat("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,s,r];const a=n<s;return a||d&&B.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(o),")")),[a,s,r]}(a,{name:c,parentSampled:u,attributes:p,parentSampleRate:Rr(null===(o=h.dsc)||void 0===o?void 0:o.sample_rate)},h.sampleRand),v=new _s((0,i.A)((0,i.A)({},t),{},{attributes:(0,i.A)({[Jn]:"custom",[Yn]:void 0!==m&&g?m:void 0},p),sampled:f}));return!f&&s&&(d&&B.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),s.recordDroppedEvent("sample_rate","transaction")),s&&s.emit("spanStart",v),v}function Ds(t,e){if(e)return e;if(null===e)return;const n=gt(t);if(!n)return;const r=It();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Zr(n):n}function Ps(t){return void 0!==t?e=>As(t,e):t=>t()}const Ns=Symbol.for("SentryBufferFullError");function Fs(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return Gn(Ns);const o=r();return-1===e.indexOf(o)&&e.push(o),o.then(()=>n(o)).then(null,()=>n(o).then(null,()=>{})),o},drain:function(t){return new $n((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout(()=>{t&&t>0&&n(!1)},t);e.forEach(t=>{Vn(t).then(()=>{--o||(clearTimeout(i),n(!0))},r)})})}}}const Bs=6e4;function Us(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt("".concat(t),10);if(!isNaN(n))return 1e3*n;const r=Date.parse("".concat(t));return isNaN(r)?Bs:r-e}function js(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(t,e){return t[e]||t.all||0}(t,e)>n}function Hs(t,e){let{statusCode:n,headers:r}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const s=(0,i.A)({},t),a=null===r||void 0===r?void 0:r["x-sentry-rate-limits"],c=null===r||void 0===r?void 0:r["retry-after"];if(a)for(const i of a.trim().split(",")){const[t,e,,,n]=i.split(":",5),r=parseInt(t,10),a=1e3*(isNaN(r)?60:r);if(e)for(const i of e.split(";"))"metric_bucket"===i&&n&&!n.split(";").includes("custom")||(s[i]=o+a);else s.all=o+a}else c?s.all=o+Us(c,o):429===n&&(s.all=o+6e4);return s}const zs=64;function Ws(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fs(t.bufferSize||zs),r={};return{send:function(o){const i=[];if(di(o,(e,n)=>{const o=_i(n);js(r,o)?t.recordDroppedEvent("ratelimit_backoff",o):i.push(e)}),0===i.length)return Vn({});const s=li(o[0],i),a=e=>{di(s,(n,r)=>{t.recordDroppedEvent(e,_i(r))})};return n.add(()=>e({body:fi(s)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&d&&B.warn("Sentry responded with status code ".concat(t.statusCode," to sent event.")),r=Hs(r,t),t),t=>{throw a("network_error"),d&&B.error("Encountered error running transport request:",t),t})).then(t=>t,t=>{if(t===Ns)return d&&B.error("Skipped sending event because buffer is full."),a("queue_overflow"),Vn({});throw t})},flush:t=>n.drain(t)}}const qs=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Gs(t,e))return!1;if(!Vs(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=$s(e),r=$s(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Gs(t,e))return!1;if(!Vs(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return d&&B.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return t=e}}};function Vs(t,e){let n=Eo(t),r=Eo(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const t=r[o],e=n[o];if(t.filename!==e.filename||t.lineno!==e.lineno||t.colno!==e.colno||t.function!==e.function)return!1}return!0}function Gs(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function $s(t){var e;return null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e?void 0:e[0]}const Ks=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Js=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){const r=n.getOptions();t=Xs(e,r)},processEvent(n,r,o){if(!t){const n=o.getOptions();t=Xs(e,n)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(null===e||void 0===e||!e.length)return!1;const n=t.transaction;return!!n&&W(n,e)}(t,e.ignoreTransactions))return d&&B.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(Q(t))),!0}else{if(function(t,e){if(null===e||void 0===e||!e.length)return!1;return Ci(t).some(t=>W(t,e))}(t,e.ignoreErrors))return d&&B.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(Q(t))),!0;if(function(t){var e;if(null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e||!e.length)return!1;return!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}(t))return d&&B.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(Q(t))),!0;if(function(t,e){if(null===e||void 0===e||!e.length)return!1;const n=Zs(t);return!!n&&W(n,e)}(t,e.denyUrls))return d&&B.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(Q(t),".\nUrl: ").concat(Zs(t))),!0;if(!function(t,e){if(null===e||void 0===e||!e.length)return!0;const n=Zs(t);return!n||W(n,e)}(t,e.allowUrls))return d&&B.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(Q(t),".\nUrl: ").concat(Zs(t))),!0}return!1}(n,t)?null:n}}},Ys=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.A)((0,i.A)({},Js(t)),{},{name:"InboundFilters"})};function Xs(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Ks],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function Zs(t){try{var e,n,r;const o=[...null!==(e=null===(n=t.exception)||void 0===n?void 0:n.values)&&void 0!==e?e:[]].reverse().find(t=>{var e,n;return void 0===(null===(e=t.mechanism)||void 0===e?void 0:e.parent_id)&&(null===(n=t.stacktrace)||void 0===n||null===(n=n.frames)||void 0===n?void 0:n.length)}),i=null===o||void 0===o||null===(r=o.stacktrace)||void 0===r?void 0:r.frames;return i?function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(i):null}catch(o){return d&&B.error("Cannot extract url for event ".concat(Q(t))),null}}const Qs=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{depth:e=3,captureErrorCause:n=!0}=t;return{name:"ExtraErrorData",processEvent(t,r,o){const{maxValueLength:s=250}=o.getOptions();return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!e.originalException||!h(e.originalException))return t;const s=e.originalException.name||e.originalException.constructor.name,a=ta(e.originalException,r,o);if(a){const e=(0,i.A)({},t.contexts),r=xo(a,n);return b(r)&&(V(r,"__sentry_skip_normalization__",!0),e[s]=r),(0,i.A)((0,i.A)({},t),{},{contexts:e})}return t}(t,r,e,n,s)}}};function ta(t,e,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const e of Object.keys(t)){if(-1!==r.indexOf(e))continue;const i=t[e];o[e]=h(i)||"string"===typeof i?U("".concat(i),n):i}if(e&&void 0!==t.cause)if(h(t.cause)){const e=t.cause.name||t.cause.constructor.name;o.cause={[e]:ta(t.cause,!1,n)}}else o.cause=t.cause;if("function"===typeof t.toJSON){const e=t.toJSON();for(const t of Object.keys(e)){const n=e[t];o[t]=h(n)?n.toString():n}}return o}catch(r){d&&B.error("Unable to extract extra data from the Error object:",r)}return null}const ea=100,na=10,ra="flag.evaluation.";function oa(t){const e=Et().getScopeData().contexts.flags,n=e?e.values:[];return n.length?(void 0===t.contexts&&(t.contexts={}),t.contexts.flags={values:[...n]},t):t}function ia(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea;const r=Et().getScopeData().contexts;r.flags||(r.flags={values:[]});!function(t,e,n,r){if("boolean"!==typeof n)return;if(t.length>r)return void(d&&B.error("[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=".concat(r)));const o=t.findIndex(t=>t.flag===e);-1!==o&&t.splice(o,1);t.length===r&&t.shift();t.push({flag:e,result:n})}(r.flags.values,t,e,n)}function sa(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:na;if("boolean"!==typeof e)return;const r=Qr();if(!r)return;const o=Vr(r).data;if("".concat(ra).concat(t)in o)return void r.setAttribute("".concat(ra).concat(t),e);Object.keys(o).filter(t=>t.startsWith(ra)).length<n&&r.setAttribute("".concat(ra).concat(t),e)}const aa=()=>({name:"FeatureFlags",processEvent:(t,e,n)=>oa(t),addFeatureFlag(t,e){ia(t,e),sa(t,e)}});let ca;const la=new WeakMap,ua=()=>({name:"FunctionToString",setupOnce(){ca=Function.prototype.toString;try{Function.prototype.toString=function(){const t=$(this),e=la.has(It())&&void 0!==t?t:this;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ca.apply(e,r)}}catch(t){}},setup(t){la.set(t,!0)}});function da(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.client||It();if(!qo()||!e)return{};const n=kt(c());if(n.getTraceData)return n.getTraceData(t);const r=t.scope||Et(),o=t.span||Qr(),i=o?Hr(o):function(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return Pr(e,r,n)}(r),s=hr(o?so(o):io(e,r));if(!Or.test(i))return B.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const a={"sentry-trace":i,baggage:s};if(t.propagateTraceparent){const t=function(t){const{traceId:e,parentSpanId:n,parentSampled:r}=Lr(t)||{};if(!e||!n)return;return"00-".concat(e,"-").concat(n,"-").concat(r?"01":"00")}(i);t&&(a.traceparent=t)}return a}const pa=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],ha=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],fa={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},ma=["select","insert","upsert","update","delete"];function ga(t){try{t.__SENTRY_INSTRUMENTED__=!0}catch(e){}}function va(t){try{return t.__SENTRY_INSTRUMENTED__}catch(e){return!1}}function ya(t,e){if(""===e||"*"===e)return"select(*)";if("select"===t)return"select(".concat(e,")");if("or"===t||t.endsWith(".or"))return"".concat(t).concat(e);const[n,...r]=e.split(".");let o;return o=null!==n&&void 0!==n&&n.startsWith("fts")?"textSearch":null!==n&&void 0!==n&&n.startsWith("plfts")?"textSearch[plain]":null!==n&&void 0!==n&&n.startsWith("phfts")?"textSearch[phrase]":null!==n&&void 0!==n&&n.startsWith("wfts")?"textSearch[websearch]":n&&fa[n]||"filter","".concat(o,"(").concat(t,", ").concat(r.join("."),")")}function _a(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Proxy(t,{apply:(n,r,o)=>ks({name:"auth ".concat(e?"(admin) ":"").concat(t.name),attributes:{[Qn]:"auto.db.supabase",[Zn]:"db","db.system":"postgresql","db.operation":"auth.".concat(e?"admin.":"").concat(t.name)}},t=>Reflect.apply(n,r,o).then(e=>(e&&"object"===typeof e&&"error"in e&&e.error?(t.setStatus({code:xr}),Ro(e.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):t.setStatus({code:Er}),t.end(),e)).catch(e=>{throw t.setStatus({code:xr}),t.end(),Ro(e,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),e}).then(...o))})}function ba(t){va(t.prototype.from)||(t.prototype.from=new Proxy(t.prototype.from,{apply(t,e,n){const r=Reflect.apply(t,e,n);return function(t){for(const e of ma)va(t.prototype[e])||(t.prototype[e]=new Proxy(t.prototype[e],{apply(t,n,r){const o=Reflect.apply(t,n,r),i=o.constructor;return d&&B.log("Instrumenting ".concat(e," operation's PostgRESTFilterBuilder")),Sa(i),o}}),ga(t.prototype[e]))}(r.constructor),r}}),ga(t.prototype.from))}function Sa(t){va(t.prototype.then)||(t.prototype.then=new Proxy(t.prototype.then,{apply(t,e,n){var r;const o=ma,i=e,s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t){case"GET":return"select";case"POST":var n;return null!==(n=e.Prefer)&&void 0!==n&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}(i.method,i.headers);if(!o.includes(s))return Reflect.apply(t,e,n);if(null===i||void 0===i||null===(r=i.url)||void 0===r||!r.pathname||"string"!==typeof i.url.pathname)return Reflect.apply(t,e,n);const a=i.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",l=[];for(const[h,f]of i.url.searchParams.entries())l.push(ya(h,f));const u=Object.create(null);if(b(i.body))for(const[h,f]of Object.entries(i.body))u[h]=f;const d="".concat("select"===s?"":"".concat(s).concat(u?"(...) ":"")).concat(l.join(" ")," from(").concat(c,")"),p={"db.table":c,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[Qn]:"auto.db.supabase",[Zn]:"db"};return l.length&&(p["db.query"]=l),Object.keys(u).length&&(p["db.body"]=u),ks({name:d,attributes:p},r=>Reflect.apply(t,e,[]).then(t=>{if(r&&(t&&"object"===typeof t&&"status"in t&&Ar(r,t.status||500),r.end()),t.error){const e=new Error(t.error.message);t.error.code&&(e.code=t.error.code),t.error.details&&(e.details=t.error.details);const n={};l.length&&(n.query=l),Object.keys(u).length&&(n.body=u),Ro(e,t=>(t.addEventProcessor(t=>(et(t,{handled:!1,type:"auto.db.supabase.postgres"}),t)),t.setContext("supabase",n),t))}const e={type:"supabase",category:"db.".concat(s),message:d},n={};return l.length&&(n.query=l),Object.keys(u).length&&(n.body=u),Object.keys(n).length&&(e.data=n),ns(e),t},t=>{throw r&&(Ar(r,500),r.end()),t}).then(...n))}}),ga(t.prototype.then))}const wa=t=>{if(!t)return void(d&&B.warn("Supabase integration was not installed because no Supabase client was provided."));ba(t.constructor===Function?t:t.constructor),function(t){const e=t.auth;if(e&&!va(t.auth)){for(const n of pa){const r=e[n];r&&"function"===typeof t.auth[n]&&(t.auth[n]=_a(r))}for(const n of ha){const r=e.admin[n];r&&"function"===typeof t.auth.admin[n]&&(t.auth.admin[n]=_a(r,!0))}ga(t.auth)}}(t)},ka=t=>{return e=t.supabaseClient,{setupOnce(){wa(e)},name:"Supabase"};var e};function Ea(t,e){let n;return di(t,(t,r)=>(e.includes(r)&&(n=Array.isArray(t)?t[1]:void 0),!!n)),n}function xa(t,e){return n=>{const r=t(n),o=new Map;function s(e,r){const s=r?"".concat(e,":").concat(r):e;let a=o.get(s);if(!a){const c=yr(e);if(!c)return;const l=ci(c,n.tunnel);a=r?function(t,e){return n=>{const r=t(n);return(0,i.A)((0,i.A)({},r),{},{send:async t=>{const n=Ea(t,["event","transaction","profile","replay_event"]);return n&&(n.release=e),r.send(t)}})}}(t,r)((0,i.A)((0,i.A)({},n),{},{url:l})):t((0,i.A)((0,i.A)({},n),{},{url:l})),o.set(s,a)}return[e,a]}return{send:async function(t){const n=e({envelope:t,getEvent:function(e){const n=null!==e&&void 0!==e&&e.length?e:["event"];return Ea(t,n)}}).map(t=>"string"===typeof t?s(t,void 0):s(t.dsn,t.release)).filter(t=>!!t),o=n.length?n:[["",r]];return(await Promise.all(o.map(e=>{let[n,r]=e;return r.send(function(t,e){return li(e?(0,i.A)((0,i.A)({},t[0]),{},{dsn:e}):t[0],t[1])}(t,n))})))[0]},flush:async function(t){const e=[...o.values(),r];return(await Promise.all(e.map(e=>e.flush(t)))).every(t=>t)}}}}const Ca=new Map,Aa=new Set;function Ta(t,e){return function(t){if(s._sentryModuleMetadata)for(const e of Object.keys(s._sentryModuleMetadata)){const n=s._sentryModuleMetadata[e];if(Aa.has(e))continue;Aa.add(e);const r=t(e);for(const t of r.reverse())if(t.filename){Ca.set(t.filename,n);break}}}(t),Ca.get(e)}function Ia(t,e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[]){if(!n.filename||n.module_metadata)continue;const e=Ta(t,n.filename);e&&(n.module_metadata=e)}})}catch(n){}}function Ma(t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata})}catch(e){}}const Ra=()=>({name:"ModuleMetadata",setup(t){t.on("beforeEnvelope",t=>{di(t,(t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(Ma(e),t[1]=e)}})}),t.on("applyFrameMetadata",e=>{if(e.type)return;Ia(t.getOptions().stackParser,e)})}});let Oa=null;function La(t){const e="error";is(e,t),ss(e,Da)}function Da(){Oa=s.onerror,s.onerror=function(t,e,n,r,o){return as("error",{column:r,error:o,line:n,msg:t,url:e}),!!Oa&&Oa.apply(this,arguments)},s.onerror.__SENTRY_INSTRUMENTED__=!0}let Pa=null;function Na(t){const e="unhandledrejection";is(e,t),ss(e,Fa)}function Fa(){Pa=s.onunhandledrejection,s.onunhandledrejection=function(t){return as("unhandledrejection",t),!Pa||Pa.apply(this,arguments)},s.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Ba=!1;function Ua(){function t(){const t=Qr(),e=t&&Zr(t);if(e){const t="internal_error";d&&B.log("[Tracing] Root span: ".concat(t," -> Global error occurred")),e.setStatus({code:xr,message:t})}}Ba||(t.tag="sentry_tracingErrorCallback",Ba=!0,La(t),Na(t))}function ja(t,e){let n=0;for(let r=t.length-1;r>=0;r--){const e=t[r];"."===e?t.splice(r,1):".."===e?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}const Ha=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function za(t){const e=t.length>1024?"<truncated>".concat(t.slice(-1024)):t,n=Ha.exec(e);return n?n.slice(1):[]}function Wa(){let t="",e=!1;for(let n=arguments.length-1;n>=-1&&!e;n--){const r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:"/";r&&(t="".concat(r,"/").concat(t),e="/"===r.charAt(0))}return t=ja(t.split("/").filter(t=>!!t),!e).join("/"),(e?"/":"")+t||"."}function qa(t){let e=0;for(;e<t.length&&""===t[e];e++);let n=t.length-1;for(;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}const Va=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.root,n=t.prefix||"app:///",r="window"in s&&!!s.window,o=t.iteratee||function(t){let{isBrowser:e,root:n,prefix:r}=t;return t=>{if(!t.filename)return t;const o=/^[a-zA-Z]:\\/.test(t.filename)||t.filename.includes("\\")&&!t.filename.includes("/"),i=/^\//.test(t.filename);if(e){if(n){const e=t.filename;0===e.indexOf(n)&&(t.filename=e.replace(n,r))}}else if(o||i){const e=o?t.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):t.filename,i=n?function(t,e){t=Wa(t).slice(1),e=Wa(e).slice(1);const n=qa(t.split("/")),r=qa(e.split("/")),o=Math.min(n.length,r.length);let i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}(n,e):function(t,e){let n=za(t)[2]||"";return e&&n.slice(-1*e.length)===e&&(n=n.slice(0,n.length-e.length)),n}(e);t.filename="".concat(r).concat(i)}return t}}({isBrowser:r,root:e,prefix:n});function a(t){var e;return(0,i.A)((0,i.A)({},t),{},{frames:null===t||void 0===t||null===(e=t.frames)||void 0===e?void 0:e.map(t=>o(t))})}return{name:"RewriteFrames",processEvent(t){let e=t;return t.exception&&Array.isArray(t.exception.values)&&(e=function(t){try{return(0,i.A)((0,i.A)({},t),{},{exception:(0,i.A)((0,i.A)({},t.exception),{},{values:t.exception.values.map(t=>(0,i.A)((0,i.A)({},t),t.stacktrace&&{stacktrace:a(t.stacktrace)}))})})}catch(e){return t}}(e)),e}}};function Ga(t){Et().setClient(t)}const $a=t=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",t=>{di(t,(t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(Ma(e),t[1]=e)}})}),t.on("applyFrameMetadata",e=>{if(e.type)return;Ia(t.getOptions().stackParser,e)})},processEvent(e){const n=function(t){const e=Eo(t);if(!e)return;return e.filter(t=>!!t.filename).map(t=>t.module_metadata?Object.keys(t.module_metadata).filter(t=>t.startsWith(Ka)).map(t=>t.slice(Ka.length)):[])}(e);if(n){const r=n["drop-error-if-contains-third-party-frames"===t.behaviour||"apply-tag-if-contains-third-party-frames"===t.behaviour?"some":"every"](e=>!e.some(e=>t.filterKeys.includes(e)));if(r){if("drop-error-if-contains-third-party-frames"===t.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===t.behaviour)return null;e.tags=(0,i.A)((0,i.A)({},e.tags),{},{third_party_code:!0})}}return e}});const Ka="_sentryBundlerPluginAppKey:";function Ja(t){return(0,i.A)((0,i.A)({},t),{},{path:"path"in t&&Array.isArray(t.path)?t.path.join("."):void 0,keys:"keys"in t?JSON.stringify(t.keys):void 0,unionErrors:"unionErrors"in t?JSON.stringify(t.unionErrors):void 0})}function Ya(t){return t.map(t=>"number"===typeof t?"<array>":t).join(".")}function Xa(t){const e=new Set;for(const r of t.issues){const t=Ya(r.path);t.length>0&&e.add(t)}const n=Array.from(e);if(0===n.length){let e="variable";if(t.issues.length>0){const n=t.issues[0];void 0!==n&&"expected"in n&&"string"===typeof n.expected&&(e=n.expected)}return"Failed to validate ".concat(e)}return"Failed to validate keys: ".concat(U(n.join(", "),100))}function Za(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null===(e=r.exception)||void 0===e||!e.values||!o.originalException||(!h(s=o.originalException)||"ZodError"!==s.name||!Array.isArray(s.issues))||0===o.originalException.issues.length)return r;var s;try{const e=(n?o.originalException.issues:o.originalException.issues.slice(0,t)).map(Ja);return n&&(Array.isArray(o.attachments)||(o.attachments=[]),o.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:e})})),(0,i.A)((0,i.A)({},r),{},{exception:(0,i.A)((0,i.A)({},r.exception),{},{values:[(0,i.A)((0,i.A)({},r.exception.values[0]),{},{value:Xa(o.originalException)}),...r.exception.values.slice(1)]}),extra:(0,i.A)((0,i.A)({},r.extra),{},{"zoderror.issues":e.slice(0,t)})})}catch(cn){return(0,i.A)((0,i.A)({},r),{},{extra:(0,i.A)((0,i.A)({},r.extra),{},{"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:cn instanceof Error?"".concat(cn.name,": ").concat(cn.message,"\n").concat(cn.stack):"unknown"}})})}}const Qa=function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null!==(t=e.limit)&&void 0!==t?t:10;return{name:"ZodErrors",processEvent:(t,r)=>Za(n,e.saveZodIssuesAsAttachment,t,r)}};function tc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const o=t._metadata||{};o.sdk||(o.sdk={name:"sentry.javascript.".concat(e),packages:n.map(t=>({name:"".concat(r,":@sentry/").concat(t),version:a})),version:a}),t._metadata=o}function ec(t){var e;"aggregates"in t?void 0===(null===(e=t.attrs)||void 0===e?void 0:e.ip_address)&&(t.attrs=(0,i.A)((0,i.A)({},t.attrs),{},{ip_address:"{{auto}}"})):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}function nc(t,e){const n=ic(t,e),r={type:cc(e),value:lc(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function rc(t,e,n,r){const o=It(),i=null===o||void 0===o?void 0:o.getOptions().normalizeDepth,s=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),a={__serialized__:Co(e,i)};if(s)return{exception:{values:[nc(t,s)]},extra:a};const c={exception:{values:[{type:S(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:fc(e,{isUnhandledRejection:r})}]},extra:a};if(n){const e=ic(t,n);e.length&&(c.exception.values[0].stacktrace={frames:e})}return c}function oc(t,e){return{exception:{values:[nc(t,e)]}}}function ic(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&sc.test(t.message))return 1;return 0}(e),o=function(t){if("number"===typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,o)}catch(i){}return[]}const sc=/Minified React error #\d+;/i;function ac(t){return"undefined"!==typeof WebAssembly&&"undefined"!==typeof WebAssembly.Exception&&t instanceof WebAssembly.Exception}function cc(t){const e=null===t||void 0===t?void 0:t.name;if(!e&&ac(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function lc(t){const e=null===t||void 0===t?void 0:t.message;return ac(t)?Array.isArray(t.message)&&2==t.message.length?t.message[1]:"wasm exception":e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}function uc(t,e,n,r){const o=pc(t,e,(null===n||void 0===n?void 0:n.syntheticException)||void 0,r);return et(o),o.level="error",null!==n&&void 0!==n&&n.event_id&&(o.event_id=n.event_id),Vn(o)}function dc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=hc(t,e,(null===r||void 0===r?void 0:r.syntheticException)||void 0,o);return i.level=n,null!==r&&void 0!==r&&r.event_id&&(i.event_id=r.event_id),Vn(i)}function pc(t,e,n,r,o){let s;if(m(e)&&e.error){return oc(t,e.error)}if(g(e)||f(e,"DOMException")){const o=e;if("stack"in e)s=oc(t,e);else{const e=o.name||(g(o)?"DOMError":"DOMException"),i=o.message?"".concat(e,": ").concat(o.message):e;s=hc(t,i,n,r),tt(s,i)}return"code"in o&&(s.tags=(0,i.A)((0,i.A)({},s.tags),{},{"DOMException.code":"".concat(o.code)})),s}if(h(e))return oc(t,e);if(b(e)||S(e)){return s=rc(t,e,n,o),et(s,{synthetic:!0}),s}return s=hc(t,e,n,r),tt(s,"".concat(e),void 0),et(s,{synthetic:!0}),s}function hc(t,e,n,r){const o={};if(r&&n){const r=ic(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]}),et(o,{synthetic:!0})}if(y(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function fc(t,e){let{isUnhandledRejection:n}=e;const r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(K(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return U(r,e);for(let o=n.length;o>0;o--){const t=n.slice(0,o).join(", ");if(!(t.length>e))return o===n.length?t:U(t,e)}return""}(t),o=n?"promise rejection":"exception";if(m(t))return"Event `ErrorEvent` captured as ".concat(o," with message `").concat(t.message,"`");if(S(t)){const e=function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(e){}}(t);return"Event `".concat(e,"` (type=").concat(t.type,") captured as ").concat(o)}return"Object captured as ".concat(o," with keys: ").concat(r)}class mc extends Pi{constructor(t){var e;const n=function(t){var e;return(0,i.A)({release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null===(e=Yo.SENTRY_RELEASE)||void 0===e?void 0:e.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},t)}(t);tc(n,"browser",["browser"],Yo.SENTRY_SDK_SOURCE||"npm"),null!==(e=n._metadata)&&void 0!==e&&e.sdk&&(n._metadata.sdk.settings=(0,i.A)({infer_ip:n.sendDefaultPii?"auto":"never"},n._metadata.sdk.settings)),super(n);const{sendDefaultPii:r,sendClientReports:o,enableLogs:s}=this._options;Yo.document&&(o||s)&&Yo.document.addEventListener("visibilitychange",()=>{"hidden"===Yo.document.visibilityState&&(o&&this._flushOutcomes(),s&&Wi(this))}),s&&(this.on("flush",()=>{Wi(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Wi(this)},5e3)})),r&&this.on("beforeSendSession",ec)}eventFromException(t,e){return uc(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return dc(this._options.stackParser,t,e,n,this._options.attachStacktrace)}_prepareEvent(t,e,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n,r)}}const gc=s;function vc(){if(!("fetch"in gc))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function yc(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function _c(){if("string"===typeof EdgeRuntime)return!0;if(!vc())return!1;if(yc(gc.fetch))return!0;let t=!1;const e=gc.document;if(e&&"function"===typeof e.createElement)try{var n;const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),null!==(n=r.contentWindow)&&void 0!==n&&n.fetch&&(t=yc(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){d&&B.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}const bc="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Sc=s,wc={};function kc(t){const e=wc[t];if(e)return e;let n=Sc[t];if(yc(n))return wc[t]=n.bind(Sc);const r=Sc.document;if(r&&"function"===typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;null!==o&&void 0!==o&&o[t]&&(n=o[t]),r.head.removeChild(e)}catch(cn){bc&&B.warn("Could not create sandbox iframe for ".concat(t," check, bailing to window.").concat(t,": "),cn)}return n?wc[t]=n.bind(Sc):n}function Ec(t){wc[t]=void 0}function xc(){return kc("setTimeout")(...arguments)}function Cc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kc("fetch"),n=0,r=0;return Ws(t,function(o){const s=o.body.length;n+=s,r++;const a=(0,i.A)({body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15},t.fetchOptions);if(!e)return Ec("fetch"),Gn("No fetch implementation available");try{return e(t.url,a).then(t=>(n-=s,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}))}catch(cn){return Ec("fetch"),n-=s,r--,Gn(cn)}})}function Ac(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?vo:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Tc=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ic=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Mc=/\((\S*)(?::(\d+))(?::(\d+))\)/,Rc=/at (.+?) ?\(data:(.+?),/,Oc=[30,t=>{const e=t.match(Rc);if(e)return{filename:"<data:".concat(e[2],">"),function:e[1]};const n=Tc.exec(t);if(n){const[,t,e,r]=n;return Ac(t,vo,+e,+r)}const r=Ic.exec(t);if(r){if(r[2]&&0===r[2].indexOf("eval")){const t=Mc.exec(r[2]);t&&(r[2]=t[1],r[3]=t[2],r[4]=t[3])}const[t,e]=qc(r[1]||vo,r[2]);return Ac(e,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],Lc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Dc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Pc=[50,t=>{const e=Lc.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Dc.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||vo;return[n,t]=qc(n,t),Ac(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],Nc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Fc=[40,t=>{const e=Nc.exec(t);return e?Ac(e[2],e[1]||vo,+e[3],e[4]?+e[4]:void 0):void 0}],Bc=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Uc=[10,t=>{const e=Bc.exec(t);return e?Ac(e[2],e[3]||vo,+e[1]):void 0}],jc=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Hc=[20,t=>{const e=jc.exec(t);return e?Ac(e[5],e[3]||e[4]||vo,+e[1],+e[2]):void 0}],zc=[Oc,Pc],Wc=bo(...zc),qc=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:vo,n?"safari-extension:".concat(e):"safari-web-extension:".concat(e)]:[t,e]};function Vc(t,e){let{metadata:n,tunnel:r,dsn:o}=e;const s=(0,i.A)((0,i.A)({event_id:t.event_id,sent_at:(new Date).toISOString()},(null===n||void 0===n?void 0:n.sdk)&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!o&&{dsn:vr(o)}),a=function(t){return[{type:"user_report"},t]}(t);return li(s,[a])}function Gc(t,e){const n="fetch";is(n,t),ss(n,()=>$c(void 0,e))}function $c(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!_c()||q(s,"fetch",function(e){return function(){const n=new Error;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const{method:c,url:l}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Yc(e),method:Jc(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Yc(e),method:Jc(e,"method")?String(e.method).toUpperCase():"GET"}}(o),u={args:o,fetchData:{method:c,url:l},startTimestamp:1e3*at(),virtualError:n,headers:Xc(o)};return t||as("fetch",(0,i.A)({},u)),e.apply(s,o).then(async e=>(t?t(e):as("fetch",(0,i.A)((0,i.A)({},u),{},{endTimestamp:1e3*at(),response:e})),e),t=>{if(as("fetch",(0,i.A)((0,i.A)({},u),{},{endTimestamp:1e3*at(),error:t})),h(t)&&void 0===t.stack&&(t.stack=n.stack,V(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(u.fetchData.url);t.message="".concat(t.message," (").concat(e.host,")")}catch(e){}throw t})}})}function Kc(t){let e;try{e=t.clone()}catch(n){return}!async function(t,e){if(null!==t&&void 0!==t&&t.body){const r=t.body,o=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},9e4);let s=!0;for(;s;){let t;try{t=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:n}=await o.read();clearTimeout(t),n&&(e(),s=!1)}catch(n){s=!1}finally{clearTimeout(t)}}clearTimeout(i),o.releaseLock(),r.cancel().then(null,()=>{})}}(e,()=>{as("fetch-body-resolved",{endTimestamp:1e3*at(),response:t})})}function Jc(t,e){return!!t&&"object"===typeof t&&!!t[e]}function Yc(t){return"string"===typeof t?t:t?Jc(t,"url")?t.url:t.toString?t.toString():"":""}function Xc(t){const[e,n]=t;try{if("object"===typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(x(e))return new Headers(e.headers)}catch(r){}}function Zc(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Qc="thismessage:/";function tl(t){return"isRelative"in t}function el(t,e){const n=t.indexOf("://")<=0&&0!==t.indexOf("//"),r=null!==e&&void 0!==e?e:n?Qc:void 0;try{if("canParse"in URL&&!URL.canParse(t,r))return;const e=new URL(t,r);return n?{isRelative:n,pathname:e.pathname,search:e.search,hash:e.hash}:e}catch(o){}}function nl(t){if(tl(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function rl(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function ol(t){return t.split(/[?#]/,1)[0]}let il,sl,al;function cl(t){is("dom",t),ss("dom",ll)}function ll(){if(!Sc.document)return;const t=as.bind(null,"dom"),e=ul(t,!0);Sc.document.addEventListener("click",e,!1),Sc.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(e=>{var n,r;const o=null===(n=Sc[e])||void 0===n?void 0:n.prototype;null!==o&&void 0!==o&&null!==(r=o.hasOwnProperty)&&void 0!==r&&r.call(o,"addEventListener")&&(q(o,"addEventListener",function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=ul(t);i.handler=r,e.call(this,n,r,o)}i.refCount++}catch(i){}return e.call(this,n,r,o)}}),q(o,"removeEventListener",function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete n[e]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(o){}return t.call(this,e,n,r)}}))})}function ul(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(e){return null}}(n);if(function(t,e){return"keypress"===t&&(null===e||void 0===e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;V(n,"_sentryCaptured",!0),r&&!r._sentryId&&V(r,"_sentryId",X());const o="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==sl)return!1;try{if(!t.target||t.target._sentryId!==al)return!1}catch(e){}return!0}(n)){t({event:n,name:o,global:e}),sl=n.type,al=r?r._sentryId:void 0}clearTimeout(il),il=Sc.setTimeout(()=>{al=void 0,sl=void 0},1e3)}}const dl="__sentry_xhr_v3__";function pl(t){is("xhr",t),ss("xhr",hl)}function hl(){if(!Sc.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=new Error,o=1e3*at(),i=v(n[0])?n[0].toUpperCase():void 0,s=function(t){if(v(t))return t;try{return t.toString()}catch(e){}return}(n[1]);if(!i||!s)return t.apply(e,n);e[dl]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const a=()=>{const t=e[dl];if(t&&4===e.readyState){try{t.status_code=e.status}catch(n){}as("xhr",{endTimestamp:1e3*at(),startTimestamp:o,xhr:e,virtualError:r})}};return"onreadystatechange"in e&&"function"===typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply:(t,e,n)=>(a(),t.apply(e,n))}):e.addEventListener("readystatechange",a),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,o]=n,i=e[dl];return i&&v(r)&&v(o)&&(i.request_headers[r.toLowerCase()]=o),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e[dl];if(!r)return t.apply(e,n);void 0!==n[0]&&(r.body=n[0]);return as("xhr",{startTimestamp:1e3*at(),xhr:e}),t.apply(e,n)}})}let fl;function ml(t){const e="history";is(e,t),ss(e,gl)}function gl(){function t(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=n.length>2?n[2]:void 0;if(o){const e=fl,r=function(t){try{return new URL(t,Sc.location.origin).toString()}catch(e){return t}}(String(o));if(fl=r,e===r)return t.apply(this,n);as("history",{from:e,to:r})}return t.apply(this,n)}}Sc.addEventListener("popstate",()=>{const t=Sc.location.href,e=fl;if(fl=t,e===t)return;as("history",{from:e,to:t})}),"history"in gc&&gc.history&&(q(Sc.history,"pushState",t),q(Sc.history,"replaceState",t))}const vl="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,yl=1024,_l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,i.A)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t);return{name:"Breadcrumbs",setup(t){e.console&&cs(function(t){return function(e){if(It()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:us(e.level),message:H(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: ".concat(H(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}ns(n,{input:e.args,level:e.level})}}(t)),e.dom&&cl(function(t,e){return function(n){if(It()!==t)return;let r,o,i="object"===typeof e?e.serializeAttribute:void 0,s="object"===typeof e&&"number"===typeof e.maxStringLength?e.maxStringLength:void 0;s&&s>yl&&(vl&&B.warn("`dom.maxStringLength` cannot exceed ".concat(yl,", but a value of ").concat(s," was configured. Sentry will use ").concat(yl," instead.")),s=yl),"string"===typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=T(e,{keyAttrs:i,maxStringLength:s}),o=R(e)}catch(c){r="<unknown>"}if(0===r.length)return;const a={category:"ui.".concat(n.name),message:r};o&&(a.data={"ui.component_name":o}),ns(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&pl(function(t){return function(e){if(It()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr[dl];if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:c}=o,l={method:i,url:s,status_code:a},u={xhr:e.xhr,input:c,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:l,type:"http",level:Zc(a)};t.emit("beforeOutgoingRequestBreadcrumb",d,u),ns(d,u)}}(t)),e.fetch&&Gc(function(t){return function(e){if(It()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){const o=e.fetchData,i={data:e.error,input:e.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",s,i),ns(s,i)}else{const o=e.response,s=(0,i.A)((0,i.A)({},e.fetchData),{},{status_code:null===o||void 0===o?void 0:o.status});e.fetchData.request_body_size,e.fetchData.response_body_size,null===o||void 0===o||o.status;const a={input:e.args,response:o,startTimestamp:n,endTimestamp:r},c={category:"fetch",data:s,type:"http",level:Zc(s.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",c,a),ns(c,a)}}}(t)),e.history&&ml(function(t){return function(e){var n;if(It()!==t)return;let r=e.from,o=e.to;const i=rl(Yo.location.href);let s=r?rl(r):void 0;const a=rl(o);null!==(n=s)&&void 0!==n&&n.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),ns({category:"navigation",data:{from:r,to:o}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){It()===t&&ns({category:"sentry.".concat("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Q(e)},{event:e})}}(t))}}};const bl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Sl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,i.A)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},t);return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&q(Yo,"setTimeout",wl),e.setInterval&&q(Yo,"setInterval",wl),e.requestAnimationFrame&&q(Yo,"requestAnimationFrame",kl),e.XMLHttpRequest&&"XMLHttpRequest"in Yo&&q(XMLHttpRequest.prototype,"send",El);const t=e.eventTarget;if(t){(Array.isArray(t)?t:bl).forEach(t=>function(t,e){var n,r;const o=null===(n=Yo[t])||void 0===n?void 0:n.prototype;if(null===o||void 0===o||null===(r=o.hasOwnProperty)||void 0===r||!r.call(o,"addEventListener"))return;q(o,"addEventListener",function(n){return function(r,o,i){try{"function"===typeof o.handleEvent&&(o.handleEvent=Qo(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ko(o),target:t},handled:!1,type:"instrument"}}))}catch(s){}return e.unregisterOriginalCallbacks&&function(t,e,n){t&&"object"===typeof t&&"removeEventListener"in t&&"function"===typeof t.removeEventListener&&t.removeEventListener(e,n)}(this,r,o),n.apply(this,[r,Qo(o,{mechanism:{data:{function:"addEventListener",handler:ko(o),target:t},handled:!1,type:"instrument"}}),i])}}),q(o,"removeEventListener",function(t){return function(e,n,r){try{const o=n.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch(o){}return t.call(this,e,n,r)}})}(t,e))}}}};function wl(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=n[0];return n[0]=Qo(o,{mechanism:{data:{function:ko(t)},handled:!1,type:"instrument"}}),t.apply(this,n)}}function kl(t){return function(e){return t.apply(this,[Qo(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ko(t)},handled:!1,type:"instrument"}})])}}function El(t){return function(){const e=this;["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in e&&"function"===typeof e[t]&&q(e,t,function(e){const n={mechanism:{data:{function:t,handler:ko(e)},handled:!1,type:"instrument"}},r=$(e);return r&&(n.mechanism.data.handler=ko(r)),Qo(e,n)})});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(this,r)}}const xl=()=>({name:"BrowserSession",setupOnce(){"undefined"!==typeof Yo.document?(Go({ignoreDuration:!0}),Jo(),ml(t=>{let{from:e,to:n}=t;void 0!==e&&e!==n&&(Go({ignoreDuration:!0}),Jo())})):vl&&B.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),Cl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,i.A)({onerror:!0,onunhandledrejection:!0},t);return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){La(e=>{const{stackParser:n,attachStacktrace:r}=Tl();if(It()!==t||Zo())return;const{msg:o,url:i,line:s,column:a,error:c}=e,l=function(t,e,n,r){var o;const i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},l=c.frames=c.frames||[],u=r,d=n,p=null!==(o=function(t){if(!v(t)||0===t.length)return;if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),n=e?e[1]:"text/javascript",r=t.includes("base64,");return"<data:".concat(n).concat(r?",base64":"",">")}return t.slice(0,1024)}(e))&&void 0!==o?o:M();0===l.length&&l.push({colno:u,filename:p,function:vo,in_app:!0,lineno:d});return t}(pc(n,c||o,void 0,r,!1),i,s,a);l.level="error",Lo(l,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}(t),Al("onerror")),e.onunhandledrejection&&(!function(t){Na(e=>{const{stackParser:n,attachStacktrace:r}=Tl();if(It()!==t||Zo())return;const o=function(t){if(_(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return t}(e),i=_(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(o))}]}}:pc(n,o,void 0,r,!0);i.level="error",Lo(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}(t),Al("onunhandledrejection"))}}};function Al(t){vl&&B.log("Global Handler attached: ".concat(t))}function Tl(){const t=It();return(null===t||void 0===t?void 0:t.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const Il=()=>({name:"HttpContext",preprocessEvent(t){var e;if(!Yo.navigator&&!Yo.location&&!Yo.document)return;const n=ti(),r=(0,i.A)((0,i.A)({},n.headers),null===(e=t.request)||void 0===e?void 0:e.headers);t.request=(0,i.A)((0,i.A)((0,i.A)({},n),t.request),{},{headers:r})}});function Ml(t,e,n,r,o,i){var s;if(null===(s=o.exception)||void 0===s||!s.values||!i||!k(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Rl(t,e,r,i.originalException,n,o.exception.values,a,0))}function Rl(t,e,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(k(r[o],Error)){Ol(s,a);const i=t(e,r[o]),l=c.length;Ll(i,o,l,a),c=Rl(t,e,n,r[o],o,[i,...c],i,l)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if(k(r,Error)){Ol(s,a);const l=t(e,r),u=c.length;Ll(l,"errors[".concat(i,"]"),u,a),c=Rl(t,e,n,r,o,[l,...c],l,u)}}),c}function Ol(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=(0,i.A)((0,i.A)((0,i.A)({},t.mechanism),"AggregateError"===t.type&&{is_exception_group:!0}),{},{exception_id:e})}function Ll(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=(0,i.A)((0,i.A)({},t.mechanism),{},{type:"chained",source:e,exception_id:n,parent_id:r})}const Dl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,o){Ml(nc,o.getOptions().stackParser,n,e,t,r)}}};function Pl(){return!!function(){var t;if("undefined"===typeof Yo.window)return!1;const e=Yo;if(e.nw)return!1;const n=e.chrome||e.browser;if(null===n||void 0===n||null===(t=n.runtime)||void 0===t||!t.id)return!1;const r=M(),o=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Yo===Yo.top&&o.some(t=>r.startsWith("".concat(t,"://"))))}()&&(vl&&D(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0)}function Nl(t){return[Ys(),ua(),Sl(),_l(),Cl(),Dl(),qs(),Il(),xl()]}function Fl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=!t.skipBrowserExtensionCheck&&Pl(),n=(0,i.A)((0,i.A)({},t),{},{enabled:!e&&t.enabled,stackParser:(r=t.stackParser||Wc,Array.isArray(r)?bo(...r):r),integrations:Lt({integrations:t.integrations,defaultIntegrations:null==t.defaultIntegrations?Nl():t.defaultIntegrations}),transport:t.transport||Cc});var r;return function(t,e){!0===e.debug&&(d?B.enable():D(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Et().update(e.initialScope);const n=new t(e);return Ga(n),n.init(),n}(mc,n)}function Bl(){}function Ul(t){t()}function jl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Yo.document,n=(null===e||void 0===e?void 0:e.head)||(null===e||void 0===e?void 0:e.body);if(!n)return void(vl&&B.error("[showReportDialog] Global document not defined"));const r=Et(),o=It(),s=null===o||void 0===o?void 0:o.getDsn();if(!s)return void(vl&&B.error("[showReportDialog] DSN not configured"));const a=(0,i.A)((0,i.A)({},t),{},{user:(0,i.A)((0,i.A)({},r.getUser()),t.user),eventId:t.eventId||jo()}),c=Yo.document.createElement("script");c.async=!0,c.crossOrigin="anonymous",c.src=function(t,e){const n=Sr(t);if(!n)return"";const r="".concat(ai(n),"embed/error-page/");let o="dsn=".concat(vr(n));for(const i in e)if("dsn"!==i&&"onClose"!==i)if("user"===i){const t=e.user;if(!t)continue;t.name&&(o+="&name=".concat(encodeURIComponent(t.name))),t.email&&(o+="&email=".concat(encodeURIComponent(t.email)))}else o+="&".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(e[i]));return"".concat(r,"?").concat(o)}(s,a);const{onLoad:l,onClose:u}=a;if(l&&(c.onload=l),u){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{u()}finally{Yo.removeEventListener("message",t)}};Yo.addEventListener("message",t)}n.appendChild(c)}const Hl=s,zl=new WeakMap,Wl=function(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).types||["crash","deprecation","intervention"];function e(t){if(zl.has(It()))for(const e of t)At(t=>{t.setExtra("url",e.url);const n="ReportingObserver [".concat(e.type,"]");let r="No details available";if(e.body){const n={};for(const t in e.body)n[t]=e.body[t];if(t.setExtra("body",n),"crash"===e.type){const t=e.body;r=[t.crashId||"",t.reason||""].join(" ").trim()||r}else{r=e.body.message||r}}Oo("".concat(n,": ").concat(r))})}return{name:"ReportingObserver",setupOnce(){if(!("ReportingObserver"in gc))return;new Hl.ReportingObserver(e,{buffered:!0,types:t}).observe()},setup(t){zl.set(t,!0)}}};function ql(t,e){const n=null===e||void 0===e?void 0:e.getDsn(),r=null===e||void 0===e?void 0:e.getOptions().tunnel;return function(t,e){const n=el(t);if(!n||tl(n))return!1;return!!e&&(n.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(n.search))}(t,n)||function(t,e){if(!e)return!1;return Vl(t)===Vl(e)}(t,r)}function Vl(t){return"/"===t[t.length-1]?t.slice(0,-1):t}const Gl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=(0,i.A)({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},t);return{name:"HttpClient",setup(t){!function(t,e){if(!_c())return;Gc(n=>{if(It()!==t)return;const{response:r,args:o,error:i,virtualError:s}=n,[a,c]=o;r&&function(t,e,n,r,o){if(Yl(t,n.status,n.url)){const t=function(t,e){if(!e&&t instanceof Request)return t;if(t instanceof Request&&t.bodyUsed)return t;return new Request(t,e)}(e,r);let i,s,a,c;Zl()&&([i,a]=$l("Cookie",t),[s,c]=$l("Set-Cookie",n));Lo(Xl({url:t.url,method:t.method,status:n.status,requestHeaders:i,responseHeaders:s,requestCookies:a,responseCookies:c,error:o}))}}(e,a,r,c,i||s)},!1)}(t,e),function(t,e){if(!("XMLHttpRequest"in s))return;pl(n=>{if(It()!==t)return;const{error:r,virtualError:o}=n,i=n.xhr,s=i[dl];if(!s)return;const{method:a,request_headers:c}=s;try{!function(t,e,n,r,o){if(Yl(t,e.status,e.responseURL)){let t,a,c;if(Zl()){try{const t=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;t&&(a=Jl(t))}catch(i){}try{c=function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce((t,e)=>{const[n,r]=e.split(": ");return n&&r&&(t[n]=r),t},{})}(e)}catch(s){}t=r}Lo(Xl({url:e.responseURL,method:n,status:e.status,requestHeaders:t,responseHeaders:c,responseCookies:a,error:o}))}}(e,i,a,c,r||o)}catch(cn){vl&&B.warn("Error while extracting response event form XHR response",cn)}})}(t,e)}}};function $l(t,e){const n=function(t){const e={};return t.forEach((t,n)=>{e[n]=t}),e}(e.headers);let r;try{const e=n[t]||n[t.toLowerCase()]||void 0;e&&(r=Jl(e))}catch(o){}return[n,r]}function Kl(t){if(t){const e=t["Content-Length"]||t["content-length"];if(e)return parseInt(e,10)}}function Jl(t){return t.split("; ").reduce((t,e)=>{const[n,r]=e.split("=");return n&&r&&(t[n]=r),t},{})}function Yl(t,e,n){return function(t,e){return t.some(t=>"number"===typeof t?t===e:e>=t[0]&&e<=t[1])}(t.failedRequestStatusCodes,e)&&(r=t.failedRequestTargets,o=n,r.some(t=>"string"===typeof t?o.includes(t):t.test(o)))&&!ql(n,It());var r,o}function Xl(t){const e=It(),n=e&&t.error&&t.error instanceof Error?t.error.stack:void 0,r=n&&e?e.getOptions().stackParser(n,0,1):void 0,o="HTTP Client Error with status code: ".concat(t.status),i={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:t.url,method:t.method,headers:t.requestHeaders,cookies:t.requestCookies},contexts:{response:{status_code:t.status,headers:t.responseHeaders,cookies:t.responseCookies,body_size:Kl(t.responseHeaders)}}};return et(i,{type:"http.client",handled:!1}),i}function Zl(){const t=It();return!!t&&Boolean(t.getOptions().sendDefaultPii)}const Ql=s,tu=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=null!=t.frameContextLines?t.frameContextLines:7;return{name:"ContextLines",processEvent:t=>function(t,e){var n;const r=Ql.document,o=Ql.location&&ol(Ql.location.href);if(!r||!o)return t;const i=null===(n=t.exception)||void 0===n?void 0:n.values;if(null===i||void 0===i||!i.length)return t;const s=r.documentElement.innerHTML;if(!s)return t;const a=["<!DOCTYPE html>","<html>",...s.split("\n"),"</html>"];return i.forEach(t=>{const n=t.stacktrace;null!==n&&void 0!==n&&n.frames&&(n.frames=n.frames.map(t=>function(t,e,n,r){if(t.filename!==n||!t.lineno||!e.length)return t;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(void 0===e.lineno)return;const r=t.length,o=Math.max(Math.min(r-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,o-n),o).map(t=>j(t,0));const i=Math.min(r-1,o);e.context_line=j(t[i],e.colno||0),e.post_context=t.slice(Math.min(o+1,r),o+1+n).map(t=>j(t,0))}(e,t,r),t}(t,a,o,e)))}),t}(t,e)}};function eu(t){return new URLSearchParams(t).toString()}function nu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;try{if("string"===typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[eu(t)];if(!t)return[void 0]}catch(n){return bc&&e.error(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return bc&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ru(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===t.length&&"object"===typeof t[1])return t[1].body}function ou(t){const{query:e,operationName:n}=t,{operationName:r=n,operationType:o}=function(t){const e=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=t.match(e);if(r)return{operationType:r[1],operationName:r[2]};const o=t.match(n);if(o)return{operationType:o[1],operationName:void 0};return{operationType:void 0,operationName:void 0}}(e);return r?"".concat(o," ").concat(r):"".concat(o)}function iu(t){let e;if("xhr"in t){const n=t.xhr[dl];e=n&&nu(n.body)[0]}else{e=nu(ru(t.input))[0]}return e}function su(t){let e;try{const n=JSON.parse(t);!!n.query&&(e=n)}finally{return e}}const au=t=>({name:"GraphQLClient",setup(e){!function(t,e){t.on("beforeOutgoingRequestSpan",(t,n)=>{const r=Vr(t).data||{};if(!("http.client"===r[Zn]))return;const o=r[ar]||r["http.url"],i=r[sr]||r["http.method"];if(!v(o)||!v(i))return;const{endpoints:s}=e,a=W(o,s),c=iu(n);if(a&&c){const e=su(c);if(e){const n=ou(e);t.updateName("".concat(i," ").concat(o," (").concat(n,")")),t.setAttribute("graphql.document",c)}}})}(e,t),function(t,e){t.on("beforeOutgoingRequestBreadcrumb",(t,n)=>{const{category:r,type:o,data:i}=t;if("http"===o&&("fetch"===r||"xhr"===r)){const t=null===i||void 0===i?void 0:i.url,{endpoints:r}=e,o=W(t,r),s=iu(n);if(o&&i&&s){const t=su(s);if(!i.graphql&&t){const e=ou(t);i["graphql.document"]=t.query,i["graphql.operation"]=e}}}})}(e,t)}});const cu=(t,e,n,r)=>{let o,i;return s=>{e.value>=0&&(s||r)&&(i=e.value-(null!==o&&void 0!==o?o:0),(i||void 0===o)&&(o=e.value,e.delta=i,e.rating=((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good")(e.value,n),t(e)))}},lu=function(){var t,e;let n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const r=null===(t=Sc.performance)||void 0===t||null===(e=t.getEntriesByType)||void 0===e?void 0:e.call(t,"navigation")[0];if(!n||r&&r.responseStart>0&&r.responseStart<performance.now())return r},uu=()=>{var t;const e=lu();return null!==(t=null===e||void 0===e?void 0:e.activationStart)&&void 0!==t?t:0},du=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=lu();let r="navigate";var o,i;n&&(null!==(o=Sc.document)&&void 0!==o&&o.prerendering||uu()>0?r="prerender":null!==(i=Sc.document)&&void 0!==i&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:t,value:e,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},pu=new WeakMap;function hu(t,e){return pu.get(t)||pu.set(t,new e),pu.get(t)}class fu{constructor(){fu.prototype.__init.call(this),fu.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var e;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),null===(e=this._onAfterProcessingUnexpectedShift)||void 0===e||e.call(this,t)}}const mu=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(t=>{Promise.resolve().then(()=>{e(t.getEntries())})});return r.observe((0,i.A)({type:t,buffered:!0},n)),r}}catch(r){}},gu=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let vu=-1;const yu=t=>{"hidden"===Sc.document.visibilityState&&vu>-1&&(vu="visibilitychange"===t.type?t.timeStamp:0,_u())},_u=()=>{removeEventListener("visibilitychange",yu,!0),removeEventListener("prerenderingchange",yu,!0)},bu=()=>{if(Sc.document&&vu<0){var t;const e=uu(),n=Sc.document.prerendering||null===(t=globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0])||void 0===t?void 0:t.startTime;vu=null!==n&&void 0!==n?n:(()=>{var t,e;return"hidden"!==(null===(t=Sc.document)||void 0===t?void 0:t.visibilityState)||null!==(e=Sc.document)&&void 0!==e&&e.prerendering?1/0:0})(),addEventListener("visibilitychange",yu,!0),addEventListener("prerenderingchange",yu,!0)}return{get firstHiddenTime(){return vu}}},Su=t=>{var e;null!==(e=Sc.document)&&void 0!==e&&e.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},wu=[1800,3e3],ku=[.1,.25],Eu=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Su(()=>{const n=bu(),r=du("FCP");let o;const i=mu("paint",t=>{for(const e of t)"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-uu(),0),r.entries.push(e),o(!0)))});i&&(o=cu(t,r,wu,e.reportAllChanges))})}(gu(()=>{const n=du("CLS",0);let r;const o=hu(e,fu),i=t=>{for(const e of t)o._processEntry(e);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},s=mu("layout-shift",i);var a,c;s&&(r=cu(t,n,ku,e.reportAllChanges),null===(a=Sc.document)||void 0===a||a.addEventListener("visibilitychange",()=>{var t;"hidden"===(null===(t=Sc.document)||void 0===t?void 0:t.visibilityState)&&(i(s.takeRecords()),r(!0))}),null===Sc||void 0===Sc||null===(c=Sc.setTimeout)||void 0===c||c.call(Sc,r))}))};let xu=0,Cu=1/0,Au=0;const Tu=t=>{t.forEach(t=>{t.interactionId&&(Cu=Math.min(Cu,t.interactionId),Au=Math.max(Au,t.interactionId),xu=Au?(Au-Cu)/7+1:0)})};let Iu;const Mu=()=>Iu?xu:performance.interactionCount||0,Ru=()=>{"interactionCount"in performance||Iu||(Iu=mu("event",Tu,{type:"event",buffered:!0,durationThreshold:0}))};let Ou=0;class Lu{constructor(){Lu.prototype.__init.call(this),Lu.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Ou=Mu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor((Mu()-Ou)/50));return this._longestInteractionList[t]}_processEntry(t){var e;if(null===(e=this._onBeforeProcessingEntry)||void 0===e||e.call(this,t),!t.interactionId&&"first-input"!==t.entryType)return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<10||t.duration>n._latency){var o;if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((t,e)=>e._latency-t._latency),this._longestInteractionList.length>10){const t=this._longestInteractionList.splice(10);for(const e of t)this._longestInteractionMap.delete(e.id)}null===(o=this._onAfterProcessingINPCandidate)||void 0===o||o.call(this,r)}}}const Du=t=>{const e=e=>{var n;"pagehide"!==e.type&&"hidden"!==(null===(n=Sc.document)||void 0===n?void 0:n.visibilityState)||t(e)};Sc.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},Pu=t=>{var e;const n=Sc.requestIdleCallback||Sc.setTimeout;"hidden"===(null===(e=Sc.document)||void 0===e?void 0:e.visibilityState)?t():(n(t=gu(t)),Du(t))},Nu=[200,500];class Fu{_processEntry(t){var e;null===(e=this._onBeforeProcessingEntry)||void 0===e||e.call(this,t)}}const Bu=[2500,4e3],Uu=[800,1800],ju=t=>{var e,n;null!==(e=Sc.document)&&void 0!==e&&e.prerendering?Su(()=>ju(t)):"complete"!==(null===(n=Sc.document)||void 0===n?void 0:n.readyState)?addEventListener("load",()=>ju(t),!0):setTimeout(t)},Hu={},zu={};let Wu,qu,Vu,Gu;function $u(t){return nd("cls",t,Zu,Wu,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Ku(t){return nd("lcp",t,Qu,qu,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Ju(t){return nd("inp",t,ed,Gu)}function Yu(t,e){return rd(t,e),zu[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);mu(t,e=>{Xu(t,{entries:e})},e)}(t),zu[t]=!0),od(t,e)}function Xu(t,e){const n=Hu[t];if(null!==n&&void 0!==n&&n.length)for(const r of n)try{r(e)}catch(cn){bc&&B.error("Error while triggering instrumentation handler.\nType: ".concat(t,"\nName: ").concat(ko(r),"\nError:"),cn)}}function Zu(){return Eu(t=>{Xu("cls",{metric:t}),Wu=t},{reportAllChanges:!0})}function Qu(){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Su(()=>{const n=bu(),r=du("LCP");let o;const i=hu(e,Fu),s=t=>{e.reportAllChanges||(t=t.slice(-1));for(const e of t)i._processEntry(e),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-uu(),0),r.entries=[e],o())},a=mu("largest-contentful-paint",s);if(a){o=cu(t,r,Bu,e.reportAllChanges);const n=gu(()=>{s(a.takeRecords()),a.disconnect(),o(!0)});for(const t of["keydown","click","visibilitychange"])Sc.document&&addEventListener(t,()=>Pu(n),{capture:!0,once:!0})}})}(t=>{Xu("lcp",{metric:t}),qu=t},{reportAllChanges:!0})}function td(){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=du("TTFB"),r=cu(t,n,Uu,e.reportAllChanges);ju(()=>{const t=lu();t&&(n.value=Math.max(t.responseStart-uu(),0),n.entries=[t],r(!0))})}(t=>{Xu("ttfb",{metric:t}),Vu=t})}function ed(){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Su(()=>{var n;Ru();const r=du("INP");let o;const i=hu(e,Lu),s=t=>{Pu(()=>{for(const n of t)i._processEntry(n);const e=i._estimateP98LongestInteraction();e&&e._latency!==r.value&&(r.value=e._latency,r.entries=e.entries,o())})},a=mu("event",s,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});o=cu(t,r,Nu,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Du(()=>{s(a.takeRecords()),o(!0)}))})}(t=>{Xu("inp",{metric:t}),Gu=t})}function nd(t,e,n,r){let o,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return rd(t,e),zu[t]||(o=n(),zu[t]=!0),r&&e({metric:r}),od(t,e,i?o:void 0)}function rd(t,e){Hu[t]=Hu[t]||[],Hu[t].push(e)}function od(t,e,n){return()=>{n&&n();const r=Hu[t];if(!r)return;const o=r.indexOf(e);-1!==o&&r.splice(o,1)}}const id=s,sd="sentryReplaySession",ad="Unable to send Replay",cd=5e3,ld=5500,ud=15e4,dd=5e3,pd=2e7,hd=4999,fd=36e5;var md=Object.defineProperty,gd=(t,e,n)=>((t,e,n)=>e in t?md(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!==typeof e?e+"":e,n),vd=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(vd||{});function yd(t){const e=null===t||void 0===t?void 0:t.host;return Boolean((null===e||void 0===e?void 0:e.shadowRoot)===t)}function _d(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function bd(t){try{const n=t.rules||t.cssRules;return n?((e=Array.from(n,Sd).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e):null}catch(n){return null}var e}function Sd(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=bd(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import","url(".concat(JSON.stringify(t.href),")")];return""===t.layerName?n.push("layer"):t.layerName&&n.push("layer(".concat(t.layerName,")")),t.supportsText&&n.push("supports(".concat(t.supportsText,")")),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}(t)}catch(n){}else if(function(t){return"selectorText"in t}(t)){let e=t.cssText;const n=t.selectorText.includes(":"),r="string"===typeof t.style.all&&t.style.all;if(r&&(e=function(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style,o=r[n],i=r.getPropertyPriority(o);e+="".concat(o,":").concat(r.getPropertyValue(o)).concat(i?" !important":"",";")}return"".concat(t.selectorText," { ").concat(e," }")}(t)),n&&(e=function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(e)),n||r)return e}return e||t.cssText}class wd{constructor(){gd(this,"idNodeMap",new Map),gd(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;const n=null===(e=this.getMeta(t))||void 0===e?void 0:e.id;return null!==n&&void 0!==n?n:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach(t=>this.removeNodeFromMap(t))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function kd(t){let{maskInputOptions:e,tagName:n,type:r}=t;return"OPTION"===n&&(n="SELECT"),Boolean(e[n.toLowerCase()]||r&&e[r]||"password"===r||"INPUT"===n&&!r&&e.text)}function Ed(t){let{isMasked:e,element:n,value:r,maskInputFn:o}=t,i=r||"";return e?(o&&(i=o(i,n)),"*".repeat(i.length)):i}function xd(t){return t.toLowerCase()}function Cd(t){return t.toUpperCase()}const Ad="__rrweb_original__";function Td(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?xd(e):null}function Id(t,e,n){return"INPUT"!==e||"radio"!==n&&"checkbox"!==n?t.value:t.getAttribute("value")||""}function Md(t,e){var n;let r;try{r=new URL(t,null!==e&&void 0!==e?e:window.location.href)}catch(i){return null}const o=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null===o||void 0===o?void 0:o[1])&&void 0!==n?n:null}const Rd={};function Od(t){const e=Rd[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"===typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(e)}catch(o){}return Rd[t]=r.bind(window)}function Ld(){return Od("setTimeout")(...arguments)}function Dd(){return Od("clearTimeout")(...arguments)}function Pd(t){try{return t.contentDocument}catch(e){}}let Nd=1;const Fd=new RegExp("[^a-z0-9-_:]");function Bd(){return Nd++}let Ud,jd;const Hd=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,zd=/^(?:[a-z+]+:)?\/\//i,Wd=/^www\..*/i,qd=/^(data:)([^,]*),(.*)/i;function Vd(t,e){return(t||"").replace(Hd,(t,n,r,o,i,s)=>{const a=r||i||s,c=n||o||"";if(!a)return t;if(zd.test(a)||Wd.test(a))return"url(".concat(c).concat(a).concat(c,")");if(qd.test(a))return"url(".concat(c).concat(a).concat(c,")");if("/"===a[0])return"url(".concat(c).concat(function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a).concat(c,")");const l=e.split("/"),u=a.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return"url(".concat(c).concat(l.join("/")).concat(c,")")})}const Gd=/^[^ \t\n\r\u000c]+/,$d=/^[, \t\n\r\u000c]+/;const Kd=new WeakMap;function Jd(t,e){return e&&""!==e.trim()?Xd(t,e):e}function Yd(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function Xd(t,e){let n=Kd.get(t);if(n||(n=t.createElement("a"),Kd.set(t,n)),e){if(e.startsWith("blob:")||e.startsWith("data:"))return e}else e="";return n.setAttribute("href",e),n.href}function Zd(t,e,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==e||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Jd(t,r):"background"!==n||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n?function(t,e){if(""===e.trim())return e;let n=0;function r(t){let r;const o=t.exec(e.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r($d),!(n>=e.length);){let i=r(Gd);if(","===i.slice(-1))i=Jd(t,i.substring(0,i.length-1)),o.push(i);else{let r="";i=Jd(t,i);let s=!1;for(;;){const t=e.charAt(n);if(""===t){o.push((i+r).trim());break}if(s)")"===t&&(s=!1);else{if(","===t){n+=1,o.push((i+r).trim());break}"("===t&&(s=!0)}r+=t,n+=1}}}return o.join(", ")}(t,r):"style"===n?Vd(r,Xd(t)):"object"===e&&"data"===n?Jd(t,r):"function"===typeof i?i(n,r,o):r:Jd(t,r):r}function Qd(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}function tp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:tp(t.parentNode,e,n,r+1):-1}function ep(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"===typeof t){if(r.matches(".".concat(t)))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(o){return!1}}}function np(t,e,n,r,o,i){try{const s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const t=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(t))return!0}let a=-1,c=-1;if(i){if(c=tp(s,ep(r,o)),c<0)return!0;a=tp(s,ep(e,n),c>=0?c:1/0)}else{if(a=tp(s,ep(e,n)),a<0)return!1;c=tp(s,ep(r,o),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!i}catch(s){}return!!i}function rp(t,e){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:v={},inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1}=e,w=function(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return 1===n?void 0:n}(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:vd.Document,childNodes:[],compatMode:t.compatMode}:{type:vd.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:vd.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:w};case t.ELEMENT_NODE:return function(t,e){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskTextClass:g,unmaskTextClass:v,maskTextSelector:y,unmaskTextSelector:_}=e,b=function(t,e,n,r){try{if(r&&t.matches(r))return!1;if("string"===typeof e){if(t.classList.contains(e))return!0}else for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}if(n)return t.matches(n)}catch(o){}return!1}(t,r,o,i),S=function(t){if(t instanceof HTMLFormElement)return"form";const e=xd(t.tagName);return Fd.test(e)?"div":e}(t);let w={};const k=t.attributes.length;for(let C=0;C<k;C++){const e=t.attributes[C];e.name&&!Qd(S,e.name,e.value)&&(w[e.name]=Zd(n,S,xd(e.name),e.value,t,c))}if("link"===S&&s){const e=Array.from(n.styleSheets).find(e=>e.href===t.href);let r=null;e&&(r=bd(e)),r&&(w.rel=null,w.href=null,w.crossorigin=null,w._cssText=Vd(r,e.href))}if("style"===S&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=bd(t.sheet);e&&(w._cssText=Vd(e,Xd(n)))}if("input"===S||"textarea"===S||"select"===S||"option"===S){const e=t,n=Td(e),r=Id(e,Cd(S),n),o=e.checked;if("submit"!==n&&"button"!==n&&r){const t=np(e,g,y,v,_,kd({type:n,tagName:Cd(S),maskInputOptions:a}));w.value=Ed({isMasked:t,element:e,value:r,maskInputFn:l})}o&&(w.checked=o)}"option"===S&&(t.selected&&!a.select?w.selected=!0:delete w.selected);if("canvas"===S&&p)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let r=0;r<t.height;r+=50){const o=e.getImageData,i=Ad in o?o[Ad]:o;if(new Uint32Array(i.call(e,n,r,Math.min(50,t.width-n),Math.min(50,t.height-r)).data.buffer).some(t=>0!==t))return!1}return!0})(t)||(w.rr_dataURL=t.toDataURL(u.type,u.quality));else if(!("__context"in t)){const e=t.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=t.width,r.height=t.height;e!==r.toDataURL(u.type,u.quality)&&(w.rr_dataURL=e)}if("img"===S&&d){Ud||(Ud=n.createElement("canvas"),jd=Ud.getContext("2d"));const e=t,r=e.currentSrc||e.getAttribute("src")||"<unknown-src>",o=e.crossOrigin,i=()=>{e.removeEventListener("load",i);try{Ud.width=e.naturalWidth,Ud.height=e.naturalHeight,jd.drawImage(e,0,0),w.rr_dataURL=Ud.toDataURL(u.type,u.quality)}catch(t){if("anonymous"!==e.crossOrigin)return e.crossOrigin="anonymous",void(e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i));console.warn("Cannot inline img src=".concat(r,"! Error: ").concat(t))}"anonymous"===e.crossOrigin&&(o?w.crossOrigin=o:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}"audio"!==S&&"video"!==S||(w.rr_mediaState=t.paused?"paused":"played",w.rr_mediaCurrentTime=t.currentTime);f||(t.scrollLeft&&(w.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(w.rr_scrollTop=t.scrollTop));if(b){const{width:e,height:n}=t.getBoundingClientRect();w={class:w.class,rr_width:"".concat(e,"px"),rr_height:"".concat(n,"px")}}"iframe"!==S||h(w.src)||(b||Pd(t)||(w.rr_src=w.src),delete w.src);let E;try{customElements.get(S)&&(E=!0)}catch(x){}return{type:vd.Element,tagName:S,attributes:w,childNodes:[],isSVG:Yd(t)||void 0,needBlock:b,rootId:m,isCustom:E}}(t,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:v,inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case t.TEXT_NODE:return function(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:u}=e,d=t.parentNode&&t.parentNode.tagName;let p=t.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{var g;t.nextSibling||t.previousSibling||null!==(g=t.parentNode.sheet)&&void 0!==g&&g.cssRules&&(p=bd(t.parentNode.sheet))}catch(y){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(y),t)}p=Vd(p,Xd(e.doc))}f&&(p="SCRIPT_PLACEHOLDER");const v=np(t,r,i,o,s,n);h||f||m||!p||!v||(p=a?a(p,t.parentElement):p.replace(/[\S]/g,"*"));m&&p&&(c.textarea||v)&&(p=l?l(p,t.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Ed({isMasked:np(t,r,i,o,s,kd({type:null,tagName:d,maskInputOptions:c})),element:t,value:p,maskInputFn:l})}return{type:vd.Text,textContent:p||"",isStyle:h,rootId:u}}(t,{doc:n,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case t.CDATA_SECTION_NODE:return{type:vd.CDATA,textContent:"",rootId:w};case t.COMMENT_NODE:return{type:vd.Comment,textContent:t.textContent||"",rootId:w};default:return!1}}function op(t){return void 0===t||null===t?"":t.toLowerCase()}function ip(t,e){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E=5e3,onBlockedImageLoad:x,onStylesheetLoad:C,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:I=!1}=e;let{preserveWhiteSpace:M=!0}=e;const R=rp(t,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,keepIframeSrcFn:T,newlyAddedElement:I});if(!R)return console.warn(t,"not serialized"),null;let O;O=r.hasNode(t)?r.getId(t):!function(t,e){if(e.comment&&t.type===vd.Comment)return!0;if(t.type===vd.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"===typeof t.attributes.href&&"js"===Md(t.attributes.href)))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(op(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===op(t.attributes.name)||"icon"===op(t.attributes.rel)||"apple-touch-icon"===op(t.attributes.rel)||"shortcut icon"===op(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&op(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(op(t.attributes.property).match(/^(og|twitter|fb):/)||op(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===op(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===op(t.attributes.name)||"googlebot"===op(t.attributes.name)||"bingbot"===op(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===op(t.attributes.name)||"generator"===op(t.attributes.name)||"framework"===op(t.attributes.name)||"publisher"===op(t.attributes.name)||"progid"===op(t.attributes.name)||op(t.attributes.property).match(/^article:/)||op(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===op(t.attributes.name)||"yandex-verification"===op(t.attributes.name)||"csrf-token"===op(t.attributes.name)||"p:domain_verify"===op(t.attributes.name)||"verify-v1"===op(t.attributes.name)||"verification"===op(t.attributes.name)||"shopify-checkout-api-token"===op(t.attributes.name)))return!0}}return!1}(R,y)&&(M||R.type!==vd.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?Bd():-2;const L=Object.assign(R,{id:O});if(r.add(t,L),-2===O)return null;w&&w(t);let D=!p;if(L.type===vd.Element){D=D&&!L.needBlock;const e=t.shadowRoot;e&&_d(e)&&(L.isShadowHost=!0)}if((L.type===vd.Document||L.type===vd.Element)&&D){y.headWhitespace&&L.type===vd.Element&&"head"===L.tagName&&(M=!1);const e={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onBlockedImageLoad:x,onStylesheetLoad:C,stylesheetLoadTimeout:A,keepIframeSrcFn:T},I=t.childNodes?Array.from(t.childNodes):[];for(const t of I){const n=ip(t,e);n&&L.childNodes.push(n)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const r=ip(n,e);r&&(_d(t.shadowRoot)&&(r.isShadow=!0),L.childNodes.push(r))}}if(t.parentNode&&yd(t.parentNode)&&_d(t.parentNode)&&(L.isShadow=!0),L.type!==vd.Element||"iframe"!==L.tagName||L.needBlock||function(t,e,n){const r=t.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(a){return}if("complete"!==o){const r=Ld(()=>{i||(e(),i=!0)},n);return void t.addEventListener("load",()=>{Dd(r),i=!0,e()})}const s="about:blank";if(r.location.href!==s||t.src===s||""===t.src)return Ld(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,()=>{const e=Pd(t);if(e&&k){const n=ip(e,{doc:e,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:C,stylesheetLoadTimeout:A,keepIframeSrcFn:T});n&&k(t,n)}},E),L.type===vd.Element&&"img"===L.tagName&&!t.complete&&L.needBlock){const e=t,n=()=>{if(e.isConnected&&!e.complete&&x)try{const t=e.getBoundingClientRect();t.width>0&&t.height>0&&x(e,L,t)}catch(t){}e.removeEventListener("load",n)};e.isConnected&&e.addEventListener("load",n)}return L.type===vd.Element&&"link"===L.tagName&&"string"===typeof L.attributes.rel&&("stylesheet"===L.attributes.rel||"preload"===L.attributes.rel&&"string"===typeof L.attributes.href&&"css"===Md(L.attributes.href))&&function(t,e,n){let r,o=!1;try{r=t.sheet}catch(s){return}if(r)return;const i=Ld(()=>{o||(e(),o=!0)},n);t.addEventListener("load",()=>{Dd(i),o=!0,e()})}(t,()=>{if(C){const e=ip(t,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:M,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:C,stylesheetLoadTimeout:A,keepIframeSrcFn:T});e&&C(t,e)}},A),L.type===vd.Element&&delete L.needBlock,L}function sp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const ap="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let cp={map:{},getId:()=>(console.error(ap),-1),getNode:()=>(console.error(ap),null),removeNodeFromMap(){console.error(ap)},has:()=>(console.error(ap),!1),reset(){console.error(ap)}};function lp(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,o=0;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const c=Date.now();o||!1!==n.leading||(o=c);const l=e-(c-o),u=this;l<=0||l>e?(r&&(!function(){Ip("clearTimeout")(...arguments)}(r),r=null),o=c,t.apply(u,s)):r||!1===n.trailing||(r=Mp(()=>{o=!1===n.leading?0:Date.now(),r=null,t.apply(u,s)},l))}}function up(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,r?n:{set(t){Mp(()=>{n.set.call(this,t)},0),i&&i.set&&i.set.call(this,t)}}),()=>up(t,e,i||{},!0)}function dp(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],o=n(r);return"function"===typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=o,()=>{t[e]=r}}catch(r){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(cp=new Proxy(cp,{get:(t,e,n)=>("map"===e&&console.error(ap),Reflect.get(t,e,n))}));let pp=Date.now;function hp(t){var e,n,r,o;const i=t.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null===i||void 0===i?void 0:i.documentElement.scrollLeft)||(null===i||void 0===i||null===(e=i.body)||void 0===e||null===(e=e.parentElement)||void 0===e?void 0:e.scrollLeft)||(null===i||void 0===i||null===(n=i.body)||void 0===n?void 0:n.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null===i||void 0===i?void 0:i.documentElement.scrollTop)||(null===i||void 0===i||null===(r=i.body)||void 0===r||null===(r=r.parentElement)||void 0===r?void 0:r.scrollTop)||(null===i||void 0===i||null===(o=i.body)||void 0===o?void 0:o.scrollTop)||0}}function fp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function mp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function gp(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch(e){return null}}function vp(t,e,n,r,o){if(!t)return!1;const i=gp(t);if(!i)return!1;const s=ep(e,n);if(!o){const t=r&&i.matches(r);return s(i)&&!t}const a=tp(i,s);let c=-1;return!(a<0)&&(r&&(c=tp(i,ep(null,r))),a>-1&&c<0||a<c)}function yp(t,e){return-2===e.getId(t)}function _p(t,e){if(yd(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||_p(t.parentNode,e))}function bp(t){return Boolean(t.changedTouches)}function Sp(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function wp(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function kp(t){return Boolean(null===t||void 0===t?void 0:t.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(pp=()=>(new Date).getTime());class Ep{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var e;return null!==(e=this.styleIDMap.get(t))&&void 0!==e?e:-1}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let n;return n=void 0===e?this.id++:e,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function xp(t){var e;let n=null;return(null===(e=t.getRootNode)||void 0===e||null===(e=e.call(t))||void 0===e?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(n=t.getRootNode().host),n}function Cp(t){const e=t.ownerDocument;if(!e)return!1;const n=function(t){let e,n=t;for(;e=xp(n);)n=e;return n}(t);return e.contains(n)}function Ap(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||Cp(t))}const Tp={};function Ip(t){const e=Tp[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"===typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(e)}catch(o){}return Tp[t]=r.bind(window)}function Mp(){return Ip("setTimeout")(...arguments)}var Rp=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Rp||{}),Op=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Op||{}),Lp=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Lp||{}),Dp=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Dp||{}),Pp=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(Pp||{});function Np(t){try{return t.contentDocument}catch(e){}}function Fp(t){return"__ln"in t}class Bp{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let r=0;r<t;r++){var n;e=(null===(n=e)||void 0===n?void 0:n.next)||null}return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&Fp(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&Fp(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Up=(t,e)=>"".concat(t,"@").concat(e);class jp{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,n=new Bp,r=t=>{let e=t,n=-2;for(;-2===n;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},o=o=>{if(!o.parentNode||!Ap(o))return;const i=yd(o.parentNode)?this.mirror.getId(xp(o)):this.mirror.getId(o.parentNode),s=r(o);if(-1===i||-1===s)return n.addNode(o);const a=ip(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{Sp(t,this.mirror)&&!vp(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(t),wp(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),kp(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{vp(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(t,e),t.contentWindow&&this.canvasManager.addWindow(t.contentWindow),this.shadowDomManager.observeAttachShadow(t))},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)},onBlockedImageLoad:(t,e,n)=>{let{width:r,height:o}=n;this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:{style:{width:"".concat(r,"px"),height:"".concat(o,"px")}}}]})}});a&&(t.push({parentId:i,nextId:s,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)zp(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)Wp(this.droppedSet,a)||zp(this.removes,a,this.mirror)?Wp(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);let i=null;for(;n.length;){let t=null;if(i){const e=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==e&&-1!==n&&(t=i)}if(!t){let e=n.tail;for(;e;){const n=e;if(e=e.previous,n){const e=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==e){t=n;break}{const e=n.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=e.parentNode.host;if(-1!==this.mirror.getId(r)){t=n;break}}}}}}if(!t){for(;n.head;)n.removeNode(n.head.value);break}i=t.previous,n.removeNode(t.value),o(t.value)}const s={texts:this.texts.map(t=>({id:this.mirror.getId(t.node),value:t.value})).filter(t=>!e.has(t.id)).filter(t=>this.mirror.has(t.id)),attributes:this.attributes.map(t=>{const{attributes:e}=t;if("string"===typeof e.style){const n=JSON.stringify(t.styleDiff),r=JSON.stringify(t._unchangedStyles);n.length<e.style.length&&(n+r).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}}).filter(t=>!e.has(t.id)).filter(t=>this.mirror.has(t.id)),removes:this.removes,adds:t};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=t=>{if(!yp(t.target,this.mirror))switch(t.type){case"characterData":{const e=t.target.textContent;vp(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:np(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e,gp(t.target)):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,o=t.target.getAttribute(r);if("value"===r){const e=Td(n),r=n.tagName;o=Id(n,r,e);const i=kd({maskInputOptions:this.maskInputOptions,tagName:r,type:e});o=Ed({isMasked:np(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:o,maskInputFn:this.maskInputFn})}if(vp(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(o)){if(Np(n))return;r="rr_src"}if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),"type"===r&&"INPUT"===n.tagName&&"password"===(t.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Qd(n.tagName,r)&&(i.attributes[r]=Zd(this.doc,xd(n.tagName),xd(r),o,n,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");t.oldValue&&r.setAttribute("style",t.oldValue);for(const t of Array.from(n.style)){const e=n.style.getPropertyValue(t),o=n.style.getPropertyPriority(t);e!==r.style.getPropertyValue(t)||o!==r.style.getPropertyPriority(t)?i.styleDiff[t]=""===o?e:[e,o]:i._unchangedStyles[t]=[e,o]}for(const t of Array.from(r.style))""===n.style.getPropertyValue(t)&&(i.styleDiff[t]=!1)}break}case"childList":if(vp(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(e=>this.genAdds(e,t.target)),t.removedNodes.forEach(e=>{const n=this.mirror.getId(e),r=yd(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);vp(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||yp(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(Hp(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||_p(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[Up(n,r)]?Hp(this.movedSet,e):this.removes.push({parentId:r,id:n,isShadow:!(!yd(t.target)||!_d(t.target))||void 0})),this.mapRemoves.push(e))})}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(yp(t,this.mirror))return;this.movedSet.add(t);let n=null;e&&this.mirror.hasNode(e)&&(n=this.mirror.getId(e)),n&&-1!==n&&(this.movedMap[Up(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);vp(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(t=>this.genAdds(t)),kp(t)&&t.shadowRoot.childNodes.forEach(e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(e=>{this[e]=t[e]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Hp(t,e){var n;t.delete(e),null===(n=e.childNodes)||void 0===n||n.forEach(e=>Hp(t,e))}function zp(t,e,n){return 0!==t.length&&function(t,e,n){let r=e.parentNode;for(;r;){const e=n.getId(r);if(t.some(t=>t.id===e))return!0;r=r.parentNode}return!1}(t,e,n)}function Wp(t,e){return 0!==t.size&&qp(t,e)}function qp(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||qp(t,n))}let Vp;const Gp=t=>{if(!Vp)return t;return function(){try{return t(...arguments)}catch(e){if(Vp&&!0===Vp(e))return()=>{};throw e}}},$p=[];function Kp(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(e){}return t&&t.target}function Jp(t,e){var n,r;const o=new jp;$p.push(o),o.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const s=null===(n=window)||void 0===n||null===(n=n.Zone)||void 0===n||null===(r=n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);const a=new i(Gp(e=>{t.onMutation&&!1===t.onMutation(e)||o.processMutations.bind(o)(e)}));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Yp(t){let{mouseInteractionCb:e,doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:a,sampling:c}=t;if(!1===c.mouseInteraction)return()=>{};const l=!0===c.mouseInteraction||void 0===c.mouseInteraction?{}:c.mouseInteraction,u=[];let d=null;return Object.keys(Lp).filter(t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==l[t]).forEach(t=>{let c=xd(t);const l=(t=>n=>{const c=Kp(n);if(vp(c,o,s,a,!0))return;let l=null,u=t;if("pointerType"in n){switch(n.pointerType){case"mouse":l=Dp.Mouse;break;case"touch":l=Dp.Touch;break;case"pen":l=Dp.Pen}l===Dp.Touch?Lp[t]===Lp.MouseDown?u="TouchStart":Lp[t]===Lp.MouseUp&&(u="TouchEnd"):Dp.Pen}else bp(n)&&(l=Dp.Touch);null!==l?(d=l,(u.startsWith("Touch")&&l===Dp.Touch||u.startsWith("Mouse")&&l===Dp.Mouse)&&(l=null)):Lp[t]===Lp.Click&&(l=d,d=null);const p=bp(n)?n.changedTouches[0]:n;if(!p)return;const h=r.getId(c),{clientX:f,clientY:m}=p;Gp(e)((0,i.A)({type:Lp[u],id:h,x:f,y:m},null!==l&&{pointerType:l}))})(t);if(window.PointerEvent)switch(Lp[t]){case Lp.MouseDown:case Lp.MouseUp:c=c.replace("mouse","pointer");break;case Lp.TouchStart:case Lp.TouchEnd:return}u.push(sp(c,l,n))}),Gp(()=>{u.forEach(t=>t())})}function Xp(t){let{scrollCb:e,doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,sampling:a}=t;return sp("scroll",Gp(lp(Gp(t=>{const a=Kp(t);if(!a||vp(a,o,i,s,!0))return;const c=r.getId(a);if(a===n&&n.defaultView){const t=hp(n.defaultView);e({id:c,x:t.left,y:t.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})}),a.scroll||100)),n)}const Zp=["INPUT","TEXTAREA","SELECT"],Qp=new WeakMap;function th(t){let{inputCb:e,doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:a,ignoreClass:c,ignoreSelector:l,maskInputOptions:u,maskInputFn:d,sampling:p,userTriggeredOnInput:h,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:v}=t;function y(t){let e=Kp(t);const r=t.isTrusted,i=e&&Cd(e.tagName);if("OPTION"===i&&(e=e.parentElement),!e||!i||Zp.indexOf(i)<0||vp(e,o,s,a,!0))return;const p=e;if(p.classList.contains(c)||l&&p.matches(l))return;const y=Td(e);let b=Id(p,i,y),S=!1;const w=kd({maskInputOptions:u,tagName:i,type:y}),k=np(e,f,g,m,v,w);"radio"!==y&&"checkbox"!==y||(S=e.checked),b=Ed({isMasked:k,element:e,value:b,maskInputFn:d}),_(e,h?{text:b,isChecked:S,userTriggered:r}:{text:b,isChecked:S});const E=e.name;"radio"===y&&E&&S&&n.querySelectorAll('input[type="radio"][name="'.concat(E,'"]')).forEach(t=>{if(t!==e){const e=Ed({isMasked:k,element:t,value:Id(t,i,y),maskInputFn:d});_(t,h?{text:e,isChecked:!S,userTriggered:!1}:{text:e,isChecked:!S})}})}function _(t,n){const o=Qp.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){Qp.set(t,n);const o=r.getId(t);Gp(e)((0,i.A)((0,i.A)({},n),{},{id:o}))}}const b=("last"===p.input?["change"]:["input","change"]).map(t=>sp(t,Gp(y),n)),S=n.defaultView;if(!S)return()=>{b.forEach(t=>t())};const w=S.Object.getOwnPropertyDescriptor(S.HTMLInputElement.prototype,"value"),k=[[S.HTMLInputElement.prototype,"value"],[S.HTMLInputElement.prototype,"checked"],[S.HTMLSelectElement.prototype,"value"],[S.HTMLTextAreaElement.prototype,"value"],[S.HTMLSelectElement.prototype,"selectedIndex"],[S.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&b.push(...k.map(t=>up(t[0],t[1],{set(){Gp(y)({target:this,isTrusted:!1})}},!1,S))),Gp(()=>{b.forEach(t=>t())})}function eh(t){return function(t,e){if(ih("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||ih("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||ih("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||ih("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else if(t.parentStyleSheet){const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function nh(t,e,n){let r,o;return t?(t.ownerNode?r=e.getId(t.ownerNode):o=n.getId(t),{styleId:o,id:r}):{}}function rh(t,e){var n,r;let{mirror:o,stylesheetManager:i}=t,s=null;s="#document"===e.nodeName?o.getId(e):o.getId(e.host);const a="#document"===e.nodeName?null===(n=e.defaultView)||void 0===n?void 0:n.Document:null===(r=e.ownerDocument)||void 0===r||null===(r=r.defaultView)||void 0===r?void 0:r.ShadowRoot,c=null!==a&&void 0!==a&&a.prototype?Object.getOwnPropertyDescriptor(null===a||void 0===a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&c?(Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var t;return null===(t=c.get)||void 0===t?void 0:t.call(this)},set(t){var e;const n=null===(e=c.set)||void 0===e?void 0:e.call(this,t);if(null!==s&&-1!==s)try{i.adoptStyleSheets(t,s)}catch(r){}return n}}),Gp(()=>{Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})})):()=>{}}function oh(t){const e=t.doc.defaultView;if(!e)return()=>{};let n;t.recordDOM&&(n=Jp(t,t.doc));const r=function(t){let{mousemoveCb:e,sampling:n,doc:r,mirror:o}=t;if(!1===n.mousemove)return()=>{};const i="number"===typeof n.mousemove?n.mousemove:50,s="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let a,c=[];const l=lp(Gp(t=>{const n=Date.now()-a;e(c.map(t=>(t.timeOffset-=n,t)),t),c=[],a=null}),s),u=Gp(lp(Gp(t=>{const e=Kp(t),{clientX:n,clientY:r}=bp(t)?t.changedTouches[0]:t;a||(a=pp()),c.push({x:n,y:r,id:o.getId(e),timeOffset:pp()-a}),l("undefined"!==typeof DragEvent&&t instanceof DragEvent?Op.Drag:t instanceof MouseEvent?Op.MouseMove:Op.TouchMove)}),i,{trailing:!1})),d=[sp("mousemove",u,r),sp("touchmove",u,r),sp("drag",u,r)];return Gp(()=>{d.forEach(t=>t())})}(t),o=Yp(t),i=Xp(t),s=function(t,e){let{viewportResizeCb:n}=t,{win:r}=e,o=-1,i=-1;return sp("resize",Gp(lp(Gp(()=>{const t=fp(),e=mp();o===t&&i===e||(n({width:Number(e),height:Number(t)}),o=t,i=e)}),200)),r)}(t,{win:e}),a=th(t),c=function(t){let{mediaInteractionCb:e,blockClass:n,blockSelector:r,unblockSelector:o,mirror:i,sampling:s,doc:a}=t;const c=Gp(t=>lp(Gp(s=>{const a=Kp(s);if(!a||vp(a,n,r,o,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=a;e({type:t,id:i.getId(a),currentTime:c,volume:l,muted:u,playbackRate:d})}),s.media||500)),l=[sp("play",c(Pp.Play),a),sp("pause",c(Pp.Pause),a),sp("seeked",c(Pp.Seeked),a),sp("volumechange",c(Pp.VolumeChange),a),sp("ratechange",c(Pp.RateChange),a)];return Gp(()=>{l.forEach(t=>t())})}(t);let l=()=>{},u=()=>{},d=()=>{},p=()=>{};t.recordDOM&&(l=function(t,e){let{styleSheetRuleCb:n,mirror:r,stylesheetManager:o}=t,{win:i}=e;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const s=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Gp((t,e,i)=>{const[s,a]=i,{id:c,styleId:l}=nh(e,r,o.styleMirror);return(c&&-1!==c||l&&-1!==l)&&n({id:c,styleId:l,adds:[{rule:s,index:a}]}),t.apply(e,i)})});const a=i.CSSStyleSheet.prototype.deleteRule;let c,l;i.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:Gp((t,e,i)=>{const[s]=i,{id:a,styleId:c}=nh(e,r,o.styleMirror);return(a&&-1!==a||c&&-1!==c)&&n({id:a,styleId:c,removes:[{index:s}]}),t.apply(e,i)})}),i.CSSStyleSheet.prototype.replace&&(c=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(c,{apply:Gp((t,e,i)=>{const[s]=i,{id:a,styleId:c}=nh(e,r,o.styleMirror);return(a&&-1!==a||c&&-1!==c)&&n({id:a,styleId:c,replace:s}),t.apply(e,i)})})),i.CSSStyleSheet.prototype.replaceSync&&(l=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Gp((t,e,i)=>{const[s]=i,{id:a,styleId:c}=nh(e,r,o.styleMirror);return(a&&-1!==a||c&&-1!==c)&&n({id:a,styleId:c,replaceSync:s}),t.apply(e,i)})}));const u={};sh("CSSGroupingRule")?u.CSSGroupingRule=i.CSSGroupingRule:(sh("CSSMediaRule")&&(u.CSSMediaRule=i.CSSMediaRule),sh("CSSConditionRule")&&(u.CSSConditionRule=i.CSSConditionRule),sh("CSSSupportsRule")&&(u.CSSSupportsRule=i.CSSSupportsRule));const d={};return Object.entries(u).forEach(t=>{let[e,i]=t;d[e]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(d[e].insertRule,{apply:Gp((t,e,i)=>{const[s,a]=i,{id:c,styleId:l}=nh(e.parentStyleSheet,r,o.styleMirror);return(c&&-1!==c||l&&-1!==l)&&n({id:c,styleId:l,adds:[{rule:s,index:[...eh(e),a||0]}]}),t.apply(e,i)})}),i.prototype.deleteRule=new Proxy(d[e].deleteRule,{apply:Gp((t,e,i)=>{const[s]=i,{id:a,styleId:c}=nh(e.parentStyleSheet,r,o.styleMirror);return(a&&-1!==a||c&&-1!==c)&&n({id:a,styleId:c,removes:[{index:[...eh(e),s]}]}),t.apply(e,i)})})}),Gp(()=>{i.CSSStyleSheet.prototype.insertRule=s,i.CSSStyleSheet.prototype.deleteRule=a,c&&(i.CSSStyleSheet.prototype.replace=c),l&&(i.CSSStyleSheet.prototype.replaceSync=l),Object.entries(u).forEach(t=>{let[e,n]=t;n.prototype.insertRule=d[e].insertRule,n.prototype.deleteRule=d[e].deleteRule})})}(t,{win:e}),u=rh(t,t.doc),d=function(t,e){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:o,stylesheetManager:i}=t,{win:s}=e;const a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Gp((t,e,s)=>{var c;const[l,u,d]=s;if(o.has(l))return a.apply(e,[l,u,d]);const{id:p,styleId:h}=nh(null===(c=e.parentRule)||void 0===c?void 0:c.parentStyleSheet,r,i.styleMirror);return(p&&-1!==p||h&&-1!==h)&&n({id:p,styleId:h,set:{property:l,value:u,priority:d},index:eh(e.parentRule)}),t.apply(e,s)})});const c=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(c,{apply:Gp((t,e,s)=>{var a;const[l]=s;if(o.has(l))return c.apply(e,[l]);const{id:u,styleId:d}=nh(null===(a=e.parentRule)||void 0===a?void 0:a.parentStyleSheet,r,i.styleMirror);return(u&&-1!==u||d&&-1!==d)&&n({id:u,styleId:d,remove:{property:l},index:eh(e.parentRule)}),t.apply(e,s)})}),Gp(()=>{s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=c})}(t,{win:e}),t.collectFonts&&(p=function(t){let{fontCb:e,doc:n}=t;const r=n.defaultView;if(!r)return()=>{};const o=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(t,e,n){const r=new s(t,e,n);return i.set(r,{family:t,buffer:"string"!==typeof e,descriptors:n,fontSource:"string"===typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),r};const a=dp(n.fonts,"add",function(t){return function(n){return Mp(Gp(()=>{const t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}});return o.push(()=>{r.FontFace=s}),o.push(a),Gp(()=>{o.forEach(t=>t())})}(t)));const h=function(t){const{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=t;let a=!0;const c=Gp(()=>{const t=e.getSelection();if(!t||a&&null!==t&&void 0!==t&&t.isCollapsed)return;a=t.isCollapsed||!1;const c=[],l=t.rangeCount||0;for(let e=0;e<l;e++){const s=t.getRangeAt(e),{startContainer:a,startOffset:l,endContainer:u,endOffset:d}=s;vp(a,r,o,i,!0)||vp(u,r,o,i,!0)||c.push({start:n.getId(a),startOffset:l,end:n.getId(u),endOffset:d})}s({ranges:c})});return c(),sp("selectionchange",c)}(t),f=function(t){let{doc:e,customElementCb:n}=t;const r=e.defaultView;return r&&r.customElements?dp(r.customElements,"define",function(t){return function(e,r,o){try{n({define:{name:e}})}catch(i){}return t.apply(this,[e,r,o])}}):()=>{}}(t),m=[];for(const g of t.plugins)m.push(g.observer(g.callback,e,g.options));return Gp(()=>{var t;$p.forEach(t=>t.reset()),null===(t=n)||void 0===t||t.disconnect(),r(),o(),i(),s(),a(),c(),l(),u(),d(),p(),h(),f(),m.forEach(t=>t())})}function ih(t){return"undefined"!==typeof window[t]}function sh(t){return Boolean("undefined"!==typeof window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class ah{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,n,r){const o=n||this.getIdToRemoteIdMap(t),i=r||this.getRemoteIdToIdMap(t);let s=o.get(e);return s||(s=this.generateIdFn(),o.set(e,s),i.set(s,e)),s}getIds(t,e){const n=this.getIdToRemoteIdMap(t),r=this.getRemoteIdToIdMap(t);return e.map(e=>this.getId(t,e,n,r))}getRemoteId(t,e,n){const r=n||this.getRemoteIdToIdMap(t);if("number"!==typeof e)return e;const o=r.get(e);return o||-1}getRemoteIds(t,e){const n=this.getRemoteIdToIdMap(t);return e.map(e=>this.getRemoteId(t,e,n))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}class ch{constructor(){this.crossOriginIframeMirror=new ah(Bd),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class lh{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ah(Bd),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ah(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null===(n=t.contentWindow)||void 0===n||n.addEventListener("message",this.handleMessage.bind(this))),null===(r=this.loadListener)||void 0===r||r.call(this,t);const o=Np(t);o&&o.adoptedStyleSheets&&o.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(o.adoptedStyleSheets,this.mirror.getId(o))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const n=this.crossOriginIframeMap.get(t.source);if(!n)return;const r=this.transformCrossOriginEvent(n,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(t,e){switch(e.type){case Rp.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const n=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(e.data.node,n),{timestamp:e.timestamp,type:Rp.IncrementalSnapshot,data:{source:Op.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Rp.Meta:case Rp.Load:case Rp.DomContentLoaded:return!1;case Rp.Plugin:return e;case Rp.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Rp.IncrementalSnapshot:switch(e.data.source){case Op.Mutation:return e.data.adds.forEach(e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const n=this.crossOriginIframeRootIdMap.get(t);n&&this.patchRootIdOnNode(e.node,n)}),e.data.removes.forEach(e=>{this.replaceIds(e,t,["parentId","id"])}),e.data.attributes.forEach(e=>{this.replaceIds(e,t,["id"])}),e.data.texts.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case Op.Drag:case Op.TouchMove:case Op.MouseMove:return e.data.positions.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case Op.ViewportResize:return!1;case Op.MediaInteraction:case Op.MouseInteraction:case Op.Scroll:case Op.CanvasMutation:case Op.Input:return this.replaceIds(e.data,t,["id"]),e;case Op.StyleSheetRule:case Op.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Op.Font:return e;case Op.Selection:return e.data.ranges.forEach(e=>{this.replaceIds(e,t,["start","end"])}),e;case Op.AdoptedStyleSheet:var n;return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null===(n=e.data.styles)||void 0===n||n.forEach(e=>{this.replaceStyleIds(e,t,["styleId"])}),e}}return!1}replace(t,e,n,r){for(const o of r)(Array.isArray(e[o])||"number"===typeof e[o])&&(Array.isArray(e[o])?e[o]=t.getIds(n,e[o]):e[o]=t.getId(n,e[o]));return e}replaceIds(t,e,n){return this.replace(this.crossOriginIframeMirror,t,e,n)}replaceStyleIds(t,e,n){return this.replace(this.crossOriginIframeStyleMirror,t,e,n)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(t=>{this.replaceIdOnNode(t,e)})}patchRootIdOnNode(t,e){t.type===vd.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach(t=>{this.patchRootIdOnNode(t,e)})}}class uh{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class dh{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!_d(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const n=Jp((0,i.A)((0,i.A)({},this.bypassOptions),{},{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Xp((0,i.A)((0,i.A)({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),Mp(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(rh({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const e=Np(t),n=function(t){try{return t.contentWindow}catch(e){}}(t);e&&n&&this.patchAttachShadow(n.Element,e)}patchAttachShadow(t,e){const n=this;this.restoreHandlers.push(dp(t.prototype,"attachShadow",function(t){return function(r){const o=t.call(this,r);return this.shadowRoot&&Ap(this)&&n.addShadowRoot(this.shadowRoot,e),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hh="undefined"===typeof Uint8Array?[]:new Uint8Array(256),fh=0;fh<64;fh++)hh[ph.charCodeAt(fh)]=fh;class mh{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class gh{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ep,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const n={id:e,styleIds:[]},r=[];for(const o of t){let t;this.styleMirror.has(o)?t=this.styleMirror.getId(o):(t=this.styleMirror.add(o),r.push({styleId:t,rules:Array.from(o.rules||CSSRule,(t,e)=>({rule:Sd(t),index:e}))})),n.styleIds.push(t)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class vh{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,e){const n=this.nodeMap.get(t);return n&&Array.from(n).some(t=>t!==e)}add(t,e){this.active||(this.active=!0,function(){Ip("requestAnimationFrame")(...arguments)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}destroy(){}}let yh,_h;try{if(2!==Array.from([1],t=>2*t)[0]){var bh;const t=document.createElement("iframe");document.body.appendChild(t),Array.from=(null===(bh=t.contentWindow)||void 0===bh?void 0:bh.Array.from)||Array.from,document.body.removeChild(t)}}catch(a_){console.debug("Unable to override Array.from",a_)}const Sh=new wd;function wh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:a=null,ignoreClass:c="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:p=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:v,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:b,maskTextFn:S,maxCanvasSize:w=null,packFn:k,sampling:E={},dataURLOptions:x={},mousemoveWait:C,recordDOM:A=!0,recordCanvas:T=!1,recordCrossOriginIframes:I=!1,recordAfter:M=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:O=!1,inlineImages:L=!1,plugins:D,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:F,onMutation:B,getCanvasManager:U}=t;Vp=F;const j=!I||window.parent===window;let H=!1;if(!j)try{window.parent.document&&(H=!1)}catch(nt){H=!0}if(j&&!e)throw new Error("emit function is required");if(!j&&!H)return()=>{};void 0!==C&&void 0===E.mousemove&&(E.mousemove=C),Sh.reset();const z=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==v?v:{},W=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let q;!function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let o=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(t===o)return!0}while(o=o&&o.parentNode);return!1})}();let V=0;const G=t=>{for(const e of D||[])e.eventProcessor&&(t=e.eventProcessor(t));return k&&!H&&(t=k(t)),t};yh=(t,o)=>{var i;const s=t;if(s.timestamp=pp(),null===(i=$p[0])||void 0===i||!i.isFrozen()||s.type===Rp.FullSnapshot||s.type===Rp.IncrementalSnapshot&&s.data.source===Op.Mutation||$p.forEach(t=>t.unfreeze()),j)null===e||void 0===e||e(G(s),o);else if(H){const t={type:"rrweb",event:G(s),origin:window.location.origin,isCheckout:o};window.parent.postMessage(t,"*")}if(s.type===Rp.FullSnapshot)q=s,V=0;else if(s.type===Rp.IncrementalSnapshot){if(s.data.source===Op.Mutation&&s.data.isAttachIframe)return;V++;const t=r&&V>=r,e=n&&q&&s.timestamp-q.timestamp>n;(t||e)&&et(!0)}};const $=t=>{yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.Mutation},t)})},K=t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.Scroll},t)}),J=t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.CanvasMutation},t)}),Y=new gh({mutationCb:$,adoptedStyleSheetCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.AdoptedStyleSheet},t)})}),X="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new ch:new lh({mirror:Sh,mutationCb:$,stylesheetManager:Y,recordCrossOriginIframes:I,wrappedEmit:yh});for(const i of D||[])i.getMirror&&i.getMirror({nodeMirror:Sh,crossOriginIframeMirror:X.crossOriginIframeMirror,crossOriginIframeStyleMirror:X.crossOriginIframeStyleMirror});const Z=new vh,Q=function(t,e){try{return t?t(e):new mh}catch(n){return console.warn("Unable to initialize CanvasManager"),new mh}}(U,{mirror:Sh,win:window,mutationCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.CanvasMutation},t)}),recordCanvas:T,blockClass:o,blockSelector:s,unblockSelector:a,maxCanvasSize:w,sampling:E.canvas,dataURLOptions:x,errorHandler:F}),tt="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new uh:new dh({mutationCb:$,scrollCb:K,bypassOptions:{onMutation:B,blockClass:o,blockSelector:s,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:z,dataURLOptions:x,maskAttributeFn:_,maskTextFn:S,maskInputFn:b,recordCanvas:T,inlineImages:L,sampling:E,slimDOMOptions:W,iframeManager:X,stylesheetManager:Y,canvasManager:Q,keepIframeSrcFn:P,processedNodeManager:Z},mirror:Sh}),et=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!A)return;yh({type:Rp.Meta,data:{href:window.location.href,width:mp(),height:fp()}},t),Y.reset(),tt.init(),$p.forEach(t=>t.lock());const e=function(t,e){const{mirror:n=new wd,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onBlockedImageLoad:E,onStylesheetLoad:x,stylesheetLoadTimeout:C,keepIframeSrcFn:A=()=>!1}=e||{};return ip(t,{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onBlockedImageLoad:E,onStylesheetLoad:x,stylesheetLoadTimeout:C,keepIframeSrcFn:A,newlyAddedElement:!1})}(document,{mirror:Sh,blockClass:o,blockSelector:s,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:z,maskAttributeFn:_,maskInputFn:b,maskTextFn:S,slimDOM:W,dataURLOptions:x,recordCanvas:T,inlineImages:L,onSerialize:t=>{Sp(t,Sh)&&X.addIframe(t),wp(t,Sh)&&Y.trackLinkElement(t),kp(t)&&tt.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{X.attachIframe(t,e),t.contentWindow&&Q.addWindow(t.contentWindow),tt.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{Y.attachLinkElement(t,e)},onBlockedImageLoad:(t,e,n)=>{let{width:r,height:o}=n;$({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:{style:{width:"".concat(r,"px"),height:"".concat(o,"px")}}}]})},keepIframeSrcFn:P});if(!e)return console.warn("Failed to snapshot the document");yh({type:Rp.FullSnapshot,data:{node:e,initialOffset:hp(window)}}),$p.forEach(t=>t.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,Sh.getId(document))};_h=et;try{const t=[],e=t=>{var e;return Gp(oh)({onMutation:B,mutationCb:$,mousemoveCb:(t,e)=>yh({type:Rp.IncrementalSnapshot,data:{source:e,positions:t}}),mouseInteractionCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.MouseInteraction},t)}),scrollCb:K,viewportResizeCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.ViewportResize},t)}),inputCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.Input},t)}),mediaInteractionCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.MediaInteraction},t)}),styleSheetRuleCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.StyleSheetRule},t)}),styleDeclarationCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.StyleDeclaration},t)}),canvasMutationCb:J,fontCb:t=>yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.Font},t)}),selectionCb:t=>{yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.Selection},t)})},customElementCb:t=>{yh({type:Rp.IncrementalSnapshot,data:(0,i.A)({source:Op.CustomElement},t)})},blockClass:o,ignoreClass:c,ignoreSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:f,maskInputOptions:z,inlineStylesheet:m,sampling:E,recordDOM:A,recordCanvas:T,inlineImages:L,userTriggeredOnInput:R,collectFonts:O,doc:t,maskAttributeFn:_,maskInputFn:b,maskTextFn:S,keepIframeSrcFn:P,blockSelector:s,unblockSelector:a,slimDOMOptions:W,dataURLOptions:x,mirror:Sh,iframeManager:X,stylesheetManager:Y,shadowDomManager:tt,processedNodeManager:Z,canvasManager:Q,ignoreCSSAttributes:N,plugins:(null===D||void 0===D||null===(e=D.filter(t=>t.observer))||void 0===e?void 0:e.map(t=>({observer:t.observer,options:t.options,callback:e=>yh({type:Rp.Plugin,data:{plugin:t.name,payload:e}})})))||[]},{})};X.addLoadListener(n=>{try{t.push(e(n.contentDocument))}catch(r){console.warn(r)}});const n=()=>{et(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(t.push(sp("DOMContentLoaded",()=>{yh({type:Rp.DomContentLoaded,data:{}}),"DOMContentLoaded"===M&&n()})),t.push(sp("load",()=>{yh({type:Rp.Load,data:{}}),"load"===M&&n()},window))),()=>{t.forEach(t=>t()),Z.destroy(),_h=void 0,Vp=void 0}}catch(rt){console.warn(rt)}}var kh,Eh;wh.mirror=Sh,wh.takeFullSnapshot=function(t){if(!_h)throw new Error("please take full snapshot after start recording");_h(t)},(Eh=kh||(kh={}))[Eh.NotStarted=0]="NotStarted",Eh[Eh.Running=1]="Running",Eh[Eh.Stopped=2]="Stopped";function xh(t){return t>9999999999?t:1e3*t}function Ch(t){return t>9999999999?t/1e3:t}function Ah(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Rp.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:xo(e,10,1e3)}}),"console"===e.category)))}function Th(t){return t.closest("button,a")||t}function Ih(t){const e=Mh(t);return e&&e instanceof Element?Th(e):e}function Mh(t){return function(t){return"object"===typeof t&&!!t&&"target"in t}(t)?t.target:t}let Rh;function Oh(t){return Rh||(Rh=[],q(id,"open",function(t){return function(){if(Rh)try{Rh.forEach(t=>t())}catch(o){}for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(id,n)}})),Rh.push(t),()=>{const e=Rh?Rh.indexOf(t):-1;e>-1&&Rh.splice(e,1)}}const Lh=new Set([Op.Mutation,Op.StyleSheetRule,Op.StyleDeclaration,Op.AdoptedStyleSheet,Op.CanvasMutation,Op.Selection,Op.MediaInteraction]);class Dh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ah;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scrollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=Oh(()=>{this._lastMutation=Nh()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!Ph.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!==typeof t.data.nodeId||!t.timestamp)}(t))return;const n={timestamp:Ch(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some(t=>t.node===n.node&&Math.abs(t.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=Ch(t)}registerScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=Ch(t)}registerClick(t){const e=Th(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach(t=>{t.clickCount++})}_getClicks(t){return this._clicks.filter(e=>e.node===t)}_checkClicks(){const t=[],e=Nh();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=e&&t.push(n)});for(const n of t){const t=this._clicks.indexOf(n);t>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,r=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:s,clickBreadcrumb:a}=t;if(o){const n=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:(0,i.A)((0,i.A)({},a.data),{},{url:id.location.href,route:e.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:s||1})};return void this._addBreadcrumbEvent(e,o)}if(s>1){const t={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:(0,i.A)((0,i.A)({},a.data),{},{url:id.location.href,route:e.getCurrentRoute(),clickCount:s,metric:!0})};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=xc(()=>this._checkClicks(),1e3)}}const Ph=["A","BUTTON","INPUT"];function Nh(){return Date.now()/1e3}function Fh(t,e){try{if(!function(t){return 3===t.type}(e))return;const{source:n}=e.data;if(Lh.has(n)&&t.registerMutation(e.timestamp),n===Op.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===Op.MouseInteraction}(e)){const{type:n,id:r}=e.data,o=wh.mirror.getNode(r);o instanceof HTMLElement&&n===Lp.Click&&t.registerClick(o)}}catch(n){}}function Bh(t){return(0,i.A)({timestamp:Date.now()/1e3,type:"default"},t)}var Uh=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Uh||{});const jh=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Hh(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(jh.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),e[r]=t[n]}return e}const zh=t=>e=>{if(!t.isEnabled())return;const n=function(t){const{target:e,message:n}=function(t){const e="click"===t.name;let n,r=null;try{r=e?Ih(t.event):Mh(t.event),n=T(r,{maxStringLength:200})||"<unknown>"}catch(o){n="<unknown>"}return{target:r,message:n}}(t);return Bh((0,i.A)({category:"ui.".concat(t.name)},Wh(e,n)))}(e);if(!n)return;const r="click"===e.name,o=r?e.event:void 0;var s,a,c;!(r&&t.clickDetector&&null!==o&&void 0!==o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(s=t.clickDetector,a=n,c=Ih(e.event),s.handleClick(a,c)),Ah(t,n)};function Wh(t,e){const n=wh.mirror.getId(t),r=n&&wh.mirror.getNode(n),o=r&&wh.mirror.getMeta(r),i=o&&function(t){return t.type===Uh.Element}(o)?o:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(t=>t.type===Uh.Text&&t.textContent).filter(Boolean).map(t=>t.trim()).join(""),attributes:Hh(i.attributes)}}:{}}}function qh(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=function(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:o,key:s,target:a}=t;if(!a||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(a)||!s)return null;const c=e||r||o,l=1===s.length;if(!c&&l)return null;const u=T(a,{maxStringLength:200})||"<unknown>",d=Wh(a,u);return Bh({category:"ui.keyDown",message:u,data:(0,i.A)((0,i.A)({},d.data),{},{metaKey:e,shiftKey:n,ctrlKey:r,altKey:o,key:s})})}(e);n&&Ah(t,n)}const Vh={resource:function(t){const{entryType:e,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:l}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(e,".").concat(n),start:Kh(i),end:Kh(o),name:r,data:{size:l,statusCode:c,decodedBodySize:s,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:r,startTime:o}=t,i=Kh(o);return{type:n,name:r,start:i,end:i+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=t;if(0===o)return null;return{type:"".concat(e,".").concat(m),start:Kh(h),end:Kh(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function Gh(t,e){return n=>{let{metric:r}=n;e.replayPerformanceEntries.push(t(r))}}function $h(t){const e=Vh[t.entryType];return e?e(t):null}function Kh(t){return((ct()||id.performance.timeOrigin)+t)/1e3}function Jh(t){const e=t.entries[t.entries.length-1];return Qh(t,"largest-contentful-paint",null!==e&&void 0!==e&&e.element?[e.element]:void 0)}function Yh(t){return void 0!==t.sources}function Xh(t){const e=[],n=[];for(const r of t.entries)if(Yh(r)){const t=[];for(const e of r.sources)if(e.node){n.push(e.node);const r=wh.mirror.getId(e.node);r&&t.push(r)}e.push({value:r.value,nodeIds:t.length?t:void 0})}return Qh(t,"cumulative-layout-shift",n,e)}function Zh(t){const e=t.entries[t.entries.length-1];return Qh(t,"interaction-to-next-paint",null!==e&&void 0!==e&&e.target?[e.target]:void 0)}function Qh(t,e,n,r){const o=t.value,i=t.rating,s=Kh(o);return{type:"web-vital",name:e,start:s,end:s,data:{value:o,size:o,rating:i,nodeIds:n?n.map(t=>wh.mirror.getId(t)):void 0,attributions:r}}}const tf="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const ef=["log","warn","error"],nf="[Replay] ";function rf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";ns({category:"console",data:{logger:"replay"},level:e,message:"".concat(nf).concat(t)},{level:e})}const of=function(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{t=!!n.captureExceptions,e=!!n.traceInternals}};return tf?(ef.forEach(t=>{n[t]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];B[t](nf,...r),e&&rf(r.join(""),us(t))}}),n.exception=function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];i.length&&n.error&&n.error(...i),B.error(nf,r),t?Ro(r):e&&rf(r,"error")},n.infoTick=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];B.log(nf,...n),e&&setTimeout(()=>rf(n[0]),0)}):ef.forEach(t=>{n[t]=()=>{}}),n}();class sf extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(pd,"."))}}class af{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>pd)throw new sf;this.events.push(t)}finish(){return new Promise(t=>{const e=this.events;this.clear(),t(JSON.stringify(e))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(t=>t.timestamp).sort()[0];return t?xh(t):null}}class cf{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((t,e)=>{this._worker.addEventListener("message",n=>{let{data:r}=n;r.success?t():e()},{once:!0}),this._worker.addEventListener("error",t=>{e(t)},{once:!0})})),this._ensureReadyPromise}destroy(){tf&&of.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise((r,o)=>{const i=e=>{let{data:s}=e;const a=s;if(a.method===t&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return tf&&of.error("Error in compression worker: ",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:t,arg:e})})}_getAndIncrementId(){return this._id++}}class lf{constructor(t){this._worker=new cf(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=xh(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>pd?Promise.reject(new sf):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{tf&&of.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class uf{constructor(t){this._fallback=new af,this._compression=new lf(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void(tf&&of.exception(t,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e,waitForCheckout:n}=this._fallback,r=[];for(const i of t)r.push(this._compression.addEvent(i));this._compression.hasCheckout=e,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(o){tf&&of.exception(o,"Failed to add events when switching buffers.")}}}function df(t){let{useCompression:e,workerUrl:n}=t;if(e&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(t)}();return""}();if(!e)return;tf&&of.log("Using compression worker".concat(t?" from ".concat(t):""));const n=new Worker(e);return new uf(n)}catch(e){tf&&of.exception(e,"Failed to create compression worker")}}(n);if(t)return t}return tf&&of.log("Using simple buffer"),new af}function pf(){try{return"sessionStorage"in id&&!!id.sessionStorage}catch(t){return!1}}function hf(t){!function(){if(!pf())return;try{id.sessionStorage.removeItem(sd)}catch(t){}}(),t.session=void 0}function ff(t){return void 0!==t&&Math.random()<t}function mf(t){if(pf())try{id.sessionStorage.setItem(sd,JSON.stringify(t))}catch(e){}}function gf(t){const e=Date.now();return{id:t.id||X(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function vf(t){let{sessionSampleRate:e,allowBuffering:n,stickySession:r=!1}=t,{previousSessionId:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(t,e){return ff(t)?"session":!!e&&"buffer"}(e,n),s=gf({sampled:i,previousSessionId:o});return r&&mf(s),s}function yf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===t||void 0===e||e<0||0!==e&&t+e<=n}function _f(t,e){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:o=Date.now()}=e;return yf(t.started,n,o)||yf(t.lastActivity,r,o)}function bf(t,e){let{sessionIdleExpire:n,maxReplayDuration:r}=e;return!!_f(t,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==t.sampled||0!==t.segmentId)}function Sf(t,e){let{sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:o}=t;const i=e.stickySession&&function(){if(!pf())return null;try{const t=id.sessionStorage.getItem(sd);if(!t)return null;const e=JSON.parse(t);return tf&&of.infoTick("Loading existing session"),gf(e)}catch(t){return null}}();return i?bf(i,{sessionIdleExpire:n,maxReplayDuration:r})?(tf&&of.infoTick("Session in sessionStorage is expired, creating new one..."),vf(e,{previousSessionId:i.id})):i:(tf&&of.infoTick("Creating new session"),vf(e,{previousSessionId:o}))}function wf(t,e,n){return!!Ef(t,e)&&(kf(t,e,n),!0)}async function kf(t,e,n){const{eventBuffer:r}=t;if(!r||r.waitForCheckout&&!n)return null;const o="buffer"===t.recordingMode;try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=function(t,e){try{if("function"===typeof e&&function(t){return t.type===Rp.Custom}(t))return e(t)}catch(n){return tf&&of.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!i)return;return await r.addEvent(i)}catch(i){const e=i&&i instanceof sf,n=e?"addEventSizeExceeded":"addEvent";if(e&&o)return r.clear(),r.waitForCheckout=!0,null;t.handleException(i),await t.stop({reason:n});const s=It();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function Ef(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=xh(e.timestamp);return!(n+t.timeouts.sessionIdlePause<Date.now())&&(!(n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(tf&&of.infoTick("Skipping event with timestamp ".concat(n," because it is after maxReplayDuration")),!1))}function xf(t){return!t.type}function Cf(t){return"transaction"===t.type}function Af(t){return"feedback"===t.type}function Tf(t){return(e,n)=>{if(!t.isEnabled()||!xf(e)&&!Cf(e))return;const r=null===n||void 0===n?void 0:n.statusCode;!r||r<200||r>=300||(Cf(e)?function(t,e){var n;const r=t.getContext();null!==(n=e.contexts)&&void 0!==n&&null!==(n=n.trace)&&void 0!==n&&n.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}(t,e):function(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();if("function"===typeof r&&!r(e))return;xc(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(a_){t.handleException(a_)}})}(t,e))}}function If(t){return e=>{t.isEnabled()&&xf(e)&&function(t,e){var n;const r=null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value;if("string"!==typeof r)return;if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Ah(t,Bh({category:"replay.hydrate-error",data:{url:M()}}))}}(t,e)}}function Mf(t){const e=It();e&&e.on("beforeAddBreadcrumb",e=>function(t,e){if(!t.isEnabled()||!Rf(e))return;const n=function(t){if(!Rf(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(t){var e;const n=null===(e=t.data)||void 0===e?void 0:e.arguments;if(!Array.isArray(n)||0===n.length)return Bh(t);let r=!1;const o=n.map(t=>{if(!t)return t;if("string"===typeof t)return t.length>dd?(r=!0,"".concat(t.slice(0,dd),"\u2026")):t;if("object"===typeof t)try{const e=xo(t,7);return JSON.stringify(e).length>dd?(r=!0,"".concat(JSON.stringify(e,null,2).slice(0,dd),"\u2026")):e}catch(e){}return t});return Bh((0,i.A)((0,i.A)({},t),{},{data:(0,i.A)((0,i.A)({},t.data),{},{arguments:o},r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(t);return Bh(t)}(e);n&&Ah(t,n)}(t,e))}function Rf(t){return!!t.category}function Of(){const t=Et().getPropagationContext().dsc;t&&delete t.replay_id;const e=Qr();if(e){delete so(e).replay_id}}function Lf(t){return Object.assign((e,n)=>{if(!t.isEnabled()||t.isPaused())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!xf(e)&&!Cf(e)&&!Af(e))return e;if(!t.checkAndHandleExpiredSession())return Of(),e;if(Af(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate(()=>!e.timestamp||(t.throttledAddEvent({type:Rp.Custom,timestamp:1e3*e.timestamp,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1))}(t,e),e;if(function(t,e){var n,r;return!(t.type||null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||!n.length)&&!(null===(r=e.originalException)||void 0===r||!r.__rrweb__)}(e,n)&&!t.getOptions()._experiments.captureExceptions)return tf&&of.log("Ignoring error from rrweb internals",e),null;const r=function(t,e){return"buffer"===t.recordingMode&&e.message!==ad&&!(!e.exception||e.type)&&ff(t.getOptions().errorSampleRate)}(t,e);return(r||"session"===t.recordingMode)&&(e.tags=(0,i.A)((0,i.A)({},e.tags),{},{replayId:t.getSessionId()})),e},{id:"Replay"})}function Df(t,e){return e.map(e=>{let{type:n,start:r,end:o,name:i,data:s}=e;const a=t.throttledAddEvent({type:Rp.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return"string"===typeof a?Promise.resolve(null):a})}function Pf(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(Df(t,[n]),!1)))}}function Nf(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!tf||!t.getOptions()._experiments.traceInternals)&&ql(e,It())}(t,e.name)||t.addUpdate(()=>(Df(t,[e]),!0)))}function Ff(t){if(!t)return;const e=new TextEncoder;try{if("string"===typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=eu(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(n){}}function Bf(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Uf(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n=(0,i.A)({},t._meta),r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function jf(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=e;return{type:t,start:n/1e3,end:r/1e3,name:o,data:{method:i,statusCode:s,request:a,response:c}}}function Hf(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function zf(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:o,warnings:i}=function(t){if(!t||"string"!==typeof t)return{body:t};const e=t.length>ud,n=function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t);if(e){const e=t.slice(0,ud);return n?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(e,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(r){}return{body:t}}(n);return r.body=o,null!==i&&void 0!==i&&i.length&&(r._meta={warnings:i}),r}function Wf(t,e){return Object.entries(t).reduce((n,r)=>{let[o,i]=r;const s=o.toLowerCase();return e.includes(s)&&t[o]&&(n[s]=i),n},{})}function qf(t,e){const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:id.document.baseURI;if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(id.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;if(!t.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(t);return W(n,e)}async function Vf(t,e,n){try{const r=await async function(t,e,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=e,{url:s,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=t.data,d=qf(s,n.networkDetailAllowUrls)&&!qf(s,n.networkDetailDenyUrls),p=d?function(t,e,n){let{networkCaptureBodies:r,networkRequestHeaders:o}=t;const i=e?function(t,e){if(1===t.length&&"string"!==typeof t[0])return $f(t[0],e);if(2===t.length)return $f(t[1],e);return{}}(e,o):{};if(!r)return zf(i,n,void 0);const s=ru(e),[a,c]=nu(s,of),l=zf(i,n,a);if(c)return Uf(l,c);return l}(n,e.input,l):Hf(l),h=await async function(t,e,n,r){let{networkCaptureBodies:o,networkResponseHeaders:i}=e;if(!t&&void 0!==r)return Hf(r);const s=n?Gf(n.headers,i):{};if(!n||!o&&void 0!==r)return zf(s,r,void 0);const[a,c]=await async function(t){const e=function(t){try{return t.clone()}catch(e){tf&&of.exception(e,"Failed to clone response body")}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=await function(t){return new Promise((e,n)=>{const r=xc(()=>n(new Error("Timeout while trying to read response body")),500);(async function(t){return await t.text()})(t).then(t=>e(t),t=>n(t)).finally(()=>clearTimeout(r))})}(e);return[t]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(tf&&of.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(tf&&of.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(n),l=function(t,e){let{networkCaptureBodies:n,responseBodySize:r,captureDetails:o,headers:i}=e;try{const e=null!==t&&void 0!==t&&t.length&&void 0===r?Ff(t):r;return o?zf(i,e,n?t:void 0):Hf(e)}catch(s){return tf&&of.exception(s,"Failed to serialize response body"),zf(i,r,void 0)}}(a,{networkCaptureBodies:o,responseBodySize:r,captureDetails:t,headers:s});if(c)return Uf(l,c);return l}(d,n,e.response,u);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:p,response:h}}(t,e,n),o=jf("resource.fetch",r);Nf(n.replay,o)}catch(r){tf&&of.exception(r,"Failed to capture fetch breadcrumb")}}function Gf(t,e){const n={};return e.forEach(e=>{t.get(e)&&(n[e]=t.get(e))}),n}function $f(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?Gf(n,e):Array.isArray(n)?{}:Wf(n,e):{}}async function Kf(t,e,n){try{const r=function(t,e,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=e,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:p}=t.data;if(!c)return null;if(!a||!qf(c,n.networkDetailAllowUrls)||qf(c,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:Hf(d),response:Hf(p)}}const h=a[dl],f=h?Wf(h.request_headers,n.networkRequestHeaders):{},m=Wf(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce((t,e)=>{const[n,r]=e.split(": ");return r&&(t[n.toLowerCase()]=r),t},{})}(a),n.networkResponseHeaders),[g,v]=n.networkCaptureBodies?nu(s,of):[void 0],[y,_]=n.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(cn){e.push(cn)}try{return function(t,e){try{if("string"===typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"===typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return tf&&of.exception(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return tf&&of.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(cn){e.push(cn)}return tf&&of.warn("Failed to get xhr response body",...e),[void 0]}(a):[void 0],b=zf(f,d,g),S=zf(m,p,y);return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:v?Uf(b,v):b,response:_?Uf(S,_):S}}(t,e,n),o=jf("resource.xhr",r);Nf(n.replay,o)}catch(r){tf&&of.exception(r,"Failed to capture xhr breadcrumb")}}function Jf(t,e){const{xhr:n,input:r}=e;if(!n)return;const o=Ff(r),i=n.getResponseHeader("content-length")?Bf(n.getResponseHeader("content-length")):function(t,e){try{return Ff("json"===e&&t&&"object"===typeof t?JSON.stringify(t):t)}catch(n){return}}(n.response,n.responseType);void 0!==o&&(t.data.request_body_size=o),void 0!==i&&(t.data.response_body_size=i)}function Yf(t){const e=It();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=t.getOptions(),a={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};e&&e.on("beforeAddBreadcrumb",(t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return null===t||void 0===t?void 0:t.xhr}(n)&&(Jf(e,n),Kf(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return null===t||void 0===t?void 0:t.response}(n)&&(!function(t,e){const{input:n,response:r}=e,o=Ff(n?ru(n):void 0),i=r?Bf(r.headers.get("content-length")):void 0;void 0!==o&&(t.data.request_body_size=o),void 0!==i&&(t.data.response_body_size=i)}(e,n),Vf(e,n,t))}catch(cn){tf&&of.exception(cn,"Error when enriching network breadcrumb")}}(a,t,e))}catch(n){}}function Xf(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Zf(t,e,n){return function(t,e,n){let r,o,i;const s=null!==n&&void 0!==n&&n.maxWait?Math.max(n.maxWait,e):0,a=(null===n||void 0===n?void 0:n.setTimeoutImpl)||setTimeout;function c(){return l(),r=t(),r}function l(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function u(){return o&&clearTimeout(o),o=a(c,e),s&&void 0===i&&(i=a(c,s)),r}return u.cancel=l,u.flush=function(){return void 0!==o||void 0!==i?c():r},u}(t,e,(0,i.A)((0,i.A)({},n),{},{setTimeoutImpl:xc}))}const Qf=s.navigator;function tm(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession())return void(tf&&of.warn("Received replay event after session expired."));const o=r||!e;e=!0,t.clickDetector&&Fh(t.clickDetector,n),t.addUpdate(()=>{if("buffer"===t.recordingMode&&o&&t.setInitialState(),!wf(t,n,o))return!0;if(!o)return!1;const e=t.session;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;wf(t,function(t){const e=t.getOptions();return{type:Rp.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,o),"buffer"===t.recordingMode&&e&&t.eventBuffer){const n=t.eventBuffer.getEarliestTimestamp();n&&(tf&&of.log("Updating session start time to earliest event in buffer to ".concat(new Date(n))),e.started=n,t.getOptions().stickySession&&mf(e))}return null!==e&&void 0!==e&&e.previousSessionId||"session"===t.recordingMode&&t.flush(),!0})}}async function em(t){let{recordingData:e,replayId:n,segmentId:r,eventContext:o,timestamp:s,session:a}=t;const c=function(t){let e,{recordingData:n,headers:r}=t;const o="".concat(JSON.stringify(r),"\n");if("string"===typeof n)e="".concat(o).concat(n);else{const t=(new TextEncoder).encode(o);e=new Uint8Array(t.length+n.length),e.set(t),e.set(n,t.length)}return e}({recordingData:e,headers:{segment_id:r}}),{urls:l,errorIds:u,traceIds:d,initialTimestamp:p}=o,h=It(),f=Et(),m=null===h||void 0===h?void 0:h.getTransport(),g=null===h||void 0===h?void 0:h.getDsn();if(!h||!m||!g||!a.sampled)return Vn({});const v={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:s/1e3,error_ids:u,trace_ids:d,urls:l,replay_id:n,segment_id:r,replay_type:a.sampled},y=await async function(t){let{client:e,scope:n,replayId:r,event:o}=t;const s={event_id:r,integrations:"object"!==typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",o,s);const a=await To(e.getOptions(),o,s,n,e,xt());if(!a)return null;e.emit("postprocessEvent",a,s),a.platform=a.platform||"javascript";const c=e.getSdkMetadata(),{name:l,version:u,settings:d}=(null===c||void 0===c?void 0:c.sdk)||{};return a.sdk=(0,i.A)((0,i.A)({},a.sdk),{},{name:l||"sentry.javascript.unknown",version:u||"0.0.0",settings:d}),a}({scope:f,client:h,replayId:n,event:v});if(!y)return h.recordDroppedEvent("event_processor","replay"),tf&&of.log("An event processor returned `null`, will not send event."),Vn({});delete y.sdkProcessingMetadata;const _=function(t,e,n,r){return li(Si(t,bi(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"===typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(y,c,g,h.getOptions().tunnel);let b;try{b=await m.send(_)}catch(a_){const e=new Error(ad);try{e.cause=a_}catch(w){}throw e}if("number"===typeof b.statusCode&&(b.statusCode<200||b.statusCode>=300))throw new nm(b.statusCode);const S=Hs({},b);if(js(S,"replay"))throw new rm(S);return b}class nm extends Error{constructor(t){super("Transport returned status code ".concat(t))}}class rm extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function om(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,onError:r}=t;if(n.length)try{return await em(t),!0}catch(a_){if(a_ instanceof nm||a_ instanceof rm)throw a_;if(Do("Replays",{_retryCount:e.count}),r&&r(a_),e.count>=3){const t=new Error("".concat(ad," - max retries exceeded"));try{t.cause=a_}catch(o){}throw t}return e.interval*=++e.count,new Promise((r,o)=>{xc(async()=>{try{await om(t,e),r(!0)}catch(n){o(n)}},e.interval)})}}const im="__THROTTLED";function sm(t,e,n){const r=new Map;let o=!1;return function(){const i=Math.floor(Date.now()/1e3);if((t=>{const e=t-n;r.forEach((t,n)=>{n<e&&r.delete(n)})})(i),[...r.values()].reduce((t,e)=>t+e,0)>=e){const t=o;return o=!0,t?"__SKIPPED":im}o=!1;const s=r.get(i)||0;return r.set(i,s+1),t(...arguments)}}class am{constructor(t){let{options:e,recordingOptions:n}=t;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=Zf(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=sm((t,e)=>function(t,e,n){return Ef(t,e)?kf(t,e,n):Promise.resolve(null)}(this,t,e),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:o?o.join(","):""}:void 0;if(i&&(this.clickDetector=new Dh(this,i)),tf){const t=e._experiments;of.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}this._handleVisibilityChange=()=>{"visible"===id.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const t=Bh({category:"ui.blur"});this._doChangeToBackgroundTasks(t)},this._handleWindowFocus=()=>{const t=Bh({category:"ui.focus"});this._doChangeToForegroundTasks(t)},this._handleKeyboardEvent=t=>{qh(this,t)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(t){tf&&of.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:n}=this._options,r=e<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",tf&&of.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):tf&&of.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(tf&&of.log("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(tf&&of.log("Buffering is in progress, call `flush()` to save the replay"));tf&&of.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Sf({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(tf&&of.log("Buffering is in progress, call `flush()` to save the replay"));tf&&of.infoTick("Starting replay in buffer mode");const t=Sf({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=wh((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},this._recordingOptions),"buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{},{emit:tm(this)},function(){var t,e;return/iPhone|iPad|iPod/i.test(null!==(t=null===Qf||void 0===Qf?void 0:Qf.userAgent)&&void 0!==t?t:"")||/Macintosh/i.test(null!==(e=null===Qf||void 0===Qf?void 0:Qf.userAgent)&&void 0!==e?e:"")&&null!==Qf&&void 0!==Qf&&Qf.maxTouchPoints&&(null===Qf||void 0===Qf?void 0:Qf.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}()),{},{onMutation:this._onMutationHandler.bind(this)},t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(a_){this.handleException(a_)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(a_){return this.handleException(a_),!1}}async stop(){let{forceFlush:t=!1,reason:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{var n;tf&&of.log("Stopping Replay".concat(e?" triggered by ".concat(e):"")),Of(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),null===(n=this.eventBuffer)||void 0===n||n.destroy(),this.eventBuffer=null,hf(this)}catch(a_){this.handleException(a_)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),tf&&of.log("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),tf&&of.log("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();tf&&of.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();t&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return null===(t=this.session)||void 0===t?void 0:t.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&yf(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t="".concat(id.location.pathname).concat(id.location.hash).concat(id.location.search),e="".concat(id.location.origin).concat(t);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const n=this._throttledAddEvent(t,e);if(n===im){const t=Bh({category:"replay.throttled"});this.addUpdate(()=>!wf(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}}))}return n}getCurrentRoute(){const t=this.lastActiveSpan||Qr(),e=t&&Zr(t),n=(e&&Vr(e).data||{})[Jn];if(e&&n&&["route","custom"].includes(n))return Vr(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=df({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,n=Sf({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return!bf(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{id.document.addEventListener("visibilitychange",this._handleVisibilityChange),id.addEventListener("blur",this._handleWindowBlur),id.addEventListener("focus",this._handleWindowFocus),id.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=It();cl(zh(t)),ml(Pf(t)),Mf(t),Yf(t),Vo(Lf(t)),e&&(e.on("beforeSendEvent",If(t)),e.on("afterSendEvent",Tf(t)),e.on("createDsc",e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=n)}),e.on("spanStart",e=>{t.lastActiveSpan=e}),e.on("spanEnd",e=>{t.lastActiveSpan=e}),e.on("beforeSendFeedback",async(e,n)=>{var r;const o=t.getSessionId();null!==n&&void 0!==n&&n.includeReplay&&t.isEnabled()&&o&&null!==(r=e.contexts)&&void 0!==r&&r.feedback&&("api"===e.contexts.feedback.source&&await t.sendBufferedReplayOrFlush(),e.contexts.feedback.replay_id=o)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}(this),this._hasInitializedCoreListeners=!0)}catch(a_){this.handleException(a_)}this._performanceCleanupCallback=function(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function n(t){let{entries:n}=t;n.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(t=>{r.push(Yu(t,n))}),r.push(Ku(Gh(Jh,t)),$u(Gh(Xh,t)),Ju(Gh(Zh,t))),()=>{r.forEach(t=>t())}}(this)}_removeListeners(){try{id.document.removeEventListener("visibilitychange",this._handleVisibilityChange),id.removeEventListener("blur",this._handleWindowBlur),id.removeEventListener("focus",this._handleWindowFocus),id.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(a_){this.handleException(a_)}}_doChangeToBackgroundTasks(t){if(!this.session)return;_f(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):tf&&of.log("Document has become active, but session has expired")}_updateUserActivity(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=t}_updateSessionActivity(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Rp.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=(e=this.performanceEntries,e.map($h).filter(Boolean)).concat(this.replayPerformanceEntries);var e;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const e=this._context.initialTimestamp/1e3;t=t.filter(t=>t.start>=e)}return Promise.all(Df(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e||this._requiresManualStart)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var t;const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),null!==(t=this.eventBuffer)&&void 0!==t&&t.hasEvents&&(await async function(t){try{return Promise.all(Df(t,[Xf(id.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await om({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:t=>this.handleException(t)})}catch(a_){this.handleException(a_),this.stop({reason:"sendReplay"});const e=It();if(e){const n=a_ instanceof rm?"ratelimit_backoff":"send_error";e.recordDroppedEvent(n,"replay")}}}else tf&&of.error("No session or eventBuffer found to flush.")}async _flush(){let{force:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void(tf&&of.error("Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,n=Date.now()-e;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return tf&&of.log("Session duration (".concat(Math.floor(n/1e3),"s) is too ").concat(r?"short":"long",", not sending replay.")),void(r&&this._debouncedFlush());const i=this.eventBuffer;i&&0===this.session.segmentId&&!i.hasCheckout&&tf&&of.log("Flushing initial segment without checkout.");const s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(a_){this.handleException(a_)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&mf(this.session)}_onMutationHandler(t){const{ignoreMutations:e}=this._options._experiments;if(null!==e&&void 0!==e&&e.length&&t.some(t=>{const n=function(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch(e){return null}}(t.target),r=e.join(",");return null===n||void 0===n?void 0:n.matches(r)}))return!1;const n=t.length,r=this._options.mutationLimit,o=r&&n>r;if(n>this._options.mutationBreadcrumbLimit||o){const t=Bh({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(t)}return!o||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function cm(t,e){return[...t,...e].join(",")}const lm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',um=["content-length","content-type","accept"];let dm=!1;const pm=t=>new hm(t);class hm{constructor(){let{flushMinDelay:t=cd,flushMaxDelay:e=ld,minReplayDuration:n=hd,maxReplayDuration:r=fd,stickySession:o=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:p=750,mutationLimit:h=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:v=[],networkCaptureBodies:y=!0,networkRequestHeaders:_=[],networkResponseHeaders:b=[],mask:S=[],maskAttributes:w=["title","placeholder","aria-label"],unmask:k=[],block:E=[],unblock:x=[],ignore:C=[],maskFn:A,beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:M}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const R=function(t){let{mask:e,unmask:n,block:r,unblock:o,ignore:i}=t;return{maskTextSelector:cm(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:cm(n,[]),blockSelector:cm(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:cm(o,[]),ignoreSelector:cm(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:S,unmask:k,block:E,unblock:x,ignore:C});if(this._recordingOptions=(0,i.A)((0,i.A)({maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(t,e,n)=>function(t){let{el:e,key:n,maskAttributes:r,maskAllText:o,privacyOptions:i,value:s}=t;return o?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:r.includes(n)||"value"===n&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s:s}({maskAttributes:w,maskAllText:l,privacyOptions:R,key:t,value:e,el:n})},R),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(e){}},recordCrossOriginIframes:Boolean(c.recordCrossOriginIframes)}),this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,fd),stickySession:o,useCompression:s,workerUrl:a,blockAllMedia:d,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:p,mutationLimit:h,slowClickTimeout:f,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:v,networkCaptureBodies:y,networkRequestHeaders:fm(_),networkResponseHeaders:fm(b),beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:M,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(lm):lm),this._isInitialized&&Bt())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return dm}set _isInitialized(t){dm=t}afterAllSetup(t){Bt()&&!this._replay&&(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if(null!==(t=this._replay)&&void 0!==t&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if(null!==(t=this._replay)&&void 0!==t&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const e=function(t,e){const n=e.getOptions(),r=(0,i.A)({sessionSampleRate:0,errorSampleRate:0},t),o=Rr(n.replaysSessionSampleRate),s=Rr(n.replaysOnErrorSampleRate);null==o&&null==s&&D(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")});null!=o&&(r.sessionSampleRate=o);null!=s&&(r.errorSampleRate=s);return r}(this._initialOptions,t);this._replay=new am({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const e=t.getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function fm(t){return[...um,...t.map(t=>t.toLowerCase())]}function mm(){const t=It();return null===t||void 0===t?void 0:t.getIntegrationByName("Replay")}const gm=["type"];var vm=Object.defineProperty,ym=(t,e,n)=>((t,e,n)=>e in t?vm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!==typeof e?e+"":e,n);class _m{constructor(){ym(this,"idNodeMap",new Map),ym(this,"nodeMetaMap",new WeakMap)}getId(t){var e;if(!t)return-1;const n=null===(e=this.getMeta(t))||void 0===e?void 0:e.id;return null!==n&&void 0!==n?n:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach(t=>this.removeNodeFromMap(t))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const n=e.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,e)}replace(t,e){const n=this.getNode(t);if(n){const t=this.nodeMetaMap.get(n);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function bm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t?t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:bm(t.parentNode,e,n,r+1):-1}function Sm(t,e){return n=>{const r=n;if(null===r)return!1;try{if(t)if("string"===typeof t){if(r.matches(".".concat(t)))return!0}else if(function(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}(r,t))return!0;return!(!e||!r.matches(e))}catch(o){return!1}}}const wm="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let km={map:{},getId:()=>(console.error(wm),-1),getNode:()=>(console.error(wm),null),removeNodeFromMap(){console.error(wm)},has:()=>(console.error(wm),!1),reset(){console.error(wm)}};function Em(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,r?n:{set(t){Mm(()=>{n.set.call(this,t)},0),i&&i.set&&i.set.call(this,t)}}),()=>Em(t,e,i||{},!0)}function xm(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],o=n(r);return"function"===typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=o,()=>{t[e]=r}}catch(r){return()=>{}}}function Cm(t,e,n,r,o){if(!t)return!1;const i=function(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch(e){return null}}(t);if(!i)return!1;const s=Sm(e,n);if(!o){const t=r&&i.matches(r);return s(i)&&!t}const a=bm(i,s);let c=-1;return!(a<0)&&(r&&(c=bm(i,Sm(null,r))),a>-1&&c<0||a<c)}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(km=new Proxy(km,{get:(t,e,n)=>("map"===e&&console.error(wm),Reflect.get(t,e,n))})),Date.now().toString();const Am={};function Tm(t){const e=Am[t];if(e)return e;const n=window.document;let r=window[t];if(n&&"function"===typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(e)}catch(o){}return Am[t]=r.bind(window)}function Im(){return Tm("requestAnimationFrame")(...arguments)}function Mm(){return Tm("setTimeout")(...arguments)}var Rm=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(Rm||{});let Om;const Lm=t=>{if(!Om)return t;return function(){try{return t(...arguments)}catch(e){if(Om&&!0===Om(e))return()=>{};throw e}}};for(var Dm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pm="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Nm=0;Nm<64;Nm++)Pm[Dm.charCodeAt(Nm)]=Nm;const Fm=new Map;const Bm=(t,e,n)=>{if(!t||!Hm(t,e)&&"object"!==typeof t)return;const r=function(t,e){let n=Fm.get(t);return n||(n=new Map,Fm.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let o=r.indexOf(t);return-1===o&&(o=r.length,r.push(t)),o};function Um(t,e,n){if(t instanceof Array)return t.map(t=>Um(t,e,n));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){return{rr_type:t.constructor.name,base64:function(t){var e,n=new Uint8Array(t),r=n.length,o="";for(e=0;e<r;e+=3)o+=Dm[n[e]>>2],o+=Dm[(3&n[e])<<4|n[e+1]>>4],o+=Dm[(15&n[e+1])<<2|n[e+2]>>6],o+=Dm[63&n[e+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o}(t)}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[Um(t.buffer,e,n),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}if(t instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:t.toDataURL()}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[Um(t.data,e,n),t.width,t.height]}}if(Hm(t,e)||"object"===typeof t){return{rr_type:t.constructor.name,index:Bm(t,e,n)}}return t}const jm=(t,e,n)=>t.map(t=>Um(t,e,n)),Hm=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(t=>"function"===typeof e[t]);return Boolean(n.find(n=>t instanceof e[n]))};function zm(t,e,n,r,o){const i=[];try{const s=xm(t.HTMLCanvasElement.prototype,"getContext",function(t){return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];if(!Cm(this,e,n,r,!0)){const t=function(t){return"experimental-webgl"===t?"webgl":t}(i);if("__context"in this||(this.__context=t),o&&["webgl","webgl2"].includes(t))if(a[0]&&"object"===typeof a[0]){const t=a[0];t.preserveDrawingBuffer||(t.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return t.apply(this,[i,...a])}});i.push(s)}catch(s){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(t=>t())}}function Wm(t,e,n,r,o,i,s,a){const c=[],l=Object.getOwnPropertyNames(t);for(const d of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if("function"!==typeof t[d])continue;const s=xm(t,d,function(t){return function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];const u=t.apply(this,c);if(Bm(u,a,this),"tagName"in this.canvas&&!Cm(this.canvas,r,o,i,!0)){const t=jm(c,a,this),r={type:e,property:d,args:t};n(this.canvas,r)}return u}});c.push(s)}catch(u){const r=Em(t,d,{set(t){n(this.canvas,{type:e,property:d,args:[t],setter:!0})}});c.push(r)}return c}class qm{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(t,e)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)};const{enableManualSnapshot:e,sampling:n="all",win:r,recordCanvas:o,errorHandler:i}=t;t.sampling=n,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&(Om=i),(o&&"number"===typeof n||e)&&(this.worker=this.initFPSWorker()),this.addWindow(r),e||Lm(()=>{o&&"all"===n&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&"number"===typeof n&&this.initCanvasFPSObserver()})()}reset(){var t;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch(e){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,null===(t=this.worker)||void 0===t||t.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:e="all",blockClass:n,blockSelector:r,unblockSelector:o,recordCanvas:i,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(t)){if(s)return this.windowsSet.add(t),void this.windows.push(new WeakRef(t));Lm(()=>{if(i&&"all"===e&&this.initCanvasMutationObserver(t,n,r,o),i&&"number"===typeof e){const e=zm(t,n,r,o,!0);this.restoreHandlers.push(()=>{e()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,e){null!==e&&void 0!==e&&e.skipRequestAnimationFrame?this.takeSnapshot(performance.now(),!0,t):Im(e=>this.takeSnapshot(e,!0,t))}initFPSWorker(){const t=new Worker(function(){const t=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(t)}());return t.onmessage=t=>{const e=t.data,{id:n}=e;if(this.snapshotInProgressMap.set(n,!1),!("base64"in e))return;const{base64:r,type:o,width:i,height:s}=e;this.mutationCb({id:n,type:Rm["2D"],commands:[{property:"clearRect",args:[0,0,i,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,i,s]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const e=n=>{this.takeSnapshot(n,!1),t=Im(e)};t=Im(e),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,e,n,r){const o=zm(t,e,n,r,!1),i=function(t,e,n,r,o){const i=[],s=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const c of s)try{if("function"!==typeof e.CanvasRenderingContext2D.prototype[c])continue;const s=xm(e.CanvasRenderingContext2D.prototype,c,function(i){return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Cm(this.canvas,n,r,o,!0)||Mm(()=>{const n=jm(a,e,this);t(this.canvas,{type:Rm["2D"],property:c,args:n})},0),i.apply(this,a)}});i.push(s)}catch(a){const n=Em(e.CanvasRenderingContext2D.prototype,c,{set(e){t(this.canvas,{type:Rm["2D"],property:c,args:[e],setter:!0})}});i.push(n)}return()=>{i.forEach(t=>t())}}(this.processMutation.bind(this),t,e,n,r),s=function(t,e,n,r,o){const i=[];return i.push(...Wm(e.WebGLRenderingContext.prototype,Rm.WebGL,t,n,r,o,0,e)),"undefined"!==typeof e.WebGL2RenderingContext&&i.push(...Wm(e.WebGL2RenderingContext.prototype,Rm.WebGL2,t,n,r,o,0,e)),()=>{i.forEach(t=>t())}}(this.processMutation.bind(this),t,e,n,r,this.mirror);this.restoreHandlers.push(()=>{o(),i(),s()})}getCanvasElements(t,e,n){const r=[],o=o=>{o.querySelectorAll("canvas").forEach(o=>{Cm(o,t,e,n,!0)||r.push(o)})};for(const s of this.windows){const t=s.deref();let e;try{e=t&&t.document}catch(i){}e&&o(e)}for(const s of this.shadowDoms){const t=s.deref();t&&o(t)}return r}takeSnapshot(t,e,n){const{sampling:r,blockClass:o,blockSelector:i,unblockSelector:s,dataURLOptions:a,maxCanvasSize:c}=this.options,l=1e3/("all"===r?2:r||2);if(this.lastSnapshotTime&&t-this.lastSnapshotTime<l)return!1;this.lastSnapshotTime=t;return(n?[n]:this.getCanvasElements(o,i,s)).forEach(t=>{const n=this.mirror.getId(t);if(this.mirror.hasNode(t)&&t.width&&t.height&&!this.snapshotInProgressMap.get(n)){if(this.snapshotInProgressMap.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){var r;const e=t.getContext(t.__context);!1===(null===e||void 0===e||null===(r=e.getContextAttributes())||void 0===r?void 0:r.preserveDrawingBuffer)&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then(e=>{var r;null===(r=this.worker)||void 0===r||r.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:c},[e])}).catch(t=>{Lm(()=>{throw this.snapshotInProgressMap.delete(n),t})()})}}),!0}startPendingCanvasMutationFlusher(){Im(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,Im(t)};Im(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)}),Im(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const r=n.map(t=>{const{type:e}=t;return(0,o.A)(t,gm)}),{type:i}=n[0];this.mutationCb({id:e,type:i,commands:r}),this.pendingCanvasMutations.delete(t)}}try{if(2!==Array.from([1],t=>2*t)[0]){var Vm;const t=document.createElement("iframe");document.body.appendChild(t),Array.from=(null===(Vm=t.contentWindow)||void 0===Vm?void 0:Vm.Array.from)||Array.from,document.body.removeChild(t)}}catch(a_){console.debug("Unable to override Array.from",a_)}var Gm;new _m,function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(Gm||(Gm={}));const $m={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Km=1280,Jm=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[e,n]=t.maxCanvasSize||[],r={quality:t.quality||"medium",enableManualSnapshot:t.enableManualSnapshot,maxCanvasSize:[e?Math.min(e,Km):Km,n?Math.min(n,Km):Km]};let o;const s=new Promise(t=>o=t);return{name:"ReplayCanvas",getOptions(){const{quality:t,enableManualSnapshot:e,maxCanvasSize:n}=r;return(0,i.A)({enableManualSnapshot:e,recordCanvas:!0,getCanvasManager:t=>{const r=new qm((0,i.A)((0,i.A)({},t),{},{enableManualSnapshot:e,maxCanvasSize:n,errorHandler:t=>{try{"object"===typeof t&&(t.__rrweb__=!0)}catch(e){}}}));return o(r),r}},$m[t]||$m.medium)},async snapshot(t,e){(await s).snapshot(t,e)}}};function Ym(t,e,n,r,o){if(!t.fetchData)return;const{method:s,url:a}=t.fetchData,c=wr()&&e(a);if(t.endTimestamp&&c){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(!function(t,e){if(e.response){var n;Ar(t,e.response.status);const r=null===(n=e.response)||void 0===n||null===(n=n.headers)||void 0===n?void 0:n.get("content-length");if(r){const e=parseInt(r);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:xr,message:"internal_error"});t.end()}(n,t),delete r[e]))}const{spanOrigin:l="auto.http.browser",propagateTraceparent:u=!1}="object"===typeof o?o:{spanOrigin:o},d=!!Qr(),p=c&&d?xs(function(t,e,n){const r=el(t);return{name:r?"".concat(e," ").concat(nl(r)):e,attributes:Zm(t,r,e,n)}}(a,s,l)):new gs;if(t.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(t.fetchData.url)){const e=t.args[0],n=t.args[1]||{},r=function(t,e,n,r){const o=da({span:n,propagateTraceparent:r}),s=o["sentry-trace"],a=o.baggage,c=o.traceparent;if(!s)return;const l=e.headers||(x(t)?t.headers:void 0);if(l){if(function(t){return"undefined"!==typeof Headers&&k(t,Headers)}(l)){const t=new Headers(l);if(t.get("sentry-trace")||t.set("sentry-trace",s),r&&c&&!t.get("traceparent")&&t.set("traceparent",c),a){const e=t.get("baggage");e?Xm(e)||t.set("baggage","".concat(e,",").concat(a)):t.set("baggage",a)}return t}if(Array.isArray(l)){const t=[...l];l.find(t=>"sentry-trace"===t[0])||t.push(["sentry-trace",s]),r&&c&&!l.find(t=>"traceparent"===t[0])&&t.push(["traceparent",c]);const e=l.find(t=>"baggage"===t[0]&&Xm(t[1]));return a&&!e&&t.push(["baggage",a]),t}{const t="sentry-trace"in l?l["sentry-trace"]:void 0,e="traceparent"in l?l.traceparent:void 0,n="baggage"in l?l.baggage:void 0,o=n?Array.isArray(n)?[...n]:[n]:[],u=n&&(Array.isArray(n)?n.find(t=>Xm(t)):Xm(n));a&&!u&&o.push(a);const d=(0,i.A)((0,i.A)({},l),{},{"sentry-trace":null!==t&&void 0!==t?t:s,baggage:o.length>0?o.join(","):void 0});return r&&c&&!e&&(d.traceparent=c),d}}return(0,i.A)({},o)}(e,n,wr()&&d?p:void 0,u);r&&(t.args[1]=n,n.headers=r)}const h=It();if(h){const e={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};h.emit("beforeOutgoingRequestSpan",p,e)}return p}function Xm(t){return t.split(",").some(t=>t.trim().startsWith(lr))}function Zm(t,e,n,r){const o={url:t,type:"fetch","http.method":n,[Qn]:r,[Zn]:"http.client"};return e&&(tl(e)||(o["http.url"]=e.href,o["server.address"]=e.host),e.search&&(o["http.query"]=e.search),e.hash&&(o["http.fragment"]=e.hash)),o}function Qm(t){return"number"===typeof t&&isFinite(t)}function tg(t,e,n,r){let o=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(r),r));const s=Vr(t).start_timestamp;return s&&s>e&&"function"===typeof t.updateStartTime&&t.updateStartTime(e),As(t,()=>{const t=xs((0,i.A)({startTime:e},o));return t&&t.end(n),t})}function eg(t){var e;const n=It();if(!n)return;const{name:r,transaction:o,attributes:s,startTime:a}=t,{release:c,environment:l,sendDefaultPii:u}=n.getOptions(),d=n.getIntegrationByName("Replay"),p=null===d||void 0===d?void 0:d.getReplayId(),h=Et(),f=h.getUser(),m=void 0!==f?f.email||f.id||f.ip_address:void 0;let g;try{g=h.getScopeData().contexts.profile.profile_id}catch(v){}return xs({name:r,attributes:(0,i.A)({release:c,environment:l,user:m||void 0,profile_id:g||void 0,replay_id:p||void 0,transaction:o,"user_agent.original":null===(e=Sc.navigator)||void 0===e?void 0:e.userAgent,"client.address":u?"{{auto}}":void 0},s),startTime:a,experimental:{standalone:!0}})}function ng(){return Sc.addEventListener&&Sc.performance}function rg(t){return t/1e3}function og(t){let e="unknown",n="unknown",r="";for(const o of t){if("/"===o){[e,n]=t.split("/");break}if(!isNaN(Number(o))){e="h"===r?"http":r,n=t.split(r)[1];break}r+=o}return r===t&&(e=r),{name:e,version:n}}function ig(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch(e){return!1}}function sg(t,e){let n,r=!1;function o(t){!r&&n&&e(t,n),r=!0}Du(()=>{o("pagehide")});const i=t.on("beforeStartNavigationSpan",(t,e)=>{null!==e&&void 0!==e&&e.isRedirect||(o("navigation"),ag(i,s))}),s=t.on("afterStartPageLoadSpan",t=>{n=t.spanContext().spanId,ag(s)})}function ag(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(t=>t&&setTimeout(t,0))}function cg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((ct()||performance.timeOrigin)+t)/1e3}const lg=new WeakMap,ug=new Map,dg={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function pg(t,e){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:c,onRequestSpanStart:l}=(0,i.A)((0,i.A)({},dg),e),u="function"===typeof s?s:t=>!0,d=t=>function(t,e){const n=M();if(n){let o,i;try{o=new URL(t,n),i=new URL(n).origin}catch(r){return!1}const s=o.origin===i;return e?W(o.toString(),e)||s&&W(o.pathname,e):s}{const n=!!t.match(/^\/(?!\/)/);return e?W(t,e):n}}(t,c),p={},h=t.getOptions().propagateTraceparent;n&&(t.addEventProcessor(t=>("transaction"===t.type&&t.spans&&t.spans.forEach(t=>{if("http.client"===t.op){const e=ug.get(t.span_id);e&&(t.timestamp=e/1e3,ug.delete(t.span_id))}}),t)),o&&function(t){const e="fetch-body-resolved";is(e,t),ss(e,()=>$c(Kc))}(t=>{if(t.response){const e=lg.get(t.response);e&&t.endTimestamp&&ug.set(e,t.endTimestamp)}}),Gc(t=>{const e=Ym(t,u,d,p,{propagateTraceparent:h});if(t.response&&t.fetchData.__span&&lg.set(t.response,t.fetchData.__span),e){const n=fg(t.fetchData.url),r=n?rl(n).host:void 0;e.setAttributes({"http.url":n,"server.address":r}),a&&hg(e),null===l||void 0===l||l(e,{headers:t.headers})}})),r&&pl(t=>{const e=function(t,e,n,r,o){const s=t.xhr,a=null===s||void 0===s?void 0:s[dl];if(!s||s.__sentry_own_request__||!a)return;const{url:c,method:l}=a,u=wr()&&e(c);if(t.endTimestamp&&u){const t=s.__sentry_xhr_span_id__;if(!t)return;const e=r[t];return void(e&&void 0!==a.status_code&&(Ar(e,a.status_code),e.end(),delete r[t]))}const d=fg(c),p=rl(d||c),h=ol(c),f=!!Qr(),m=u&&f?xs({name:"".concat(l," ").concat(h),attributes:(0,i.A)((0,i.A)({url:c,type:"xhr","http.method":l,"http.url":d,"server.address":null===p||void 0===p?void 0:p.host,[Qn]:"auto.http.browser",[Zn]:"http.client"},(null===p||void 0===p?void 0:p.search)&&{"http.query":null===p||void 0===p?void 0:p.search}),(null===p||void 0===p?void 0:p.hash)&&{"http.fragment":null===p||void 0===p?void 0:p.hash})}):new gs;s.__sentry_xhr_span_id__=m.spanContext().spanId,r[s.__sentry_xhr_span_id__]=m,n(c)&&function(t,e,n){const{"sentry-trace":r,baggage:o,traceparent:i}=da({span:e,propagateTraceparent:n});r&&function(t,e,n,r){var o;const i=null===(o=t.__sentry_xhr_v3__)||void 0===o?void 0:o.request_headers;if(null!==i&&void 0!==i&&i["sentry-trace"]||!t.setRequestHeader)return;try{if(t.setRequestHeader("sentry-trace",e),!r||null!==i&&void 0!==i&&i.traceparent||t.setRequestHeader("traceparent",r),n){const e=null===i||void 0===i?void 0:i.baggage;e&&e.split(",").some(t=>t.trim().startsWith("sentry-"))||t.setRequestHeader("baggage",n)}}catch(s){}}(t,r,o,i)}(s,wr()&&f?m:void 0,o);const g=It();g&&g.emit("beforeOutgoingRequestSpan",m,t);return m}(t,u,d,p,h);if(e){let o;a&&hg(e);try{var n;o=new Headers(null===(n=t.xhr.__sentry_xhr_v3__)||void 0===n?void 0:n.request_headers)}catch(r){}null===l||void 0===l||l(e,{headers:o})}})}function hg(t){const{url:e}=Vr(t).data;if(!e||"string"!==typeof e)return;const n=Yu("resource",r=>{let{entries:o}=r;o.forEach(r=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"===typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(r)&&r.name.endsWith(e)){(function(t){const e=[];if(void 0!=t.nextHopProtocol){const{name:n,version:r}=og(t.nextHopProtocol);e.push(["network.protocol.version",r],["network.protocol.name",n])}return ct()?[...e,["http.request.redirect_start",cg(t.redirectStart)],["http.request.fetch_start",cg(t.fetchStart)],["http.request.domain_lookup_start",cg(t.domainLookupStart)],["http.request.domain_lookup_end",cg(t.domainLookupEnd)],["http.request.connect_start",cg(t.connectStart)],["http.request.secure_connection_start",cg(t.secureConnectionStart)],["http.request.connection_end",cg(t.connectEnd)],["http.request.request_start",cg(t.requestStart)],["http.request.response_start",cg(t.responseStart)],["http.request.response_end",cg(t.responseEnd)]]:e})(r).forEach(e=>t.setAttribute(...e)),setTimeout(n)}})})}function fg(t){try{return new URL(t,Yo.location.origin).href}catch(e){return}}const mg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function gg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Map;let r,o=!1,s="externalFinish",a=!e.disableAutoFinish;const c=[],{idleTimeout:l=mg.idleTimeout,finalTimeout:u=mg.finalTimeout,childSpanTimeout:p=mg.childSpanTimeout,beforeSpanEnd:h}=e,f=It();if(!f||!wr()){const t=new gs;return ro(t,(0,i.A)({sample_rate:"0",sampled:"false"},so(t))),t}const m=Et(),g=Qr(),v=function(t){const e=xs(t);return mt(Et(),e),d&&B.log("[Tracing] Started span is an idle span"),e}(t);function y(){r&&(clearTimeout(r),r=void 0)}function _(t){y(),r=setTimeout(()=>{!o&&0===n.size&&a&&(s="idleTimeout",v.end(t))},l)}function b(t){r=setTimeout(()=>{!o&&a&&(s="heartbeatFailed",v.end(t))},p)}function S(t){o=!0,n.clear(),c.forEach(t=>t()),mt(m,g);const e=Vr(v),{start_timestamp:r}=e;if(!r)return;e.data[tr]||v.setAttribute(tr,s),B.log('[Tracing] Idle span "'.concat(e.op,'" finished'));const i=Xr(v).filter(t=>t!==v);let a=0;i.forEach(e=>{e.isRecording()&&(e.setStatus({code:xr,message:"cancelled"}),e.end(t),d&&B.log("[Tracing] Cancelling span since span ended early",JSON.stringify(e,void 0,2)));const n=Vr(e),{timestamp:r=0,start_timestamp:o=0}=n,i=o<=t,s=r-o<=(u+l)/1e3;if(d){const t=JSON.stringify(e,void 0,2);i?s||B.log("[Tracing] Discarding span since it finished after idle span final timeout",t):B.log("[Tracing] Discarding span since it happened after idle span was finished",t)}s&&i||(!function(t,e){t[Kr]&&t[Kr].delete(e)}(v,e),a++)}),a>0&&v.setAttribute("sentry.idle_span_discarded_spans",a)}return v.end=new Proxy(v.end,{apply(t,e,n){if(h&&h(v),e instanceof gs)return;const[r,...o]=n,i=Wr(r||at()),s=Xr(v).filter(t=>t!==v);if(!s.length)return S(i),Reflect.apply(t,e,[i,...o]);const a=s.map(t=>Vr(t).timestamp).filter(t=>!!t),c=a.length?Math.max(...a):void 0,l=Vr(v).start_timestamp,d=Math.min(l?l+u/1e3:1/0,Math.max(l||-1/0,Math.min(i,c||1/0)));return S(d),Reflect.apply(t,e,[d,...o])}}),c.push(f.on("spanStart",t=>{if(o||t===v||Vr(t).timestamp||t instanceof _s&&t.isStandaloneSpan())return;var e;Xr(v).includes(t)&&(e=t.spanContext().spanId,y(),n.set(e,!0),b(at()+p/1e3))})),c.push(f.on("spanEnd",t=>{var e;o||(e=t.spanContext().spanId,n.has(e)&&n.delete(e),0===n.size&&_(at()+l/1e3))})),c.push(f.on("idleSpanEnableAutoFinish",t=>{t===v&&(a=!0,_(),n.size&&b())})),e.disableAutoFinish||_(),setTimeout(()=>{o||(v.setStatus({code:xr,message:"deadline_exceeded"}),s="finalTimeout",v.end())},u),v}function vg(t){let e,n=0;if(!ig("layout-shift"))return;const r=$u(t=>{let{metric:r}=t;const o=r.entries[r.entries.length-1];o&&(n=r.value,e=o)},!0);sg(t,(t,o)=>{!function(t,e,n,r){var o;bc&&B.log("Sending CLS span (".concat(t,")"));const i=rg((ct()||0)+((null===e||void 0===e?void 0:e.startTime)||0)),s=Et().getScopeData().transactionName,a=e?T(null===(o=e.sources[0])||void 0===o?void 0:o.node):"Layout shift",c={[Qn]:"auto.http.browser.cls",[Zn]:"ui.webvital.cls",[ir]:(null===e||void 0===e?void 0:e.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};null!==e&&void 0!==e&&e.sources&&e.sources.forEach((t,e)=>{c["cls.source.".concat(e+1)]=T(t.node)});const l=eg({name:a,transaction:s,attributes:c,startTime:i});l&&(l.addEvent("cls",{[er]:"",[nr]:t}),l.end(i))}(n,e,o,t),r()})}function yg(t){let e,n=0;if(!ig("largest-contentful-paint"))return;const r=Ku(t=>{let{metric:r}=t;const o=r.entries[r.entries.length-1];o&&(n=r.value,e=o)},!0);sg(t,(t,o)=>{!function(t,e,n,r){bc&&B.log("Sending LCP span (".concat(t,")"));const o=rg((ct()||0)+((null===e||void 0===e?void 0:e.startTime)||0)),i=Et().getScopeData().transactionName,s=e?T(e.element):"Largest contentful paint",a={[Qn]:"auto.http.browser.lcp",[Zn]:"ui.webvital.lcp",[ir]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};e&&(e.element&&(a["lcp.element"]=T(e.element)),e.id&&(a["lcp.id"]=e.id),e.url&&(a["lcp.url"]=e.url.trim().slice(0,200)),null!=e.loadTime&&(a["lcp.loadTime"]=e.loadTime),null!=e.renderTime&&(a["lcp.renderTime"]=e.renderTime),null!=e.size&&(a["lcp.size"]=e.size));const c=eg({name:s,transaction:i,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[er]:"millisecond",[nr]:t}),c.end(o))}(n,e,o,t),r()})}let _g,bg,Sg=0,wg={};function kg(t){let{recordClsStandaloneSpans:e,recordLcpStandaloneSpans:n,client:r}=t;const o=ng();if(o&&ct()){o.mark&&Sc.performance.mark("sentry-tracing-init");const t=n?yg(r):Ku(t=>{let{metric:e}=t;const n=e.entries[e.entries.length-1];n&&(wg.lcp={value:e.value,unit:"millisecond"},_g=n)},!0),i=function(){return t=t=>{let{metric:e}=t;e.entries[e.entries.length-1]&&(wg.ttfb={value:e.value,unit:"millisecond"})},nd("ttfb",t,td,Vu);var t}(),s=e?vg(r):$u(t=>{let{metric:e}=t;const n=e.entries[e.entries.length-1];n&&(wg.cls={value:e.value,unit:""},bg=n)},!0);return()=>{null===t||void 0===t||t(),i(),null===s||void 0===s||s()}}return()=>{}}function Eg(t,e){const n=ng(),r=ct();if(null===n||void 0===n||!n.getEntries||!r)return;const o=rg(r),i=n.getEntries(),{op:s,start_timestamp:a}=Vr(t);i.slice(Sg).forEach(n=>{const r=rg(n.startTime),i=rg(Math.max(0,n.duration));if(!("navigation"===s&&a&&o+r<a))switch(n.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{xg(t,e,r,n)}),xg(t,e,"secureConnection",n,"TLS/SSL"),xg(t,e,"fetch",n,"cache"),xg(t,e,"domainLookup",n,"DNS"),function(t,e,n){const r=n+rg(e.requestStart),o=n+rg(e.responseEnd),i=n+rg(e.responseStart);e.responseEnd&&(tg(t,r,o,{op:"browser.request",name:e.name,attributes:{[Qn]:"auto.ui.browser.metrics"}}),tg(t,i,o,{op:"browser.response",name:e.name,attributes:{[Qn]:"auto.ui.browser.metrics"}}))}(t,e,n)}(t,n,o);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,o,i){if(["mark","measure"].includes(e.entryType)&&W(e.name,i))return;const s=lu(!1),a=rg(s?s.requestStart:0),c=o+Math.max(n,a),l=o+n,u=l+r,d={[Qn]:"auto.resource.browser.metrics"};c!==l&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c);(function(t,e){try{const o=e.detail;if(!o)return;if("object"===typeof o){for(const[e,r]of Object.entries(o))if(r&&_(r))t["sentry.browser.measure.detail.".concat(e)]=r;else if(void 0!==r)try{t["sentry.browser.measure.detail.".concat(e)]=JSON.stringify(r)}catch(n){}return}if(_(o))return void(t["sentry.browser.measure.detail"]=o);try{t["sentry.browser.measure.detail"]=JSON.stringify(o)}catch(r){}}catch(o){}})(d,e),c<=u&&tg(t,c,u,{name:e.name,op:e.entryType,attributes:d})}(t,n,r,i,o,e.ignorePerformanceApiSpans);const s=bu(),a=n.startTime<s.firstHiddenTime;"first-paint"===n.name&&a&&(wg.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&a&&(wg.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(t,e,n,r,o,i,s){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const a=e.initiatorType?"resource.".concat(e.initiatorType):"resource.other";if(null!==s&&void 0!==s&&s.includes(a))return;const c=rl(n),l={[Qn]:"auto.resource.browser.metrics"};Cg(l,e,"transferSize","http.response_transfer_size"),Cg(l,e,"encodedBodySize","http.response_content_length"),Cg(l,e,"decodedBodySize","http.decoded_response_content_length");const u=e.deliveryType;null!=u&&(l["http.response_delivery_type"]=u);const d=e.renderBlockingStatus;d&&(l["resource.render_blocking_status"]=d);c.protocol&&(l["url.scheme"]=c.protocol.split(":").pop());c.host&&(l["server.address"]=c.host);if(l["url.same_origin"]=n.includes(Sc.location.origin),null!=e.nextHopProtocol){const{name:t,version:n}=og(e.nextHopProtocol);l["network.protocol.name"]=t,l["network.protocol.version"]=n}const p=i+r,h=p+o;tg(t,p,h,{name:n.replace(Sc.location.origin,""),op:a,attributes:l})}(t,n,n.name,r,i,o,e.ignoreResourceSpans)}}),Sg=Math.max(i.length-1,0),function(t){const e=Sc.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),Qm(n.rtt)&&(wg["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Qm(e.deviceMemory)&&t.setAttribute("deviceMemory","".concat(e.deviceMemory," GB"));Qm(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===s&&(function(t){const e=lu(!1);if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(wg),e.recordClsOnPageloadSpan||delete wg.cls,e.recordLcpOnPageloadSpan||delete wg.lcp,Object.entries(wg).forEach(t=>{let[e,n]=t;vs(e,n.value,n.unit)}),t.setAttribute("performance.timeOrigin",o),t.setAttribute("performance.activationStart",uu()),function(t,e){var n;_g&&e.recordLcpOnPageloadSpan&&(_g.element&&t.setAttribute("lcp.element",T(_g.element)),_g.id&&t.setAttribute("lcp.id",_g.id),_g.url&&t.setAttribute("lcp.url",_g.url.trim().slice(0,200)),null!=_g.loadTime&&t.setAttribute("lcp.loadTime",_g.loadTime),null!=_g.renderTime&&t.setAttribute("lcp.renderTime",_g.renderTime),t.setAttribute("lcp.size",_g.size));null!==(n=bg)&&void 0!==n&&n.sources&&e.recordClsOnPageloadSpan&&bg.sources.forEach((e,n)=>t.setAttribute("cls.source.".concat(n+1),T(e.node)))}(t,e)),_g=void 0,bg=void 0,wg={}}function xg(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;const s=function(t){if("secureConnection"===t)return"connectEnd";if("fetch"===t)return"domainLookupStart";return"".concat(t,"End")}(n),a=e[s],c=e["".concat(n,"Start")];c&&a&&tg(t,r+rg(c),r+rg(a),{op:"browser.".concat(o),name:e.name,attributes:(0,i.A)({[Qn]:"auto.ui.browser.metrics"},"redirect"===n&&null!=e.redirectCount?{"http.redirect_count":e.redirectCount}:{})})}function Cg(t,e,n,r){const o=e[n];null!=o&&o<2147483647&&(t[r]=o)}const Ag=[],Tg=new Map;function Ig(){if(ng()&&ct()){const t=Ju(Rg);return()=>{t()}}return()=>{}}const Mg={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const Rg=t=>{let{metric:e}=t;if(void 0==e.value)return;const n=rg(e.value);if(n>60)return;const r=e.entries.find(t=>t.duration===e.value&&Mg[t.name]);if(!r)return;const{interactionId:o}=r,i=Mg[r.name],s=rg(ct()+r.startTime),a=Qr(),c=a?Zr(a):void 0,l=(null!=o?Tg.get(o):void 0)||c,u=l?Vr(l).description:Et().getScopeData().transactionName,d=eg({name:T(r.target),transaction:u,attributes:{[Qn]:"auto.http.browser.inp",[Zn]:"ui.interaction.".concat(i),[ir]:r.duration},startTime:s});d&&(d.addEvent("inp",{[er]:"millisecond",[nr]:e.value}),d.end(s+n))};const Og=t=>{let{entries:e}=t;const n=Qr(),r=n?Zr(n):void 0,o=r?Vr(r).description:Et().getScopeData().transactionName;e.forEach(t=>{var e;const n=t;if(!n.identifier)return;const r=n.name,i=n.renderTime,s=n.loadTime,[a,c]=s?[rg(s),"load-time"]:i?[rg(i),"render-time"]:[at(),"entry-emission"],l="image-paint"===r?rg(Math.max(0,(null!==i&&void 0!==i?i:0)-(null!==s&&void 0!==s?s:0))):0,u={[Qn]:"auto.ui.browser.elementtiming",[Zn]:"ui.elementtiming",[Jn]:"component","sentry.span_start_time_source":c,"sentry.transaction_name":o,"element.id":n.id,"element.type":(null===(e=n.element)||void 0===e||null===(e=e.tagName)||void 0===e?void 0:e.toLowerCase())||"unknown","element.size":n.naturalWidth&&n.naturalHeight?"".concat(n.naturalWidth,"x").concat(n.naturalHeight):void 0,"element.render_time":i,"element.load_time":s,"element.url":n.url||void 0,"element.identifier":n.identifier,"element.paint_type":r};ks({name:"element[".concat(n.identifier,"]"),attributes:u,startTime:a,onlyIfParent:!0},t=>{t.end(a+l)})})};const Lg="sentry_previous_trace",Dg="sentry.previous_trace";function Pg(t,e){let{linkPreviousTrace:n,consistentTraceSampling:r}=e;const o="session-storage"===n;let s=o?function(){try{var t;const e=null===(t=Yo.sessionStorage)||void 0===t?void 0:t.getItem(Lg);return JSON.parse(e)}catch(e){return}}():void 0;t.on("spanStart",t=>{if(Zr(t)!==t)return;const e=Et().getPropagationContext();s=function(t,e,n){const r=Vr(e);function o(){try{var t,e,o;return null!==(t=Number(null===(e=n.dsc)||void 0===e?void 0:e.sample_rate))&&void 0!==t?t:Number(null===(o=r.data)||void 0===o?void 0:o[Yn])}catch(i){return 0}}const s={spanContext:e.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!t)return s;const a=t.spanContext;if(a.traceId===r.trace_id)return t;Date.now()/1e3-t.startTimestamp<=3600&&(vl&&B.log("Adding previous_trace ".concat(a," link to span ").concat((0,i.A)({op:r.op},e.spanContext()))),e.addLink({context:a,attributes:{[cr]:"previous_trace"}}),e.setAttribute(Dg,"".concat(a.traceId,"-").concat(a.spanId,"-").concat(Ng(a)?1:0)));return s}(s,t,e),o&&function(t){try{Yo.sessionStorage.setItem(Lg,JSON.stringify(t))}catch(cn){vl&&B.warn("Could not store previous trace in sessionStorage",cn)}}(s)});let a=!0;r&&t.on("beforeSampling",t=>{if(!s)return;const e=Et(),n=e.getPropagationContext();a&&n.parentSpanId?a=!1:(e.setPropagationContext((0,i.A)((0,i.A)({},n),{},{dsc:(0,i.A)((0,i.A)({},n.dsc),{},{sample_rate:String(s.sampleRate),sampled:String(Ng(s.spanContext))}),sampleRand:s.sampleRand})),t.parentSampled=Ng(s.spanContext),t.parentSampleRate=s.sampleRate,t.spanAttributes=(0,i.A)((0,i.A)({},t.spanAttributes),{},{[Xn]:s.sampleRate}))})}function Ng(t){return 1===t.traceFlags}const Fg=(0,i.A)((0,i.A)({},mg),{},{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{}},dg),Bg=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={name:void 0,source:void 0},n=Yo.document,{enableInp:r,enableElementTiming:o,enableLongTask:a,enableLongAnimationFrame:c,_experiments:{enableInteractions:l,enableStandaloneClsSpans:u,enableStandaloneLcpSpans:d},beforeStartSpan:p,idleTimeout:h,finalTimeout:f,childSpanTimeout:m,markBackgroundSpan:g,traceFetch:v,traceXHR:y,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:b,enableHTTPTimings:S,ignoreResourceSpans:w,ignorePerformanceApiSpans:k,instrumentPageLoad:E,instrumentNavigation:x,detectRedirects:C,linkPreviousTrace:A,consistentTraceSampling:I,onRequestSpanStart:O}=(0,i.A)((0,i.A)({},Fg),t);let L,D;function P(t,r){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s="pageload"===r.op,a=r.name,c=p?p(r):r,l=c.attributes||{};if(a!==c.name&&(l[Jn]="custom",c.attributes=l),!o){const t=ot();return void xs((0,i.A)((0,i.A)({},c),{},{startTime:t})).end(t)}e.name=c.name,e.source=l[Jn];const g=gg(c,{idleTimeout:h,finalTimeout:f,childSpanTimeout:m,disableAutoFinish:s,beforeSpanEnd:e=>{var n;null===(n=L)||void 0===n||n(),Eg(e,{recordClsOnPageloadSpan:!u,recordLcpOnPageloadSpan:!d,ignoreResourceSpans:w,ignorePerformanceApiSpans:k}),qg(t,void 0);const r=Et(),o=r.getPropagationContext();r.setPropagationContext((0,i.A)((0,i.A)({},o),{},{traceId:g.spanContext().traceId,sampled:Gr(g),dsc:so(e)}))}});function v(){n&&["interactive","complete"].includes(n.readyState)&&t.emit("idleSpanEnableAutoFinish",g)}qg(t,g),s&&n&&(n.addEventListener("readystatechange",()=>{v()}),v())}return{name:"BrowserTracing",setup(t){if(Ua(),L=kg({recordClsStandaloneSpans:u||!1,recordLcpStandaloneSpans:d||!1,client:t}),r&&Ig(),o&&ng()&&ct()&&Yu("element",Og),c&&s.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(t=>{const e=Qr();if(e)for(const n of t.getEntries()){if(!n.scripts[0])continue;const t=rg(ct()+n.startTime),{start_timestamp:r,op:o}=Vr(e);if("navigation"===o&&r&&t<r)continue;const i=rg(n.duration),s={[Qn]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:c,invokerType:l,sourceURL:u,sourceFunctionName:d,sourceCharPosition:p}=a;s["browser.script.invoker"]=c,s["browser.script.invoker_type"]=l,u&&(s["code.filepath"]=u),d&&(s["code.function"]=d),-1!==p&&(s["browser.script.source_char_position"]=p),tg(e,t,t+i,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:s})}}).observe({type:"long-animation-frame",buffered:!0}):a&&Yu("longtask",t=>{let{entries:e}=t;const n=Qr();if(!n)return;const{op:r,start_timestamp:o}=Vr(n);for(const i of e){const t=rg(ct()+i.startTime),e=rg(i.duration);"navigation"===r&&o&&t<o||tg(n,t,t+e,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Qn]:"auto.ui.browser.metrics"}})}}),l&&Yu("event",t=>{let{entries:e}=t;const n=Qr();if(n)for(const r of e)if("click"===r.name){const t=rg(ct()+r.startTime),e=rg(r.duration),o={name:T(r.target),op:"ui.interaction.".concat(r.name),startTime:t,attributes:{[Qn]:"auto.ui.browser.metrics"}},i=R(r.target);i&&(o.attributes["ui.component_name"]=i),tg(n,t,t+e,o)}}),C&&n){const t=()=>{D=at()};addEventListener("click",t,{capture:!0}),addEventListener("keydown",t,{capture:!0,passive:!0})}function e(){const e=Wg(t);e&&!Vr(e).timestamp&&(vl&&B.log("[Tracing] Finishing current active span with op: ".concat(Vr(e).op)),e.setAttribute(tr,"cancelled"),e.end())}t.on("startNavigationSpan",(n,r)=>{if(It()!==t)return;if(null!==r&&void 0!==r&&r.isRedirect)return vl&&B.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),void P(t,(0,i.A)({op:"navigation.redirect"},n),!1);D=void 0,e(),xt().setPropagationContext({traceId:pt(),sampleRand:Math.random()});const o=Et();o.setPropagationContext({traceId:pt(),sampleRand:Math.random()}),o.setSDKProcessingMetadata({normalizedRequest:void 0}),P(t,(0,i.A)({op:"navigation"},n))}),t.on("startPageLoadSpan",function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(It()!==t)return;e();const o=Dr(r.sentryTrace||Hg("sentry-trace"),r.baggage||Hg("baggage")),s=Et();s.setPropagationContext(o),s.setSDKProcessingMetadata({normalizedRequest:ti()}),P(t,(0,i.A)({op:"pageload"},n))})},afterAllSetup(t){let n=M();if("off"!==A&&Pg(t,{linkPreviousTrace:A,consistentTraceSampling:I}),Yo.location){if(E){const e=ct();Ug(t,{name:Yo.location.pathname,startTime:e?e/1e3:void 0,attributes:{[Jn]:"url",[Qn]:"auto.pageload.browser"}})}x&&ml(e=>{var r;let{to:o,from:i}=e;if(void 0===i&&-1!==(null===(r=n)||void 0===r?void 0:r.indexOf(o)))return void(n=void 0);n=void 0;const s=el(o),a=Wg(t),c=a&&C&&function(t,e){const n=Vr(t),r=ot(),o=n.start_timestamp;if(r-o>Vg)return!1;if(e&&r-e<=Vg)return!1;return!0}(a,D);jg(t,{name:(null===s||void 0===s?void 0:s.pathname)||Yo.location.pathname,attributes:{[Jn]:"url",[Qn]:"auto.navigation.browser"}},{url:o,isRedirect:c})})}g&&(Yo.document?Yo.document.addEventListener("visibilitychange",()=>{const t=Qr();if(!t)return;const e=Zr(t);if(Yo.document.hidden&&e){const t="cancelled",{op:n,status:r}=Vr(e);vl&&B.log("[Tracing] Transaction: ".concat(t," -> since tab moved to the background, op: ").concat(n)),r||e.setStatus({code:xr,message:t}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):vl&&B.warn("[Tracing] Could not set up background tab detection due to lack of global document")),l&&function(t,e,n,r,o){const i=Yo.document;let s;const a=()=>{const i="ui.action.click",a=Wg(t);if(a){const t=Vr(a).op;if(["navigation","pageload"].includes(t))return void(vl&&B.warn("[Tracing] Did not create ".concat(i," span because a pageload or navigation span is in progress.")))}s&&(s.setAttribute(tr,"interactionInterrupted"),s.end(),s=void 0),o.name?s=gg({name:o.name,op:i,attributes:{[Jn]:o.source||"url"}},{idleTimeout:e,finalTimeout:n,childSpanTimeout:r}):vl&&B.warn("[Tracing] Did not create ".concat(i," transaction because _latestRouteName is missing."))};i&&addEventListener("click",a,{capture:!0})}(t,h,f,m,e),r&&function(){const t=t=>{let{entries:e}=t;const n=Qr(),r=n&&Zr(n);e.forEach(t=>{if(!function(t){return"duration"in t}(t)||!r)return;const e=t.interactionId;if(null!=e&&!Tg.has(e)){if(Ag.length>10){const t=Ag.shift();Tg.delete(t)}Ag.push(e),Tg.set(e,r)}})};Yu("event",t),Yu("first-input",t)}(),pg(t,{traceFetch:v,traceXHR:y,trackFetchStreamPerformance:_,tracePropagationTargets:t.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:S,onRequestSpanStart:O})}}};function Ug(t,e,n){t.emit("startPageLoadSpan",e,n),Et().setTransactionName(e.name);const r=Wg(t);return r&&t.emit("afterStartPageLoadSpan",r),r}function jg(t,e,n){const{url:r,isRedirect:o}=n||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:o}),t.emit("startNavigationSpan",e,{isRedirect:o});const s=Et();return s.setTransactionName(e.name),r&&!o&&s.setSDKProcessingMetadata({normalizedRequest:(0,i.A)((0,i.A)({},ti()),{},{url:r})}),Wg(t)}function Hg(t){const e=Yo.document,n=null===e||void 0===e?void 0:e.querySelector("meta[name=".concat(t,"]"));return(null===n||void 0===n?void 0:n.getAttribute("content"))||void 0}const zg="_sentry_idleSpan";function Wg(t){return t[zg]}function qg(t,e){V(t,zg,e)}const Vg=1.5;const Gg=100,$g=5e3,Kg=36e5;function Jg(t){function e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];d&&B.log("[Offline]:",...e)}return n=>{const r=t(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const o=n.createStore(n);let i,s=$g;function a(t){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const t=await o.shift();t&&(e("Attempting to send previously queued event"),t[0].sent_at=(new Date).toISOString(),l(t,!0).catch(t=>{e("Failed to retry sending",t)}))},t),"number"!==typeof i&&i.unref&&i.unref()}function c(){i||(a(s),s=Math.min(2*s,Kg))}async function l(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i&&pi(t,["replay_event","replay_recording"]))return await o.push(t),a(Gg),{};try{if(n.shouldSend&&!1===await n.shouldSend(t))throw new Error("Envelope not sent because `shouldSend` callback returned false");const e=await r.send(t);let o=Gg;var l,u;if(e)if(null!==(l=e.headers)&&void 0!==l&&l["retry-after"])o=Us(e.headers["retry-after"]);else if(null!==(u=e.headers)&&void 0!==u&&u["x-sentry-rate-limits"])o=6e4;else if((e.statusCode||0)>=400)return e;return a(o),s=$g,e}catch(cn){if(await function(t,e,r){return!pi(t,["client_report"])&&(!n.shouldStore||n.shouldStore(t,e,r))}(t,cn,s))return i?await o.unshift(t):await o.push(t),c(),e("Error sending. Event queued.",cn),{};throw cn}}return n.flushAtStartup&&c(),{send:l,flush:t=>(void 0===t&&(s=$g,a(Gg)),r.flush(t))}}}function Yg(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Xg(t){return Yg(t.getAllKeys())}function Zg(t){let e;function n(){return void 0==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Yg(n);return t=>r.then(n=>t(n.transaction(e,"readwrite").objectStore(e)))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{push:async e=>{try{const r=await fi(e);await function(t,e,n){return t(t=>Xg(t).then(r=>{if(!(r.length>=n))return t.put(e,Math.max(...r,0)+1),Yg(t.transaction)}))}(n(),r,t.maxQueueSize||30)}catch(r){}},unshift:async e=>{try{const r=await fi(e);await function(t,e,n){return t(t=>Xg(t).then(r=>{if(!(r.length>=n))return t.put(e,Math.min(...r,0)-1),Yg(t.transaction)}))}(n(),r,t.maxQueueSize||30)}catch(r){}},shift:async()=>{try{const t=await function(t){return t(t=>Xg(t).then(e=>{const n=e[0];if(null!=n)return Yg(t.get(n)).then(e=>(t.delete(n),Yg(t.transaction).then(()=>e)))}))}(n());if(t)return mi(t)}catch(t){}}}}function Qg(){return function(t){return e=>{const n=t((0,i.A)((0,i.A)({},e),{},{createStore:Zg}));return Yo.addEventListener("online",async t=>{await n.flush()}),n}}(Jg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc))}var tv;const ev=1e6,nv=String(0),rv="main",ov=Yo.navigator;let iv="",sv="",av="",cv=(null===ov||void 0===ov?void 0:ov.userAgent)||"",lv="";const uv=(null===ov||void 0===ov?void 0:ov.language)||(null===ov||void 0===ov||null===(tv=ov.languages)||void 0===tv?void 0:tv[0])||"";const dv=null===ov||void 0===ov?void 0:ov.userAgentData;var pv;function hv(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[nv]:{name:rv}}},o=t.samples[0];if(!o)return r;const i=o.timestamp,s=ct(),a="number"===typeof performance.timeOrigin?performance.timeOrigin:s||0,c=a-(s||a);return t.samples.forEach((o,s)=>{if(void 0===o.stackId)return void 0===e&&(e=n,r.stacks[e]=[],n++),void(r.samples[s]={elapsed_since_start_ns:((o.timestamp+c-i)*ev).toFixed(0),stack_id:e,thread_id:nv});let a=t.stacks[o.stackId];const l=[];for(;a;){l.push(a.frameId);const e=t.frames[a.frameId];e&&void 0===r.frames[a.frameId]&&(r.frames[a.frameId]={function:e.name,abs_path:"number"===typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),a=void 0===a.parentId?void 0:t.stacks[a.parentId]}const u={elapsed_since_start_ns:((o.timestamp+c-i)*ev).toFixed(0),stack_id:n,thread_id:nv};r.stacks[n]=l,r.samples[s]=u,n++}),r}(t):t}function fv(t,e,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(void 0===n||null===n)throw new TypeError("Cannot construct profiling event envelope without a valid profile. Got ".concat(n," instead."));const o=function(t){var e;const n=null===(e=t.contexts)||void 0===e||null===(e=e.trace)||void 0===e?void 0:e.trace_id;return"string"===typeof n&&32!==n.length&&vl&&B.log("[Profiling] Invalid traceId: ".concat(n," on profiled event")),"string"!==typeof n?"":n}(r),i=hv(n),s=e||("number"===typeof r.start_timestamp?1e3*r.start_timestamp:1e3*at()),a="number"===typeof r.timestamp?1e3*r.timestamp:1e3*at();return{event_id:t,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||qn,runtime:{name:"javascript",version:Yo.navigator.userAgent},os:{name:iv,version:sv,build_number:cv},device:{locale:uv,model:lv,manufacturer:cv,architecture:av,is_emulator:!1},debug_meta:{images:gv(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||X(),trace_id:o,active_thread_id:nv,relative_start_ns:"0",relative_end_ns:(1e6*(a-s)).toFixed(0)}]}}function mv(t){return"pageload"===Vr(t).op}function gv(t){const e=It(),n=null===e||void 0===e?void 0:e.getOptions(),r=null===n||void 0===n?void 0:n.stackParser;return r?function(t,e){const n=mo(t);if(!n)return[];const r=[];for(const o of e)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}(r,t):[]}"object"===typeof(pv=dv)&&null!==pv&&"getHighEntropyValues"in pv&&dv.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{var e;if(iv=t.platform||"",av=t.architecture||"",lv=t.model||"",sv=t.platformVersion||"",null!==(e=t.fullVersionList)&&void 0!==e&&e.length){const e=t.fullVersionList[t.fullVersionList.length-1];cv="".concat(e.brand," ").concat(e.version)}}).catch(t=>{});let vv=!1;function yv(t){if(vv)return vl&&B.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return vl&&B.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=It(),n=null===e||void 0===e?void 0:e.getOptions();if(!n)return vl&&B.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!==typeof(o=r)&&"boolean"!==typeof o||"number"===typeof o&&isNaN(o)?(vl&&B.warn("[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(o)," of type ").concat(JSON.stringify(typeof o),".")),0):!0===o||!1===o||!(o<0||o>1)||(vl&&B.warn("[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ".concat(o,".")),0)))return vl&&B.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return vl&&B.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(vl&&B.log("[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),!1)}function _v(t,e,n,r){return function(t){return t.samples.length<2?(vl&&B.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(vl&&B.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?fv(t,e,n,r):null}const bv=new Map;function Sv(t){const e=bv.get(t);return e&&bv.delete(t),e}function wv(t){let e;mv(t)&&(e=1e3*at());const n=function(){const t=Yo.Profiler;if("function"!==typeof t)return void(vl&&B.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(3e3);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(cn){vl&&(B.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),B.log("[Profiling] Disabling profiling for current user session.")),vv=!0}}();if(!n)return;vl&&B.log("[Profiling] started profiling span: ".concat(Vr(t).description));const r=X();async function o(){if(t&&n)return n.stop().then(e=>{i&&(Yo.clearTimeout(i),i=void 0),vl&&B.log("[Profiling] stopped profiling of span: ".concat(Vr(t).description)),e?function(t,e){if(bv.set(t,e),bv.size>30){const t=bv.keys().next().value;bv.delete(t)}}(r,e):vl&&B.log("[Profiling] profiler returned null profile for: ".concat(Vr(t).description),"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started")}).catch(t=>{vl&&B.log("[Profiling] error while stopping profiler:",t)})}Et().setContext("profile",{profile_id:r,start_timestamp:e});let i=Yo.setTimeout(()=>{vl&&B.log("[Profiling] max profile duration elapsed, stopping profiling for:",Vr(t).description),o()},3e4);const s=t.end.bind(t);t.end=function(){return t?(o().then(()=>{s()},()=>{s()}),t):s()}}const kv=()=>({name:"BrowserProfiling",setup(t){const e=Qr(),n=e&&Zr(e);n&&mv(n)&&yv(n)&&wv(n),t.on("spanStart",t=>{t===Zr(t)&&yv(t)&&wv(t)}),t.on("beforeEnvelope",t=>{if(!bv.size)return;const e=function(t){const e=[];return di(t,(t,n)=>{if("transaction"===n)for(let o=1;o<t.length;o++){var r;const n=t[o];null!==n&&void 0!==n&&null!==(r=n.contexts)&&void 0!==r&&null!==(r=r.profile)&&void 0!==r&&r.profile_id&&e.push(t[o])}}),e}(t);if(!e.length)return;const n=[];for(const i of e){var r,o;const t=null===i||void 0===i?void 0:i.contexts,e=null===t||void 0===t||null===(r=t.profile)||void 0===r?void 0:r.profile_id,s=null===t||void 0===t||null===(o=t.profile)||void 0===o?void 0:o.start_timestamp;if("string"!==typeof e){vl&&B.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!e){vl&&B.log("[Profiling] cannot find profile for a span without a profile context");continue}null!==t&&void 0!==t&&t.profile&&delete t.profile;const a=Sv(e);if(!a){vl&&B.log("[Profiling] Could not retrieve profile for span: ".concat(e));continue}const c=_v(e,s,a,i);c&&n.push(c)}!function(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n])}(t,n)})}});const Ev=function(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sidecarUrl||"http://localhost:8969/stream";return{name:"SpotlightBrowser",setup:()=>{vl&&B.log("Using Sidecar URL",t)},processEvent:t=>function(t){var e;return Boolean("transaction"===t.type&&t.spans&&(null===(e=t.contexts)||void 0===e?void 0:e.trace)&&"ui.action.click"===t.contexts.trace.op&&t.spans.some(t=>{let{description:e}=t;return null===e||void 0===e?void 0:e.includes("#sentry-spotlight")}))}(t)?null:t,afterAllSetup:e=>{!function(t,e){const n=kc("fetch");let r=0;t.on("beforeEnvelope",t=>{r>3?B.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r):n(e,{method:"POST",body:fi(t),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(t=>{t.status>=200&&t.status<400&&(r=0)},t=>{r++,B.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",t)})})}(e,t)}}};const xv=()=>({name:"LaunchDarkly",processEvent:(t,e,n)=>oa(t)});function Cv(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(t,e,n)=>{ia(t,e.value),sa(t,e.value)}}}const Av=()=>({name:"OpenFeature",processEvent:(t,e,n)=>oa(t)});class Tv{after(t,e){ia(e.flagKey,e.value),sa(e.flagKey,e.value)}error(t,e,n){ia(t.flagKey,t.defaultValue),sa(t.flagKey,t.defaultValue)}}const Iv=t=>{let{featureFlagClientClass:e}=t;return{name:"Unleash",setupOnce(){q(e.prototype,"isEnabled",Mv)},processEvent:(t,e,n)=>oa(t)}};function Mv(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=n[0],i=t.apply(this,n);return"string"===typeof o&&"boolean"===typeof i?(ia(o,i),sa(o,i)):vl&&B.error("[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ".concat(o," (").concat(typeof o,"), result: ").concat(i," (").concat(typeof i,")")),i}}const Rv=t=>{let{featureFlagClient:e}=t;return{name:"Statsig",setup(t){e.on("gate_evaluation",t=>{ia(t.gate.name,t.gate.value),sa(t.gate.name,t.gate.value)})},processEvent:(t,e,n)=>oa(t)}};async function Ov(){const t=It();if(!t)return"no-client-active";if(!t.getDsn())return"no-dsn-configured";try{await Ts(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch(e){return"sentry-unreachable"}}const Lv=t=>{let{worker:e}=t;return{name:"WebWorker",setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Dv(t))},addWorker:t=>Dv(t)}};function Dv(t){t.addEventListener("message",t=>{var e;b(e=t.data)&&!0===e._sentryMessage&&"_sentryDebugIds"in e&&(b(e._sentryDebugIds)||void 0===e._sentryDebugIds)&&(t.stopImmediatePropagation(),vl&&B.log("Sentry debugId web worker message received",t.data),Yo._sentryDebugIds=(0,i.A)((0,i.A)({},t.data._sentryDebugIds),Yo._sentryDebugIds))})}function Pv(t){var e;let{self:n}=t;n.postMessage({_sentryMessage:!0,_sentryDebugIds:null!==(e=n._sentryDebugIds)&&void 0!==e?e:void 0})}var Nv=n(950);function Fv(t){const e=(0,i.A)({},t);return tc(e,"react"),Do("react",{version:Nv.version}),Fl(e)}function Bv(t,e,n){let{componentStack:r}=e;if(function(t){const e=t.match(/^([^.]+)/);return null!==e&&parseInt(e[0])>=17}(Nv.version)&&h(t)&&r){const e=new Error(t.message);e.name="React ErrorBoundary ".concat(t.name),e.stack=r,function(t,e){const n=new WeakSet;!function t(e,r){if(!n.has(e))return e.cause?(n.add(e),t(e.cause,r)):void(e.cause=r)}(t,e)}(t,e)}return At(e=>(e.setContext("react",{componentStack:r}),Ro(t,n)))}function Uv(t){return(e,n)=>{const r=Bv(e,n);t&&t(e,n,r)}}const jv="ui.react.render",Hv="ui.react.mount";var zv=n(876);const Wv=zv||n.t(zv,2),qv="unknown";class Vv extends Nv.Component{constructor(t){super(t);const{name:e,disabled:n=!1}=this.props;n||(this._mountSpan=xs({name:"<".concat(e,">"),onlyIfParent:!0,op:Hv,attributes:{[Qn]:"auto.ui.react.profiler","ui.component_name":e}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate(t){let{updateProps:e,includeUpdates:n=!0}=t;if(n&&this._mountSpan&&e!==this.props.updateProps){const t=Object.keys(e).filter(t=>e[t]!==this.props.updateProps[t]);if(t.length>0){const e=at();this._updateSpan=As(this._mountSpan,()=>xs({name:"<".concat(this.props.name,">"),onlyIfParent:!0,op:"ui.react.update",startTime:e,attributes:{[Qn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":t}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=at(),{name:e,includeRender:n=!0}=this.props;if(this._mountSpan&&n){const n=Vr(this._mountSpan).timestamp;As(this._mountSpan,()=>{const r=xs({onlyIfParent:!0,name:"<".concat(e,">"),op:jv,startTime:n,attributes:{[Qn]:"auto.ui.react.profiler","ui.component_name":e}});r&&r.end(t)})}}render(){return this.props.children}}function Gv(t,e){const n=(null===e||void 0===e?void 0:e.name)||t.displayName||t.name||qv,r=r=>Nv.createElement(Vv,(0,i.A)((0,i.A)({},e),{},{name:n,updateProps:r}),Nv.createElement(t,(0,i.A)({},r)));return r.displayName="profiler(".concat(n,")"),Wv(r,t),r}function $v(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disabled:!1,hasRenderSpan:!0};const[n]=Nv.useState(()=>{if(null===e||void 0===e||!e.disabled)return xs({name:"<".concat(t,">"),onlyIfParent:!0,op:Hv,attributes:{[Qn]:"auto.ui.react.profiler","ui.component_name":t}})});Nv.useEffect(()=>(n&&n.end(),()=>{if(n&&e.hasRenderSpan){const e=Vr(n).timestamp,r=at(),o=xs({name:"<".concat(t,">"),onlyIfParent:!0,op:jv,startTime:e,attributes:{[Qn]:"auto.ui.react.profiler","ui.component_name":t}});o&&o.end(r)}}),[])}Object.assign(Vv,{defaultProps:{disabled:!1,includeRender:!0,includeUpdates:!0}});const Kv="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Jv="unknown",Yv={componentStack:null,error:null,eventId:null};class Xv extends Nv.Component{constructor(t){super(t),this.state=Yv,this._openFallbackReportDialog=!0;const e=It();e&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=e.on("afterSendEvent",e=>{!e.type&&this._lastEventId&&e.event_id===this._lastEventId&&jl((0,i.A)((0,i.A)({},t.dialogOptions),{},{eventId:this._lastEventId}))}))}componentDidCatch(t,e){const{componentStack:n}=e,{beforeCapture:r,onError:o,showDialog:s,dialogOptions:a}=this.props;At(c=>{r&&r(c,t,n);const l=null!=this.props.handled?this.props.handled:!!this.props.fallback,u=Bv(t,e,{mechanism:{handled:l}});o&&o(t,n,u),s&&(this._lastEventId=u,this._openFallbackReportDialog&&jl((0,i.A)((0,i.A)({},a),{},{eventId:u}))),this.setState({error:t,componentStack:n,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:e,eventId:n}=this.state,{onUnmount:r}=this.props;r&&(this.state===Yv?r(null,null,null):r(t,e,n)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:e,componentStack:n,eventId:r}=this.state;t&&t(e,n,r),this.setState(Yv)}render(){const{fallback:t,children:e}=this.props,n=this.state;if(null===n.componentStack)return"function"===typeof e?e():e;const r="function"===typeof t?Nv.createElement(t,{error:n.error,componentStack:n.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:n.eventId}):t;return Nv.isValidElement(r)?r:(t&&Kv&&B.warn("fallback did not produce a valid ReactElement"),null)}}function Zv(t,e){const n=t.displayName||t.name||Jv,r=Nv.memo(n=>Nv.createElement(Xv,(0,i.A)({},e),Nv.createElement(t,(0,i.A)({},n))));return r.displayName="errorBoundary(".concat(n,")"),Wv(r,t),r}const Qv="redux.action",ty="info",ey={attachReduxState:!0,actionTransformer:t=>t,stateTransformer:t=>t||null};function ny(t){const e=(0,i.A)((0,i.A)({},ey),t);return t=>(n,r)=>{function o(t){return(n,r)=>{const o=t(n,r),i=Et(),s=e.actionTransformer(r);"undefined"!==typeof s&&null!==s&&ns({category:Qv,data:s,type:ty});const a=e.stateTransformer(o);if("undefined"!==typeof a&&null!==a){const t=It(),e=null===t||void 0===t?void 0:t.getOptions(),n={state:{type:"redux",value:a}};V(n,"__sentry_override_normalization_depth__",3+((null===e||void 0===e?void 0:e.normalizeDepth)||3)),i.setContext("state",n)}else i.setContext("state",null);const{configureScopeWithState:c}=e;return"function"===typeof c&&c(i,o),o}}e.attachReduxState&&Ct().addEventProcessor((t,e)=>{try{void 0===t.type&&"redux"===t.contexts.state.state.type&&(e.attachments=[...e.attachments||[],{filename:"redux_state.json",data:JSON.stringify(t.contexts.state.state.value)}])}catch(n){}return t});const i=t(o(n),r);return i.replaceReducer=new Proxy(i.replaceReducer,{apply:function(t,e,n){t.apply(e,[o(n[0])])}}),i}}function ry(t){const e=Bg((0,i.A)((0,i.A)({},t),{},{instrumentPageLoad:!1,instrumentNavigation:!1})),{history:n,routes:r,match:o,instrumentPageLoad:s=!0,instrumentNavigation:a=!0}=t;return(0,i.A)((0,i.A)({},e),{},{afterAllSetup(t){e.afterAllSetup(t),s&&Yo.location&&oy(r,Yo.location,o,function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"url";Ug(t,{name:e,attributes:{[Zn]:"pageload",[Qn]:"auto.pageload.react.reactrouter_v3",[Jn]:n}})}),a&&n.listen&&n.listen(e=>{"PUSH"!==e.action&&"POP"!==e.action||oy(r,e,o,function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"url";jg(t,{name:e,attributes:{[Zn]:"navigation",[Qn]:"auto.navigation.react.reactrouter_v3",[Jn]:n}})})})}})}function oy(t,e,n,r){let o=e.pathname;n({location:e,routes:t},(t,e,n)=>{if(t||!n)return r(o);const i=function(t){if(!Array.isArray(t)||0===t.length)return"";const e=t.filter(t=>!!t.path);let n=-1;for(let o=e.length-1;o>=0;o--){var r;if(null!==(r=e[o].path)&&void 0!==r&&r.startsWith("/")){n=o;break}}return e.slice(n).reduce((t,e)=>{let{path:n}=e;const r="/"===t||""===t?n:"/".concat(n);return"".concat(t).concat(r)},"")}(n.routes||[]);return 0===i.length||"/*"===i?r(o):(o=i,r(o,"route"))})}function iy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t,r=Bg((0,i.A)((0,i.A)({},e),{},{instrumentNavigation:!1,instrumentPageLoad:!1})),{instrumentPageLoad:o=!0,instrumentNavigation:s=!0}=e;return(0,i.A)((0,i.A)({},r),{},{afterAllSetup(t){r.afterAllSetup(t);const e=Yo.location;if(o&&e){const r=n.matchRoutes(e.pathname,n.options.parseSearch(e.search),{preload:!1,throwOnError:!1}),o=r[r.length-1];Ug(t,{name:o?o.routeId:e.pathname,attributes:(0,i.A)({[Zn]:"pageload",[Qn]:"auto.pageload.react.tanstack_router",[Jn]:o?"route":"url"},sy(o))})}s&&n.subscribe("onBeforeNavigate",e=>{var r;if(e.toLocation.state===(null===(r=e.fromLocation)||void 0===r?void 0:r.state))return;const o=n.matchRoutes(e.toLocation.pathname,e.toLocation.search,{preload:!1,throwOnError:!1}),i=o[o.length-1],s=Yo.location,a=jg(t,{name:i?i.routeId:s.pathname,attributes:{[Zn]:"navigation",[Qn]:"auto.navigation.react.tanstack_router",[Jn]:i?"route":"url"}}),c=n.subscribe("onResolved",t=>{if(c(),a){const e=n.matchRoutes(t.toLocation.pathname,t.toLocation.search,{preload:!1,throwOnError:!1}),r=e[e.length-1];r&&(a.updateName(r.routeId),a.setAttribute(Jn,"route"),a.setAttributes(sy(r)))}})})}})}function sy(t){if(!t)return{};const e={};return Object.entries(t.params).forEach(t=>{let[n,r]=t;e["url.path.params.".concat(n)]=r,e["url.path.parameter.".concat(n)]=r,e["params.".concat(n)]=r}),e}function ay(t){const e=Bg((0,i.A)((0,i.A)({},t),{},{instrumentPageLoad:!1,instrumentNavigation:!1})),{history:n,routes:r,matchPath:o,instrumentPageLoad:s=!0,instrumentNavigation:a=!0}=t;return(0,i.A)((0,i.A)({},e),{},{afterAllSetup(t){e.afterAllSetup(t),ly(t,s,a,n,"reactrouter_v4",r,o)}})}function cy(t){const e=Bg((0,i.A)((0,i.A)({},t),{},{instrumentPageLoad:!1,instrumentNavigation:!1})),{history:n,routes:r,matchPath:o,instrumentPageLoad:s=!0,instrumentNavigation:a=!0}=t;return(0,i.A)((0,i.A)({},e),{},{afterAllSetup(t){e.afterAllSetup(t),ly(t,s,a,n,"reactrouter_v5",r,o)}})}function ly(t,e,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;function a(t){if(0===i.length||!s)return[t,"url"];const e=uy(i,t,s);for(const n of e)if(n.match.isExact)return[n.match.path,"route"];return[t,"url"]}if(e){const e=r.location?r.location.pathname:Yo.location?Yo.location.pathname:void 0;if(e){const[n,r]=a(e);Ug(t,{name:n,attributes:{[Zn]:"pageload",[Qn]:"auto.pageload.react.".concat(o),[Jn]:r}})}}n&&r.listen&&r.listen((e,n)=>{if(n&&("PUSH"===n||"POP"===n)){const[n,r]=a(e.pathname);jg(t,{name:n,attributes:{[Zn]:"navigation",[Qn]:"auto.navigation.react.".concat(o),[Jn]:r}})}})}function uy(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t.some(t=>{const o=t.path?n(e,t):r.length?r[r.length-1].match:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}}(e);return o&&(r.push({route:t,match:o}),t.routes&&uy(t.routes,e,n,r)),!!o}),r}function dy(t){const e=t.displayName||t.name,n=e=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.computedMatch)&&void 0!==n&&n.isExact){const t=e.computedMatch.path,n=function(){const t=Qr(),e=t&&Zr(t);if(!e)return;const n=Vr(e).op;return"navigation"===n||"pageload"===n?e:void 0}();Et().setTransactionName(t),n&&(n.updateName(t),n.setAttribute(Jn,"route"))}return Nv.createElement(t,(0,i.A)({},e))};return n.displayName="sentryRoute(".concat(e,")"),Wv(n,t),n}function py(t,e,n,r){const o=new Proxy(t,{apply(t,o,i){const s=t.apply(o,i);return function(t,e,n,r){w(t)?t.then(t=>{Array.isArray(t)&&r(t,e)}).catch(t=>{Kv&&B.warn("Error resolving async handler '".concat(n,"' for route"),e,t)}):Array.isArray(t)&&r(t,e)}(s,e,n,r),s}});return V(o,"__sentry_proxied__",!0),o}function hy(t,e){if(t.handle&&"object"===typeof t.handle)for(const n of Object.keys(t.handle)){const r=t.handle[n];"function"!==typeof r||r.__sentry_proxied__||(t.handle[n]=py(r,t,n,e))}if(Array.isArray(t.children))for(const n of t.children)hy(n,e)}let fy,my,gy,vy,yy,_y,by=!1;function Sy(t){return"*"===(e=t.route.path||"")[e.length-1]?e.slice(0,-1):e;var e}function wy(t){return t.params["*"]||""}function ky(t){return"/"===t[t.length-1]?t.slice(0,-1):t}function Ey(t){return t.endsWith("*")}function xy(t,e){var n;return Ey(t)&&!(null===(n=e.route.children)||void 0===n||!n.length)||!1}function Cy(t){var e;return!(t.children||!t.element||null===(e=t.path)||void 0===e||!e.endsWith("/*"))}function Ay(t,e,n){const r=t||by?Iy(e,n):e;return["/"===r[r.length-1]||"/*"===r.slice(-2)?r.slice(0,-1):r,"route"]}function Ty(t){return t.split(/\\?\//).filter(t=>t.length>0&&","!==t).length}function Iy(t,e){if(!e||"/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return t;const n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?t:t.slice(n)||"/"}function My(t){return"/"===t[0]?t:"/".concat(t)}function Ry(t,e){const n=fy(t,e);if(!n||0===n.length)return"";for(const r of n)if(r.route.path&&"*"!==r.route.path){const n=Sy(r),o=Iy(e.pathname,My(r.pathnameBase));return e.pathname===o?ky(o):ky(ky(n||"")+My(Ry(t.filter(t=>t!==r.route),{pathname:o})))}return""}function Oy(t,e){const n=fy(e,t);if(n)for(const r of n)if(Cy(r.route)&&wy(r))return!0;return!1}function Ly(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||0===t.length)return[by?Iy(e.pathname,r):e.pathname,"url"];let o="";if(n)for(const i of n){const t=i.route;if(t){if(t.index)return Ay(o,i.pathname,r);const n=t.path;if(n&&!xy(n,i)){const t="/"===n[0]||"/"===o[o.length-1]?n:"/".concat(n);if(o=ky(o)+My(t),ky(e.pathname)===ky(r+i.pathname))return Ty(o)===Ty(i.pathname)||Ey(o)?(xy(o,i)&&(o=o.slice(0,-1)),[(by?"":r)+o,"route"]):[(by?"":r)+t,"route"]}}}return[by?Iy(e.pathname,r):e.pathname||"","url"]}function Dy(t,e,n,r){let o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s="url";const a=Oy(t,n);return a&&(o=My(Ry(n,t)),s="route"),a&&o||([o,s]=Ly(e,t,r,i)),[o||t.pathname,s]}let Py=!1;const Ny=new WeakSet;const Fy=new Set;function By(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.forEach(t=>{Fy.add(t),Py&&hy(t,By)}),e&&function(t,e){const n=e.children||[],r=t.filter(t=>!n.some(e=>e===t||t.path&&e.path===t.path||t.id&&e.id===t.id));r.length>0&&(e.children=[...n,...r])}(t,e);const r=Yy();if(r){const t=Vr(r).op;let e=n;if(!e&&"undefined"!==typeof Yo){const t=Yo.location;t&&(e={pathname:t.pathname})}e&&("pageload"===t?Ky({activeRootSpan:r,location:{pathname:e.pathname},routes:Array.from(Fy),allRoutes:Array.from(Fy)}):"navigation"===t&&Uy(r,e,Array.from(Fy),!1,_y))}}function Uy(t,e,n){let r=arguments.length>4?arguments[4]:void 0;if(!(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&(null===t||void 0===t?void 0:t.__sentry_navigation_name_set__))){const o=r(n,e),[i,s]=Dy(e,n,n,o||[],""),a=Vr(t);i&&!a.timestamp&&(t.updateName(i),t.setAttribute(Jn,s),V(t,"__sentry_navigation_name_set__",!0))}}function jy(t,e){return my&&gy&&vy&&_y?function(n,r){if(Gy(n),Py)for(const t of n)hy(t,By);const o=qy(r),i=t(n,o),s=null===r||void 0===r?void 0:r.basename,a=Yy();return"POP"===i.state.historyAction&&a&&Ky({activeRootSpan:a,location:i.state.location,routes:n,basename:s,allRoutes:Array.from(Fy)}),i.subscribe(t=>{"PUSH"!==t.historyAction&&"POP"!==t.historyAction||("idle"!==t.navigation.state?requestAnimationFrame(()=>{Vy({location:t.location,routes:n,navigationType:t.historyAction,version:e,basename:s,allRoutes:Array.from(Fy)})}):Vy({location:t.location,routes:n,navigationType:t.historyAction,version:e,basename:s,allRoutes:Array.from(Fy)}))}),i}:(Kv&&B.warn("reactRouterV".concat(e,"Instrumentation was unable to wrap the `createRouter` function because of one or more missing parameters.")),t)}function Hy(t,e){return my&&gy&&vy&&_y?function(n,r){if(Gy(n),Py)for(const t of n)hy(t,By);const o=qy(r,!0),i=t(n,o),s=null===r||void 0===r?void 0:r.basename,a=Yy();let c;const l=null===r||void 0===r?void 0:r.initialEntries,u=null===r||void 0===r?void 0:r.initialIndex,d=l&&1===l.length,p=void 0!==u&&l&&l[u];c=d?l[0]:p?l[u]:void 0;const h=c?"string"===typeof c?{pathname:c}:c:i.state.location;return"POP"===i.state.historyAction&&a&&Ky({activeRootSpan:a,location:h,routes:n,basename:s,allRoutes:Array.from(Fy)}),i.subscribe(t=>{const r=t.location;"PUSH"!==t.historyAction&&"POP"!==t.historyAction||Vy({location:r,routes:n,navigationType:t.historyAction,version:e,basename:s,allRoutes:Array.from(Fy)})}),i}:(Kv&&B.warn("reactRouterV".concat(e,"Instrumentation was unable to wrap the `createMemoryRouter` function because of one or more missing parameters.")),t)}function zy(t,e){const n=Bg((0,i.A)((0,i.A)({},t),{},{instrumentPageLoad:!1,instrumentNavigation:!1})),{useEffect:r,useLocation:o,useNavigationType:s,createRoutesFromChildren:a,matchRoutes:c,stripBasename:l,enableAsyncRouteHandlers:u=!1,instrumentPageLoad:d=!0,instrumentNavigation:p=!0}=t;return(0,i.A)((0,i.A)({},n),{},{setup(t){n.setup(t),my=r,gy=o,vy=s,_y=c,yy=a,Py=u,function(t){fy=t,by=arguments.length>1&&void 0!==arguments[1]&&arguments[1]}(c,l||!1)},afterAllSetup(t){var r;n.afterAllSetup(t);const o=null===(r=Yo.location)||void 0===r?void 0:r.pathname;d&&o&&Ug(t,{name:o,attributes:{[Jn]:"url",[Zn]:"pageload",[Qn]:"auto.pageload.react.reactrouter_v".concat(e)}}),p&&Ny.add(t)}})}function Wy(t,e){if(!my||!gy||!vy||!_y)return Kv&&B.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),t;const n=n=>{const r=Nv.useRef(!0),{routes:o,locationArg:i}=n,s=t(o,i),a=gy(),c=vy(),l="string"===typeof i||null!==i&&void 0!==i&&i.pathname?i:a;return my(()=>{const t="string"===typeof l?{pathname:l}:l;r.current?(Gy(o),Ky({activeRootSpan:Yy(),location:t,routes:o,allRoutes:Array.from(Fy)}),r.current=!1):Vy({location:t,routes:o,navigationType:c,version:e,allRoutes:Array.from(Fy)})},[c,l]),s};return(t,e)=>Nv.createElement(n,{routes:t,locationArg:e})}function qy(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!("patchRoutesOnNavigation"in t)||"function"!==typeof t.patchRoutesOnNavigation)return t||{};const n=t.patchRoutesOnNavigation;return(0,i.A)((0,i.A)({},t),{},{patchRoutesOnNavigation:async t=>{const r=null===t||void 0===t?void 0:t.path;if(!e){const e=null===t||void 0===t?void 0:t.patch;e&&(t.patch=(t,n)=>{Gy(n);const o=Yy();return o&&"navigation"===Vr(o).op&&Uy(o,{pathname:r,search:"",hash:"",state:null,key:"default"},Array.from(Fy),!0,_y),e(t,n)})}const o=await n(t),i=Yy();if(i&&"navigation"===Vr(i).op){var s;const t=e?r:r||(null===(s=Yo.location)||void 0===s?void 0:s.pathname);t&&Uy(i,{pathname:t,search:"",hash:"",state:null,key:"default"},Array.from(Fy),!1,_y)}return o}})}function Vy(t){const{location:e,routes:n,navigationType:r,version:o,matches:i,basename:s,allRoutes:a}=t,c=Array.isArray(i)?i:_y(n,e,s),l=It();if(l&&Ny.has(l)&&("PUSH"===r||"POP"===r)&&c){const[t,r]=Dy(e,n,a||n,c,s),i=function(t,e){if(t.some(t=>t.lazy||t.handle&&"object"===typeof t.handle&&Object.values(t.handle).some(t=>"function"===typeof t)))return!0;const n=fy(t,e);return!n||0===n.length}(a||n,e),u=Qr(),d=u&&Vr(u);"navigation"===(null===d||void 0===d?void 0:d.op)&&u&&d?function(t,e,n,r,o){const i=null===t||void 0===t?void 0:t.__sentry_navigation_name_set__;i||(e.timestamp||null===t||void 0===t||t.updateName(n),o||V(t,"__sentry_navigation_name_set__",!0));null===t||void 0===t||t.setAttribute(Jn,r)}(u,d,t,r,i):function(t,e,n,r,o){const i=jg(t,{name:e,attributes:{[Jn]:n,[Zn]:"navigation",[Qn]:"auto.navigation.react.reactrouter_v".concat(r)}});!o&&i&&V(i,"__sentry_navigation_name_set__",!0)}(l,t,r,o,i)}}function Gy(t){t.forEach(t=>{$y(t).forEach(t=>{Fy.add(t)})})}function $y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return e.has(t)||(e.add(t),t.children&&!t.index&&t.children.forEach(t=>{$y(t,e).forEach(t=>{e.add(t)})})),e}function Ky(t){let{activeRootSpan:e,location:n,routes:r,matches:o,basename:i,allRoutes:s}=t;const a=Array.isArray(o)?o:_y(s||r,n,i);if(a){let t,o="url";const c=Oy(n,s||r);c&&(t=My(Ry(s||r,n)),o="route"),c&&t||([t,o]=Ly(r,n,a,i)),Et().setTransactionName(t||"/"),e&&(e.updateName(t),e.setAttribute(Jn,o))}}function Jy(t,e){if(!my||!gy||!vy||!yy||!_y)return Kv&&B.warn("reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ".concat(my,". useLocation: ").concat(gy,". useNavigationType: ").concat(vy,".\n      createRoutesFromChildren: ").concat(yy,". matchRoutes: ").concat(_y,".")),t;const n=n=>{const r=Nv.useRef(!0),o=gy(),s=vy();return my(()=>{const t=yy(n.children);r.current?(Gy(t),Ky({activeRootSpan:Yy(),location:o,routes:t,allRoutes:Array.from(Fy)}),r.current=!1):Vy({location:o,routes:t,navigationType:s,version:e,allRoutes:Array.from(Fy)})},[o,s]),Nv.createElement(t,(0,i.A)({},n))};return Wv(n,t),n}function Yy(){const t=Qr(),e=t?Zr(t):void 0;if(!e)return;const n=Vr(e).op;return"navigation"===n||"pageload"===n?e:void 0}function Xy(t){return zy(t,"6")}function Zy(t){return Wy(t,"6")}function Qy(t){return jy(t,"6")}function t_(t){return Hy(t,"6")}function e_(t){return Jy(t,"6")}function n_(t){return zy(t,"7")}function r_(t){return Jy(t,"7")}function o_(t){return jy(t,"7")}function i_(t){return Hy(t,"7")}function s_(t){return Wy(t,"7")}},876:(t,e,n)=>{var r=n(630),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return r.isMemo(t)?s:a[t.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var o=h(n);o&&o!==f&&t(e,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=c(e),m=c(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=p(n,v);try{l(e,v,y)}catch(_){}}}}return e}}}]);